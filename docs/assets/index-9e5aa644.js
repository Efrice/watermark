var ts=Object.defineProperty;var ns=(e,t,s)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var nt=(e,t,s)=>(ns(e,typeof t!="symbol"?t+"":t,s),s),Bt=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var r=(e,t,s)=>(Bt(e,t,"read from private field"),s?s.call(e):t.get(e)),q=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},de=(e,t,s,n)=>(Bt(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),mt=(e,t,s,n)=>({set _(i){de(e,t,i,s)},get _(){return r(e,t,n)}}),ie=(e,t,s)=>(Bt(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function makeMap(e,t){const s=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)s[n[i]]=!0;return t?i=>!!s[i.toLowerCase()]:i=>!!s[i]}function normalizeStyle(e){if(isArray(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=isString$1(n)?parseStringStyle(n):normalizeStyle(n);if(i)for(const a in i)t[a]=i[a]}return t}else{if(isString$1(e))return e;if(isObject(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const n=s.split(propertyDelimiterRE);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$1(e))t=e;else if(isArray(e))for(let s=0;s<e.length;s++){const n=normalizeClass(e[s]);n&&(t+=n+" ")}else if(isObject(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray(e)||isObject(e)&&(e.toString===objectToString||!isFunction$1(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i])=>(s[`${n} =>`]=i,s),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject(t)&&!isArray(t)&&!isPlainObject(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction$1=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>isObject(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},def=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=s}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const i=t[n];wasTracked(i)&&!newTracked(i)?i.delete(e):t[s++]=i,i.w&=~trackOpBit,i.n&=~trackOpBit}t.length=s}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let t=activeEffect,s=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,s){if(shouldTrack&&activeEffect){let n=targetMap.get(e);n||targetMap.set(e,n=new Map);let i=n.get(s);i||n.set(s,i=createDep()),trackEffects(i)}}function trackEffects(e,t){let s=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,s=!wasTracked(e)):s=!e.has(activeEffect),s&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,s,n,i,a){const l=targetMap.get(e);if(!l)return;let y=[];if(t==="clear")y=[...l.values()];else if(s==="length"&&isArray(e)){const m=Number(n);l.forEach((g,u)=>{(u==="length"||u>=m)&&y.push(g)})}else switch(s!==void 0&&y.push(l.get(s)),t){case"add":isArray(e)?isIntegerKey(s)&&y.push(l.get("length")):(y.push(l.get(ITERATE_KEY)),isMap(e)&&y.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(y.push(l.get(ITERATE_KEY)),isMap(e)&&y.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&y.push(l.get(ITERATE_KEY));break}if(y.length===1)y[0]&&triggerEffects(y[0]);else{const m=[];for(const g of y)g&&m.push(...g);triggerEffects(createDep(m))}}function triggerEffects(e,t){const s=isArray(e)?e:[...e];for(const n of s)n.computed&&triggerEffect(n);for(const n of s)n.computed||triggerEffect(n)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=toRaw(this);for(let a=0,l=this.length;a<l;a++)track(n,"get",a+"");const i=n[t](...s);return i===-1||i===!1?n[t](...s.map(toRaw)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){pauseTracking();const n=toRaw(this)[t].apply(this,s);return resetTracking(),n}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(n,i,a){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&a===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(n))return n;const l=isArray(n);if(!e){if(l&&hasOwn(arrayInstrumentations,i))return Reflect.get(arrayInstrumentations,i,a);if(i==="hasOwnProperty")return hasOwnProperty}const y=Reflect.get(n,i,a);return(isSymbol(i)?builtInSymbols.has(i):isNonTrackableKeys(i))||(e||track(n,"get",i),t)?y:isRef(y)?l&&isIntegerKey(i)?y:y.value:isObject(y)?e?readonly(y):reactive(y):y}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(s,n,i,a){let l=s[n];if(isReadonly(l)&&isRef(l)&&!isRef(i))return!1;if(!e&&(!isShallow(i)&&!isReadonly(i)&&(l=toRaw(l),i=toRaw(i)),!isArray(s)&&isRef(l)&&!isRef(i)))return l.value=i,!0;const y=isArray(s)&&isIntegerKey(n)?Number(n)<s.length:hasOwn(s,n),m=Reflect.set(s,n,i,a);return s===toRaw(a)&&(y?hasChanged(i,l)&&trigger(s,"set",n,i):trigger(s,"add",n,i)),m}}function deleteProperty(e,t){const s=hasOwn(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&trigger(e,"delete",t,void 0),n}function has$1(e,t){const s=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),s}function ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,s=!1,n=!1){e=e.__v_raw;const i=toRaw(e),a=toRaw(t);s||(t!==a&&track(i,"get",t),track(i,"get",a));const{has:l}=getProto(i),y=n?toShallow:s?toReadonly:toReactive;if(l.call(i,t))return y(e.get(t));if(l.call(i,a))return y(e.get(a));e!==i&&e.get(t)}function has(e,t=!1){const s=this.__v_raw,n=toRaw(s),i=toRaw(e);return t||(e!==i&&track(n,"has",e),track(n,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const s=toRaw(this),{has:n,get:i}=getProto(s);let a=n.call(s,e);a||(e=toRaw(e),a=n.call(s,e));const l=i.call(s,e);return s.set(e,t),a?hasChanged(t,l)&&trigger(s,"set",e,t):trigger(s,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:s,get:n}=getProto(t);let i=s.call(t,e);i||(e=toRaw(e),i=s.call(t,e)),n&&n.call(t,e);const a=t.delete(e);return i&&trigger(t,"delete",e,void 0),a}function clear(){const e=toRaw(this),t=e.size!==0,s=e.clear();return t&&trigger(e,"clear",void 0,void 0),s}function createForEach(e,t){return function(n,i){const a=this,l=a.__v_raw,y=toRaw(l),m=t?toShallow:e?toReadonly:toReactive;return!e&&track(y,"iterate",ITERATE_KEY),l.forEach((g,u)=>n.call(i,m(g),m(u),a))}}function createIterableMethod(e,t,s){return function(...n){const i=this.__v_raw,a=toRaw(i),l=isMap(a),y=e==="entries"||e===Symbol.iterator&&l,m=e==="keys"&&l,g=i[e](...n),u=s?toShallow:t?toReadonly:toReactive;return!t&&track(a,"iterate",m?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:M,done:C}=g.next();return C?{value:M,done:C}:{value:y?[u(M[0]),u(M[1])]:u(M),done:C}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(a){return get(this,a)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(a){return get(this,a,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},s={get(a){return get(this,a,!0)},get size(){return size(this,!0)},has(a){return has.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(a){return get(this,a,!0,!0)},get size(){return size(this,!0)},has(a){return has.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=createIterableMethod(a,!1,!1),s[a]=createIterableMethod(a,!0,!1),t[a]=createIterableMethod(a,!1,!0),n[a]=createIterableMethod(a,!0,!0)}),[e,s,t,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const s=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(hasOwn(s,i)&&i in n?s:n,i,a)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,s,n,i){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const l=getTargetType(e);if(l===0)return e;const y=new Proxy(e,l===2?n:s);return i.set(e,y),y}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e);const s=e.dep;s&&triggerEffects(s)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:toRaw(t),this._value=s?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const s=this.__v_isShallow||isShallow(t)||isReadonly(t);t=s?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,s)=>unref(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return isRef(i)&&!isRef(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}var _a$1;class ComputedRefImpl{constructor(t,s,n,i){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a$1="__v_isReadonly";function computed$1(e,t,s=!1){let n,i;const a=isFunction$1(e);return a?(n=e,i=NOOP):(n=e.get,i=e.set),new ComputedRefImpl(n,i,a||!i,s)}function warn(e,...t){}function callWithErrorHandling(e,t,s,n){let i;try{i=n?e(...n):e()}catch(a){handleError(a,t,s)}return i}function callWithAsyncErrorHandling(e,t,s,n){if(isFunction$1(e)){const a=callWithErrorHandling(e,t,s,n);return a&&isPromise(a)&&a.catch(l=>{handleError(l,t,s)}),a}const i=[];for(let a=0;a<e.length;a++)i.push(callWithAsyncErrorHandling(e[a],t,s,n));return i}function handleError(e,t,s,n=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const l=t.proxy,y=s;for(;a;){const g=a.ec;if(g){for(let u=0;u<g.length;u++)if(g[u](e,l,y)===!1)return}a=a.parent}const m=t.appContext.config.errorHandler;if(m){callWithErrorHandling(m,null,10,[e,l,y]);return}}logError(e,s,i,n)}function logError(e,t,s,n=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,s=queue.length;for(;t<s;){const n=t+s>>>1;getId(queue[n])<e?t=n+1:s=n}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const s=queue[t];s&&s.pre&&(queue.splice(t,1),t--,s())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((s,n)=>getId(s)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const s=getId(e)-getId(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&s.active!==!1&&callWithErrorHandling(s,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||EMPTY_OBJ;let i=s;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in n){const u=`${l==="modelValue"?"model":l}Modifiers`,{number:M,trim:C}=n[u]||EMPTY_OBJ;C&&(i=s.map(k=>isString$1(k)?k.trim():k)),M&&(i=s.map(looseToNumber))}let y,m=n[y=toHandlerKey(t)]||n[y=toHandlerKey(camelize(t))];!m&&a&&(m=n[y=toHandlerKey(hyphenate(t))]),m&&callWithAsyncErrorHandling(m,e,6,i);const g=n[y+"Once"];if(g){if(!e.emitted)e.emitted={};else if(e.emitted[y])return;e.emitted[y]=!0,callWithAsyncErrorHandling(g,e,6,i)}}function normalizeEmitsOptions(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let l={},y=!1;if(!isFunction$1(e)){const m=g=>{const u=normalizeEmitsOptions(g,t,!0);u&&(y=!0,extend(l,u))};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!a&&!y?(isObject(e)&&n.set(e,null),null):(isArray(a)?a.forEach(m=>l[m]=null):extend(l,a),isObject(e)&&n.set(e,l),l)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&setBlockTracking(-1);const a=setCurrentRenderingInstance(t);let l;try{l=e(...i)}finally{setCurrentRenderingInstance(a),n._d&&setBlockTracking(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:s,proxy:n,withProxy:i,props:a,propsOptions:[l],slots:y,attrs:m,emit:g,render:u,renderCache:M,data:C,setupState:k,ctx:R,inheritAttrs:T}=e;let w,P;const O=setCurrentRenderingInstance(e);try{if(s.shapeFlag&4){const L=i||n;w=normalizeVNode(u.call(L,L,M,a,k,C,R)),P=m}else{const L=t;w=normalizeVNode(L.length>1?L(a,{attrs:m,slots:y,emit:g}):L(a,null)),P=t.props?m:getFunctionalFallthrough(m)}}catch(L){blockStack.length=0,handleError(L,e,1),w=createVNode(Comment)}let x=w;if(P&&T!==!1){const L=Object.keys(P),{shapeFlag:_}=x;L.length&&_&7&&(l&&L.some(isModelListener)&&(P=filterModelListeners(P,l)),x=cloneVNode(x,P))}return s.dirs&&(x=cloneVNode(x),x.dirs=x.dirs?x.dirs.concat(s.dirs):s.dirs),s.transition&&(x.transition=s.transition),w=x,setCurrentRenderingInstance(O),w}const getFunctionalFallthrough=e=>{let t;for(const s in e)(s==="class"||s==="style"||isOn(s))&&((t||(t={}))[s]=e[s]);return t},filterModelListeners=(e,t)=>{const s={};for(const n in e)(!isModelListener(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function shouldUpdateComponent(e,t,s){const{props:n,children:i,component:a}=e,{props:l,children:y,patchFlag:m}=t,g=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return n?hasPropsChanged(n,l,g):!!l;if(m&8){const u=t.dynamicProps;for(let M=0;M<u.length;M++){const C=u[M];if(l[C]!==n[C]&&!isEmitListener(g,C))return!0}}}else return(i||y)&&(!y||!y.$stable)?!0:n===l?!1:n?l?hasPropsChanged(n,l,g):!0:!!l;return!1}function hasPropsChanged(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!isEmitListener(s,a))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let s=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===s&&(s=currentInstance.provides=Object.create(n)),s[e]=t}}function inject(e,t,s=!1){const n=currentInstance||currentRenderingInstance;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&isFunction$1(t)?t.call(n.proxy):t}}function watchEffect(e,t){return doWatch(e,null,t)}const INITIAL_WATCHER_VALUE={};function watch(e,t,s){return doWatch(e,t,s)}function doWatch(e,t,{immediate:s,deep:n,flush:i,onTrack:a,onTrigger:l}=EMPTY_OBJ){const y=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let m,g=!1,u=!1;if(isRef(e)?(m=()=>e.value,g=isShallow(e)):isReactive(e)?(m=()=>e,n=!0):isArray(e)?(u=!0,g=e.some(x=>isReactive(x)||isShallow(x)),m=()=>e.map(x=>{if(isRef(x))return x.value;if(isReactive(x))return traverse(x);if(isFunction$1(x))return callWithErrorHandling(x,y,2)})):isFunction$1(e)?t?m=()=>callWithErrorHandling(e,y,2):m=()=>{if(!(y&&y.isUnmounted))return M&&M(),callWithAsyncErrorHandling(e,y,3,[C])}:m=NOOP,t&&n){const x=m;m=()=>traverse(x())}let M,C=x=>{M=P.onStop=()=>{callWithErrorHandling(x,y,4)}},k;if(isInSSRComponentSetup)if(C=NOOP,t?s&&callWithAsyncErrorHandling(t,y,3,[m(),u?[]:void 0,C]):m(),i==="sync"){const x=useSSRContext();k=x.__watcherHandles||(x.__watcherHandles=[])}else return NOOP;let R=u?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const T=()=>{if(P.active)if(t){const x=P.run();(n||g||(u?x.some((L,_)=>hasChanged(L,R[_])):hasChanged(x,R)))&&(M&&M(),callWithAsyncErrorHandling(t,y,3,[x,R===INITIAL_WATCHER_VALUE?void 0:u&&R[0]===INITIAL_WATCHER_VALUE?[]:R,C]),R=x)}else P.run()};T.allowRecurse=!!t;let w;i==="sync"?w=T:i==="post"?w=()=>queuePostRenderEffect(T,y&&y.suspense):(T.pre=!0,y&&(T.id=y.uid),w=()=>queueJob(T));const P=new ReactiveEffect(m,w);t?s?T():R=P.run():i==="post"?queuePostRenderEffect(P.run.bind(P),y&&y.suspense):P.run();const O=()=>{P.stop(),y&&y.scope&&remove(y.scope.effects,P)};return k&&k.push(O),O}function instanceWatch(e,t,s){const n=this.proxy,i=isString$1(e)?e.includes(".")?createPathGetter(n,e):()=>n[e]:e.bind(n,n);let a;isFunction$1(t)?a=t:(a=t.handler,s=t);const l=currentInstance;setCurrentInstance(this);const y=doWatch(i,a.bind(n),s);return l?setCurrentInstance(l):unsetCurrentInstance(),y}function createPathGetter(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function traverse(e,t){if(!isObject(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray(e))for(let s=0;s<e.length;s++)traverse(e[s],t);else if(isSet(e)||isMap(e))e.forEach(s=>{traverse(s,t)});else if(isPlainObject(e))for(const s in e)traverse(e[s],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const s=getCurrentInstance(),n=useTransitionState();let i;return()=>{const a=t.default&&getTransitionRawChildren(t.default(),!0);if(!a||!a.length)return;let l=a[0];if(a.length>1){for(const T of a)if(T.type!==Comment){l=T;break}}const y=toRaw(e),{mode:m}=y;if(n.isLeaving)return emptyPlaceholder(l);const g=getKeepAliveChild(l);if(!g)return emptyPlaceholder(l);const u=resolveTransitionHooks(g,y,n,s);setTransitionHooks(g,u);const M=s.subTree,C=M&&getKeepAliveChild(M);let k=!1;const{getTransitionKey:R}=g.type;if(R){const T=R();i===void 0?i=T:T!==i&&(i=T,k=!0)}if(C&&C.type!==Comment&&(!isSameVNodeType(g,C)||k)){const T=resolveTransitionHooks(C,y,n,s);if(setTransitionHooks(C,T),m==="out-in")return n.isLeaving=!0,T.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&s.update()},emptyPlaceholder(l);m==="in-out"&&g.type!==Comment&&(T.delayLeave=(w,P,O)=>{const x=getLeavingNodesForType(n,C);x[String(C.key)]=C,w._leaveCb=()=>{P(),w._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=O})}return l}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function resolveTransitionHooks(e,t,s,n){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:y,onEnter:m,onAfterEnter:g,onEnterCancelled:u,onBeforeLeave:M,onLeave:C,onAfterLeave:k,onLeaveCancelled:R,onBeforeAppear:T,onAppear:w,onAfterAppear:P,onAppearCancelled:O}=t,x=String(e.key),L=getLeavingNodesForType(s,e),_=(v,f)=>{v&&callWithAsyncErrorHandling(v,n,9,f)},A=(v,f)=>{const B=f[1];_(v,f),isArray(v)?v.every(I=>I.length<=1)&&B():v.length<=1&&B()},U={mode:a,persisted:l,beforeEnter(v){let f=y;if(!s.isMounted)if(i)f=T||y;else return;v._leaveCb&&v._leaveCb(!0);const B=L[x];B&&isSameVNodeType(e,B)&&B.el._leaveCb&&B.el._leaveCb(),_(f,[v])},enter(v){let f=m,B=g,I=u;if(!s.isMounted)if(i)f=w||m,B=P||g,I=O||u;else return;let Q=!1;const te=v._enterCb=$=>{Q||(Q=!0,$?_(I,[v]):_(B,[v]),U.delayedLeave&&U.delayedLeave(),v._enterCb=void 0)};f?A(f,[v,te]):te()},leave(v,f){const B=String(e.key);if(v._enterCb&&v._enterCb(!0),s.isUnmounting)return f();_(M,[v]);let I=!1;const Q=v._leaveCb=te=>{I||(I=!0,f(),te?_(R,[v]):_(k,[v]),v._leaveCb=void 0,L[B]===e&&delete L[B])};L[B]=e,C?A(C,[v,Q]):Q()},clone(v){return resolveTransitionHooks(v,t,s,n)}};return U}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,s){let n=[],i=0;for(let a=0;a<e.length;a++){let l=e[a];const y=s==null?l.key:String(s)+String(l.key!=null?l.key:a);l.type===Fragment?(l.patchFlag&128&&i++,n=n.concat(getTransitionRawChildren(l.children,t,y))):(t||l.type!==Comment)&&n.push(y!=null?cloneVNode(l,{key:y}):l)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}function defineComponent(e){return isFunction$1(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,s=currentInstance){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(injectHook(t,n,s),s){let i=s.parent;for(;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(n,t,s,i),i=i.parent}}function injectToKeepAliveRoot(e,t,s,n){const i=injectHook(t,e,n,!0);onUnmounted(()=>{remove(n[t],i)},s)}function injectHook(e,t,s=currentInstance,n=!1){if(s){const i=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{if(s.isUnmounted)return;pauseTracking(),setCurrentInstance(s);const y=callWithAsyncErrorHandling(t,s,e,l);return unsetCurrentInstance(),resetTracking(),y});return n?i.unshift(a):i.push(a),a}}const createHook=e=>(t,s=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...n)=>t(...n),s),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function withDirectives(e,t){const s=currentRenderingInstance;if(s===null)return e;const n=getExposeProxy(s)||s.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,y,m,g=EMPTY_OBJ]=t[a];l&&(isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(y),i.push({dir:l,instance:n,value:y,oldValue:void 0,arg:m,modifiers:g}))}return e}function invokeDirectiveHook(e,t,s,n){const i=e.dirs,a=t&&t.dirs;for(let l=0;l<i.length;l++){const y=i[l];a&&(y.oldValue=a[l].value);let m=y.dir[n];m&&(pauseTracking(),callWithAsyncErrorHandling(m,s,8,[e.el,y,e,t]),resetTracking())}}const NULL_DYNAMIC_COMPONENT=Symbol();function renderList(e,t,s,n){let i;const a=s&&s[n];if(isArray(e)||isString$1(e)){i=new Array(e.length);for(let l=0,y=e.length;l<y;l++)i[l]=t(e[l],l,void 0,a&&a[l])}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,a&&a[l])}else if(isObject(e))if(e[Symbol.iterator])i=Array.from(e,(l,y)=>t(l,y,void 0,a&&a[y]));else{const l=Object.keys(e);i=new Array(l.length);for(let y=0,m=l.length;y<m;y++){const g=l[y];i[y]=t(e[g],g,y,a&&a[y])}}else i=[];return s&&(s[n]=i),i}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:s,setupState:n,data:i,props:a,accessCache:l,type:y,appContext:m}=e;let g;if(t[0]!=="$"){const k=l[t];if(k!==void 0)switch(k){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return a[t]}else{if(hasSetupBinding(n,t))return l[t]=1,n[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return l[t]=2,i[t];if((g=e.propsOptions[0])&&hasOwn(g,t))return l[t]=3,a[t];if(s!==EMPTY_OBJ&&hasOwn(s,t))return l[t]=4,s[t];shouldCacheAccess&&(l[t]=0)}}const u=publicPropertiesMap[t];let M,C;if(u)return t==="$attrs"&&track(e,"get",t),u(e);if((M=y.__cssModules)&&(M=M[t]))return M;if(s!==EMPTY_OBJ&&hasOwn(s,t))return l[t]=4,s[t];if(C=m.config.globalProperties,hasOwn(C,t))return C[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:a}=e;return hasSetupBinding(i,t)?(i[t]=s,!0):n!==EMPTY_OBJ&&hasOwn(n,t)?(n[t]=s,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:a}},l){let y;return!!s[l]||e!==EMPTY_OBJ&&hasOwn(e,l)||hasSetupBinding(t,l)||(y=a[0])&&hasOwn(y,l)||hasOwn(n,l)||hasOwn(publicPropertiesMap,l)||hasOwn(i.config.globalProperties,l)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:hasOwn(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),s=e.proxy,n=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:l,watch:y,provide:m,inject:g,created:u,beforeMount:M,mounted:C,beforeUpdate:k,updated:R,activated:T,deactivated:w,beforeDestroy:P,beforeUnmount:O,destroyed:x,unmounted:L,render:_,renderTracked:A,renderTriggered:U,errorCaptured:v,serverPrefetch:f,expose:B,inheritAttrs:I,components:Q,directives:te,filters:$}=t;if(g&&resolveInjections(g,n,null,e.appContext.config.unwrapInjectedRef),l)for(const pe in l){const G=l[pe];isFunction$1(G)&&(n[pe]=G.bind(s))}if(i){const pe=i.call(s,s);isObject(pe)&&(e.data=reactive(pe))}if(shouldCacheAccess=!0,a)for(const pe in a){const G=a[pe],ye=isFunction$1(G)?G.bind(s,s):isFunction$1(G.get)?G.get.bind(s,s):NOOP,Se=!isFunction$1(G)&&isFunction$1(G.set)?G.set.bind(s):NOOP,xe=computed({get:ye,set:Se});Object.defineProperty(n,pe,{enumerable:!0,configurable:!0,get:()=>xe.value,set:ke=>xe.value=ke})}if(y)for(const pe in y)createWatcher(y[pe],n,s,pe);if(m){const pe=isFunction$1(m)?m.call(s):m;Reflect.ownKeys(pe).forEach(G=>{provide(G,pe[G])})}u&&callHook(u,e,"c");function fe(pe,G){isArray(G)?G.forEach(ye=>pe(ye.bind(s))):G&&pe(G.bind(s))}if(fe(onBeforeMount,M),fe(onMounted,C),fe(onBeforeUpdate,k),fe(onUpdated,R),fe(onActivated,T),fe(onDeactivated,w),fe(onErrorCaptured,v),fe(onRenderTracked,A),fe(onRenderTriggered,U),fe(onBeforeUnmount,O),fe(onUnmounted,L),fe(onServerPrefetch,f),isArray(B))if(B.length){const pe=e.exposed||(e.exposed={});B.forEach(G=>{Object.defineProperty(pe,G,{get:()=>s[G],set:ye=>s[G]=ye})})}else e.exposed||(e.exposed={});_&&e.render===NOOP&&(e.render=_),I!=null&&(e.inheritAttrs=I),Q&&(e.components=Q),te&&(e.directives=te)}function resolveInjections(e,t,s=NOOP,n=!1){isArray(e)&&(e=normalizeInject(e));for(const i in e){const a=e[i];let l;isObject(a)?"default"in a?l=inject(a.from||i,a.default,!0):l=inject(a.from||i):l=inject(a),isRef(l)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:y=>l.value=y}):t[i]=l}}function callHook(e,t,s){callWithAsyncErrorHandling(isArray(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function createWatcher(e,t,s,n){const i=n.includes(".")?createPathGetter(s,n):()=>s[n];if(isString$1(e)){const a=t[e];isFunction$1(a)&&watch(i,a)}else if(isFunction$1(e))watch(i,e.bind(s));else if(isObject(e))if(isArray(e))e.forEach(a=>createWatcher(a,t,s,n));else{const a=isFunction$1(e.handler)?e.handler.bind(s):t[e.handler];isFunction$1(a)&&watch(i,a,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,y=a.get(t);let m;return y?m=y:!i.length&&!s&&!n?m=t:(m={},i.length&&i.forEach(g=>mergeOptions(m,g,l,!0)),mergeOptions(m,t,l)),isObject(t)&&a.set(t,m),m}function mergeOptions(e,t,s,n=!1){const{mixins:i,extends:a}=t;a&&mergeOptions(e,a,s,!0),i&&i.forEach(l=>mergeOptions(e,l,s,!0));for(const l in t)if(!(n&&l==="expose")){const y=internalOptionMergeStrats[l]||s&&s[l];e[l]=y?y(e[l],t[l]):t[l]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction$1(e)?e.call(this,this):e,isFunction$1(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(extend(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const s=extend(Object.create(null),e);for(const n in t)s[n]=mergeAsArray(e[n],t[n]);return s}function initProps(e,t,s,n=!1){const i={},a={};def(a,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,i,a);for(const l in e.propsOptions[0])l in i||(i[l]=void 0);s?e.props=n?i:shallowReactive(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function updateProps(e,t,s,n){const{props:i,attrs:a,vnode:{patchFlag:l}}=e,y=toRaw(i),[m]=e.propsOptions;let g=!1;if((n||l>0)&&!(l&16)){if(l&8){const u=e.vnode.dynamicProps;for(let M=0;M<u.length;M++){let C=u[M];if(isEmitListener(e.emitsOptions,C))continue;const k=t[C];if(m)if(hasOwn(a,C))k!==a[C]&&(a[C]=k,g=!0);else{const R=camelize(C);i[R]=resolvePropValue(m,y,R,k,e,!1)}else k!==a[C]&&(a[C]=k,g=!0)}}}else{setFullProps(e,t,i,a)&&(g=!0);let u;for(const M in y)(!t||!hasOwn(t,M)&&((u=hyphenate(M))===M||!hasOwn(t,u)))&&(m?s&&(s[M]!==void 0||s[u]!==void 0)&&(i[M]=resolvePropValue(m,y,M,void 0,e,!0)):delete i[M]);if(a!==y)for(const M in a)(!t||!hasOwn(t,M))&&(delete a[M],g=!0)}g&&trigger(e,"set","$attrs")}function setFullProps(e,t,s,n){const[i,a]=e.propsOptions;let l=!1,y;if(t)for(let m in t){if(isReservedProp(m))continue;const g=t[m];let u;i&&hasOwn(i,u=camelize(m))?!a||!a.includes(u)?s[u]=g:(y||(y={}))[u]=g:isEmitListener(e.emitsOptions,m)||(!(m in n)||g!==n[m])&&(n[m]=g,l=!0)}if(a){const m=toRaw(s),g=y||EMPTY_OBJ;for(let u=0;u<a.length;u++){const M=a[u];s[M]=resolvePropValue(i,m,M,g[M],e,!hasOwn(g,M))}}return l}function resolvePropValue(e,t,s,n,i,a){const l=e[s];if(l!=null){const y=hasOwn(l,"default");if(y&&n===void 0){const m=l.default;if(l.type!==Function&&isFunction$1(m)){const{propsDefaults:g}=i;s in g?n=g[s]:(setCurrentInstance(i),n=g[s]=m.call(null,t),unsetCurrentInstance())}else n=m}l[0]&&(a&&!y?n=!1:l[1]&&(n===""||n===hyphenate(s))&&(n=!0))}return n}function normalizePropsOptions(e,t,s=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const a=e.props,l={},y=[];let m=!1;if(!isFunction$1(e)){const u=M=>{m=!0;const[C,k]=normalizePropsOptions(M,t,!0);extend(l,C),k&&y.push(...k)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!m)return isObject(e)&&n.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(a))for(let u=0;u<a.length;u++){const M=camelize(a[u]);validatePropName(M)&&(l[M]=EMPTY_OBJ)}else if(a)for(const u in a){const M=camelize(u);if(validatePropName(M)){const C=a[u],k=l[M]=isArray(C)||isFunction$1(C)?{type:C}:Object.assign({},C);if(k){const R=getTypeIndex(Boolean,k.type),T=getTypeIndex(String,k.type);k[0]=R>-1,k[1]=T<0||R<T,(R>-1||hasOwn(k,"default"))&&y.push(M)}}}const g=[l,y];return isObject(e)&&n.set(e,g),g}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(s=>isSameType(s,e)):isFunction$1(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,s)=>{if(t._n)return t;const n=withCtx((...i)=>normalizeSlotValue(t(...i)),s);return n._c=!1,n},normalizeObjectSlots=(e,t,s)=>{const n=e._ctx;for(const i in e){if(isInternalKey(i))continue;const a=e[i];if(isFunction$1(a))t[i]=normalizeSlot(i,a,n);else if(a!=null){const l=normalizeSlotValue(a);t[i]=()=>l}}},normalizeVNodeSlots=(e,t)=>{const s=normalizeSlotValue(t);e.slots.default=()=>s},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=toRaw(t),def(t,"_",s)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,s)=>{const{vnode:n,slots:i}=e;let a=!0,l=EMPTY_OBJ;if(n.shapeFlag&32){const y=t._;y?s&&y===1?a=!1:(extend(i,t),!s&&y===1&&delete i._):(a=!t.$stable,normalizeObjectSlots(t,i)),l=t}else t&&(normalizeVNodeSlots(e,t),l={default:1});if(a)for(const y in i)!isInternalKey(y)&&!(y in l)&&delete i[y]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(n,i=null){isFunction$1(n)||(n=Object.assign({},n)),i!=null&&!isObject(i)&&(i=null);const a=createAppContext(),l=new Set;let y=!1;const m=a.app={_uid:uid$1++,_component:n,_props:i,_container:null,_context:a,_instance:null,version,get config(){return a.config},set config(g){},use(g,...u){return l.has(g)||(g&&isFunction$1(g.install)?(l.add(g),g.install(m,...u)):isFunction$1(g)&&(l.add(g),g(m,...u))),m},mixin(g){return a.mixins.includes(g)||a.mixins.push(g),m},component(g,u){return u?(a.components[g]=u,m):a.components[g]},directive(g,u){return u?(a.directives[g]=u,m):a.directives[g]},mount(g,u,M){if(!y){const C=createVNode(n,i);return C.appContext=a,u&&t?t(C,g):e(C,g,M),y=!0,m._container=g,g.__vue_app__=m,getExposeProxy(C.component)||C.component.proxy}},unmount(){y&&(e(null,m._container),delete m._container.__vue_app__)},provide(g,u){return a.provides[g]=u,m}};return m}}function setRef(e,t,s,n,i=!1){if(isArray(e)){e.forEach((C,k)=>setRef(C,t&&(isArray(t)?t[k]:t),s,n,i));return}if(isAsyncWrapper(n)&&!i)return;const a=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,l=i?null:a,{i:y,r:m}=e,g=t&&t.r,u=y.refs===EMPTY_OBJ?y.refs={}:y.refs,M=y.setupState;if(g!=null&&g!==m&&(isString$1(g)?(u[g]=null,hasOwn(M,g)&&(M[g]=null)):isRef(g)&&(g.value=null)),isFunction$1(m))callWithErrorHandling(m,y,12,[l,u]);else{const C=isString$1(m),k=isRef(m);if(C||k){const R=()=>{if(e.f){const T=C?hasOwn(M,m)?M[m]:u[m]:m.value;i?isArray(T)&&remove(T,a):isArray(T)?T.includes(a)||T.push(a):C?(u[m]=[a],hasOwn(M,m)&&(M[m]=u[m])):(m.value=[a],e.k&&(u[e.k]=m.value))}else C?(u[m]=l,hasOwn(M,m)&&(M[m]=l)):k&&(m.value=l,e.k&&(u[e.k]=l))};l?(R.id=-1,queuePostRenderEffect(R,s)):R()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const s=getGlobalThis();s.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:l,createText:y,createComment:m,setText:g,setElementText:u,parentNode:M,nextSibling:C,setScopeId:k=NOOP,insertStaticContent:R}=e,T=(E,F,H,K=null,ne=null,ee=null,be=!1,Ae=null,he=!!F.dynamicChildren)=>{if(E===F)return;E&&!isSameVNodeType(E,F)&&(K=b(E),ke(E,ne,ee,!0),E=null),F.patchFlag===-2&&(he=!1,F.dynamicChildren=null);const{type:ge,ref:ue,shapeFlag:X}=F;switch(ge){case Text:w(E,F,H,K);break;case Comment:P(E,F,H,K);break;case Static:E==null&&O(F,H,K,be);break;case Fragment:Q(E,F,H,K,ne,ee,be,Ae,he);break;default:X&1?_(E,F,H,K,ne,ee,be,Ae,he):X&6?te(E,F,H,K,ne,ee,be,Ae,he):(X&64||X&128)&&ge.process(E,F,H,K,ne,ee,be,Ae,he,N)}ue!=null&&ne&&setRef(ue,E&&E.ref,ee,F||E,!F)},w=(E,F,H,K)=>{if(E==null)n(F.el=y(F.children),H,K);else{const ne=F.el=E.el;F.children!==E.children&&g(ne,F.children)}},P=(E,F,H,K)=>{E==null?n(F.el=m(F.children||""),H,K):F.el=E.el},O=(E,F,H,K)=>{[E.el,E.anchor]=R(E.children,F,H,K,E.el,E.anchor)},x=({el:E,anchor:F},H,K)=>{let ne;for(;E&&E!==F;)ne=C(E),n(E,H,K),E=ne;n(F,H,K)},L=({el:E,anchor:F})=>{let H;for(;E&&E!==F;)H=C(E),i(E),E=H;i(F)},_=(E,F,H,K,ne,ee,be,Ae,he)=>{be=be||F.type==="svg",E==null?A(F,H,K,ne,ee,be,Ae,he):f(E,F,ne,ee,be,Ae,he)},A=(E,F,H,K,ne,ee,be,Ae)=>{let he,ge;const{type:ue,props:X,shapeFlag:J,transition:ce,dirs:ve}=E;if(he=E.el=l(E.type,ee,X&&X.is,X),J&8?u(he,E.children):J&16&&v(E.children,he,null,K,ne,ee&&ue!=="foreignObject",be,Ae),ve&&invokeDirectiveHook(E,null,K,"created"),U(he,E,E.scopeId,be,K),X){for(const Ie in X)Ie!=="value"&&!isReservedProp(Ie)&&a(he,Ie,null,X[Ie],ee,E.children,K,ne,c);"value"in X&&a(he,"value",null,X.value),(ge=X.onVnodeBeforeMount)&&invokeVNodeHook(ge,K,E)}ve&&invokeDirectiveHook(E,null,K,"beforeMount");const Ee=(!ne||ne&&!ne.pendingBranch)&&ce&&!ce.persisted;Ee&&ce.beforeEnter(he),n(he,F,H),((ge=X&&X.onVnodeMounted)||Ee||ve)&&queuePostRenderEffect(()=>{ge&&invokeVNodeHook(ge,K,E),Ee&&ce.enter(he),ve&&invokeDirectiveHook(E,null,K,"mounted")},ne)},U=(E,F,H,K,ne)=>{if(H&&k(E,H),K)for(let ee=0;ee<K.length;ee++)k(E,K[ee]);if(ne){let ee=ne.subTree;if(F===ee){const be=ne.vnode;U(E,be,be.scopeId,be.slotScopeIds,ne.parent)}}},v=(E,F,H,K,ne,ee,be,Ae,he=0)=>{for(let ge=he;ge<E.length;ge++){const ue=E[ge]=Ae?cloneIfMounted(E[ge]):normalizeVNode(E[ge]);T(null,ue,F,H,K,ne,ee,be,Ae)}},f=(E,F,H,K,ne,ee,be)=>{const Ae=F.el=E.el;let{patchFlag:he,dynamicChildren:ge,dirs:ue}=F;he|=E.patchFlag&16;const X=E.props||EMPTY_OBJ,J=F.props||EMPTY_OBJ;let ce;H&&toggleRecurse(H,!1),(ce=J.onVnodeBeforeUpdate)&&invokeVNodeHook(ce,H,F,E),ue&&invokeDirectiveHook(F,E,H,"beforeUpdate"),H&&toggleRecurse(H,!0);const ve=ne&&F.type!=="foreignObject";if(ge?B(E.dynamicChildren,ge,Ae,H,K,ve,ee):be||G(E,F,Ae,null,H,K,ve,ee,!1),he>0){if(he&16)I(Ae,F,X,J,H,K,ne);else if(he&2&&X.class!==J.class&&a(Ae,"class",null,J.class,ne),he&4&&a(Ae,"style",X.style,J.style,ne),he&8){const Ee=F.dynamicProps;for(let Ie=0;Ie<Ee.length;Ie++){const Ne=Ee[Ie],Ue=X[Ne],ze=J[Ne];(ze!==Ue||Ne==="value")&&a(Ae,Ne,Ue,ze,ne,E.children,H,K,c)}}he&1&&E.children!==F.children&&u(Ae,F.children)}else!be&&ge==null&&I(Ae,F,X,J,H,K,ne);((ce=J.onVnodeUpdated)||ue)&&queuePostRenderEffect(()=>{ce&&invokeVNodeHook(ce,H,F,E),ue&&invokeDirectiveHook(F,E,H,"updated")},K)},B=(E,F,H,K,ne,ee,be)=>{for(let Ae=0;Ae<F.length;Ae++){const he=E[Ae],ge=F[Ae],ue=he.el&&(he.type===Fragment||!isSameVNodeType(he,ge)||he.shapeFlag&70)?M(he.el):H;T(he,ge,ue,null,K,ne,ee,be,!0)}},I=(E,F,H,K,ne,ee,be)=>{if(H!==K){if(H!==EMPTY_OBJ)for(const Ae in H)!isReservedProp(Ae)&&!(Ae in K)&&a(E,Ae,H[Ae],null,be,F.children,ne,ee,c);for(const Ae in K){if(isReservedProp(Ae))continue;const he=K[Ae],ge=H[Ae];he!==ge&&Ae!=="value"&&a(E,Ae,ge,he,be,F.children,ne,ee,c)}"value"in K&&a(E,"value",H.value,K.value)}},Q=(E,F,H,K,ne,ee,be,Ae,he)=>{const ge=F.el=E?E.el:y(""),ue=F.anchor=E?E.anchor:y("");let{patchFlag:X,dynamicChildren:J,slotScopeIds:ce}=F;ce&&(Ae=Ae?Ae.concat(ce):ce),E==null?(n(ge,H,K),n(ue,H,K),v(F.children,H,ue,ne,ee,be,Ae,he)):X>0&&X&64&&J&&E.dynamicChildren?(B(E.dynamicChildren,J,H,ne,ee,be,Ae),(F.key!=null||ne&&F===ne.subTree)&&traverseStaticChildren(E,F,!0)):G(E,F,H,ue,ne,ee,be,Ae,he)},te=(E,F,H,K,ne,ee,be,Ae,he)=>{F.slotScopeIds=Ae,E==null?F.shapeFlag&512?ne.ctx.activate(F,H,K,be,he):$(F,H,K,ne,ee,be,he):oe(E,F,he)},$=(E,F,H,K,ne,ee,be)=>{const Ae=E.component=createComponentInstance(E,K,ne);if(isKeepAlive(E)&&(Ae.ctx.renderer=N),setupComponent(Ae),Ae.asyncDep){if(ne&&ne.registerDep(Ae,fe),!E.el){const he=Ae.subTree=createVNode(Comment);P(null,he,F,H)}return}fe(Ae,E,F,H,ne,ee,be)},oe=(E,F,H)=>{const K=F.component=E.component;if(shouldUpdateComponent(E,F,H))if(K.asyncDep&&!K.asyncResolved){pe(K,F,H);return}else K.next=F,invalidateJob(K.update),K.update();else F.el=E.el,K.vnode=F},fe=(E,F,H,K,ne,ee,be)=>{const Ae=()=>{if(E.isMounted){let{next:ue,bu:X,u:J,parent:ce,vnode:ve}=E,Ee=ue,Ie;toggleRecurse(E,!1),ue?(ue.el=ve.el,pe(E,ue,be)):ue=ve,X&&invokeArrayFns(X),(Ie=ue.props&&ue.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ie,ce,ue,ve),toggleRecurse(E,!0);const Ne=renderComponentRoot(E),Ue=E.subTree;E.subTree=Ne,T(Ue,Ne,M(Ue.el),b(Ue),E,ne,ee),ue.el=Ne.el,Ee===null&&updateHOCHostEl(E,Ne.el),J&&queuePostRenderEffect(J,ne),(Ie=ue.props&&ue.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ie,ce,ue,ve),ne)}else{let ue;const{el:X,props:J}=F,{bm:ce,m:ve,parent:Ee}=E,Ie=isAsyncWrapper(F);if(toggleRecurse(E,!1),ce&&invokeArrayFns(ce),!Ie&&(ue=J&&J.onVnodeBeforeMount)&&invokeVNodeHook(ue,Ee,F),toggleRecurse(E,!0),X&&Y){const Ne=()=>{E.subTree=renderComponentRoot(E),Y(X,E.subTree,E,ne,null)};Ie?F.type.__asyncLoader().then(()=>!E.isUnmounted&&Ne()):Ne()}else{const Ne=E.subTree=renderComponentRoot(E);T(null,Ne,H,K,E,ne,ee),F.el=Ne.el}if(ve&&queuePostRenderEffect(ve,ne),!Ie&&(ue=J&&J.onVnodeMounted)){const Ne=F;queuePostRenderEffect(()=>invokeVNodeHook(ue,Ee,Ne),ne)}(F.shapeFlag&256||Ee&&isAsyncWrapper(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&E.a&&queuePostRenderEffect(E.a,ne),E.isMounted=!0,F=H=K=null}},he=E.effect=new ReactiveEffect(Ae,()=>queueJob(ge),E.scope),ge=E.update=()=>he.run();ge.id=E.uid,toggleRecurse(E,!0),ge()},pe=(E,F,H)=>{F.component=E;const K=E.vnode.props;E.vnode=F,E.next=null,updateProps(E,F.props,K,H),updateSlots(E,F.children,H),pauseTracking(),flushPreFlushCbs(),resetTracking()},G=(E,F,H,K,ne,ee,be,Ae,he=!1)=>{const ge=E&&E.children,ue=E?E.shapeFlag:0,X=F.children,{patchFlag:J,shapeFlag:ce}=F;if(J>0){if(J&128){Se(ge,X,H,K,ne,ee,be,Ae,he);return}else if(J&256){ye(ge,X,H,K,ne,ee,be,Ae,he);return}}ce&8?(ue&16&&c(ge,ne,ee),X!==ge&&u(H,X)):ue&16?ce&16?Se(ge,X,H,K,ne,ee,be,Ae,he):c(ge,ne,ee,!0):(ue&8&&u(H,""),ce&16&&v(X,H,K,ne,ee,be,Ae,he))},ye=(E,F,H,K,ne,ee,be,Ae,he)=>{E=E||EMPTY_ARR,F=F||EMPTY_ARR;const ge=E.length,ue=F.length,X=Math.min(ge,ue);let J;for(J=0;J<X;J++){const ce=F[J]=he?cloneIfMounted(F[J]):normalizeVNode(F[J]);T(E[J],ce,H,null,ne,ee,be,Ae,he)}ge>ue?c(E,ne,ee,!0,!1,X):v(F,H,K,ne,ee,be,Ae,he,X)},Se=(E,F,H,K,ne,ee,be,Ae,he)=>{let ge=0;const ue=F.length;let X=E.length-1,J=ue-1;for(;ge<=X&&ge<=J;){const ce=E[ge],ve=F[ge]=he?cloneIfMounted(F[ge]):normalizeVNode(F[ge]);if(isSameVNodeType(ce,ve))T(ce,ve,H,null,ne,ee,be,Ae,he);else break;ge++}for(;ge<=X&&ge<=J;){const ce=E[X],ve=F[J]=he?cloneIfMounted(F[J]):normalizeVNode(F[J]);if(isSameVNodeType(ce,ve))T(ce,ve,H,null,ne,ee,be,Ae,he);else break;X--,J--}if(ge>X){if(ge<=J){const ce=J+1,ve=ce<ue?F[ce].el:K;for(;ge<=J;)T(null,F[ge]=he?cloneIfMounted(F[ge]):normalizeVNode(F[ge]),H,ve,ne,ee,be,Ae,he),ge++}}else if(ge>J)for(;ge<=X;)ke(E[ge],ne,ee,!0),ge++;else{const ce=ge,ve=ge,Ee=new Map;for(ge=ve;ge<=J;ge++){const _e=F[ge]=he?cloneIfMounted(F[ge]):normalizeVNode(F[ge]);_e.key!=null&&Ee.set(_e.key,ge)}let Ie,Ne=0;const Ue=J-ve+1;let ze=!1,qe=0;const We=new Array(Ue);for(ge=0;ge<Ue;ge++)We[ge]=0;for(ge=ce;ge<=X;ge++){const _e=E[ge];if(Ne>=Ue){ke(_e,ne,ee,!0);continue}let re;if(_e.key!=null)re=Ee.get(_e.key);else for(Ie=ve;Ie<=J;Ie++)if(We[Ie-ve]===0&&isSameVNodeType(_e,F[Ie])){re=Ie;break}re===void 0?ke(_e,ne,ee,!0):(We[re-ve]=ge+1,re>=qe?qe=re:ze=!0,T(_e,F[re],H,null,ne,ee,be,Ae,he),Ne++)}const Xe=ze?getSequence(We):EMPTY_ARR;for(Ie=Xe.length-1,ge=Ue-1;ge>=0;ge--){const _e=ve+ge,re=F[_e],se=_e+1<ue?F[_e+1].el:K;We[ge]===0?T(null,re,H,se,ne,ee,be,Ae,he):ze&&(Ie<0||ge!==Xe[Ie]?xe(re,H,se,2):Ie--)}}},xe=(E,F,H,K,ne=null)=>{const{el:ee,type:be,transition:Ae,children:he,shapeFlag:ge}=E;if(ge&6){xe(E.component.subTree,F,H,K);return}if(ge&128){E.suspense.move(F,H,K);return}if(ge&64){be.move(E,F,H,N);return}if(be===Fragment){n(ee,F,H);for(let X=0;X<he.length;X++)xe(he[X],F,H,K);n(E.anchor,F,H);return}if(be===Static){x(E,F,H);return}if(K!==2&&ge&1&&Ae)if(K===0)Ae.beforeEnter(ee),n(ee,F,H),queuePostRenderEffect(()=>Ae.enter(ee),ne);else{const{leave:X,delayLeave:J,afterLeave:ce}=Ae,ve=()=>n(ee,F,H),Ee=()=>{X(ee,()=>{ve(),ce&&ce()})};J?J(ee,ve,Ee):Ee()}else n(ee,F,H)},ke=(E,F,H,K=!1,ne=!1)=>{const{type:ee,props:be,ref:Ae,children:he,dynamicChildren:ge,shapeFlag:ue,patchFlag:X,dirs:J}=E;if(Ae!=null&&setRef(Ae,null,H,E,!0),ue&256){F.ctx.deactivate(E);return}const ce=ue&1&&J,ve=!isAsyncWrapper(E);let Ee;if(ve&&(Ee=be&&be.onVnodeBeforeUnmount)&&invokeVNodeHook(Ee,F,E),ue&6)d(E.component,H,K);else{if(ue&128){E.suspense.unmount(H,K);return}ce&&invokeDirectiveHook(E,null,F,"beforeUnmount"),ue&64?E.type.remove(E,F,H,ne,N,K):ge&&(ee!==Fragment||X>0&&X&64)?c(ge,F,H,!1,!0):(ee===Fragment&&X&384||!ne&&ue&16)&&c(he,F,H),K&&j(E)}(ve&&(Ee=be&&be.onVnodeUnmounted)||ce)&&queuePostRenderEffect(()=>{Ee&&invokeVNodeHook(Ee,F,E),ce&&invokeDirectiveHook(E,null,F,"unmounted")},H)},j=E=>{const{type:F,el:H,anchor:K,transition:ne}=E;if(F===Fragment){h(H,K);return}if(F===Static){L(E);return}const ee=()=>{i(H),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(E.shapeFlag&1&&ne&&!ne.persisted){const{leave:be,delayLeave:Ae}=ne,he=()=>be(H,ee);Ae?Ae(E.el,ee,he):he()}else ee()},h=(E,F)=>{let H;for(;E!==F;)H=C(E),i(E),E=H;i(F)},d=(E,F,H)=>{const{bum:K,scope:ne,update:ee,subTree:be,um:Ae}=E;K&&invokeArrayFns(K),ne.stop(),ee&&(ee.active=!1,ke(be,E,F,H)),Ae&&queuePostRenderEffect(Ae,F),queuePostRenderEffect(()=>{E.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},c=(E,F,H,K=!1,ne=!1,ee=0)=>{for(let be=ee;be<E.length;be++)ke(E[be],F,H,K,ne)},b=E=>E.shapeFlag&6?b(E.component.subTree):E.shapeFlag&128?E.suspense.next():C(E.anchor||E.el),S=(E,F,H)=>{E==null?F._vnode&&ke(F._vnode,null,null,!0):T(F._vnode||null,E,F,null,null,null,H),flushPreFlushCbs(),flushPostFlushCbs(),F._vnode=E},N={p:T,um:ke,m:xe,r:j,mt:$,mc:v,pc:G,pbc:B,n:b,o:e};let W,Y;return t&&([W,Y]=t(N)),{render:S,hydrate:W,createApp:createAppAPI(S,W)}}function toggleRecurse({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function traverseStaticChildren(e,t,s=!1){const n=e.children,i=t.children;if(isArray(n)&&isArray(i))for(let a=0;a<n.length;a++){const l=n[a];let y=i[a];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=i[a]=cloneIfMounted(i[a]),y.el=l.el),s||traverseStaticChildren(l,y)),y.type===Text&&(y.el=l.el)}}function getSequence(e){const t=e.slice(),s=[0];let n,i,a,l,y;const m=e.length;for(n=0;n<m;n++){const g=e[n];if(g!==0){if(i=s[s.length-1],e[i]<g){t[n]=i,s.push(n);continue}for(a=0,l=s.length-1;a<l;)y=a+l>>1,e[s[y]]<g?a=y+1:l=y;g<e[s[a]]&&(a>0&&(t[n]=s[a-1]),s[a]=n)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}const isTeleport=e=>e.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,s,n,i,a){return setupBlock(createBaseVNode(e,t,s,n,i,a,!0))}function createBlock(e,t,s,n,i){return setupBlock(createVNode(e,t,s,n,i,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:s})=>e!=null?isString$1(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:t,f:!!s}:e:null;function createBaseVNode(e,t=null,s=null,n=0,i=null,a=e===Fragment?0:1,l=!1,y=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return y?(normalizeChildren(m,s),a&128&&e.normalize(m)):s&&(m.shapeFlag|=isString$1(s)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(m.patchFlag>0||a&6)&&m.patchFlag!==32&&currentBlock.push(m),m}const createVNode=_createVNode;function _createVNode(e,t=null,s=null,n=0,i=null,a=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const y=cloneVNode(e,t,!0);return s&&normalizeChildren(y,s),isBlockTreeEnabled>0&&!a&&currentBlock&&(y.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=y:currentBlock.push(y)),y.patchFlag|=-2,y}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:y,style:m}=t;y&&!isString$1(y)&&(t.class=normalizeClass(y)),isObject(m)&&(isProxy(m)&&!isArray(m)&&(m=extend({},m)),t.style=normalizeStyle(m))}const l=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,t,s,n,i,l,a,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,s=!1){const{props:n,ref:i,patchFlag:a,children:l}=e,y=t?mergeProps(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&normalizeKey(y),ref:t&&t.ref?s&&i?isArray(i)?i.concat(normalizeRef(t)):[i,normalizeRef(t)]:normalizeRef(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(isArray(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),normalizeChildren(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:i===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},s=32):(t=String(t),n&64?(s=16,t=[createTextVNode(t)]):s=8);e.children=t,e.shapeFlag|=s}function mergeProps(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=normalizeClass([t.class,n.class]));else if(i==="style")t.style=normalizeStyle([t.style,n.style]);else if(isOn(i)){const a=t[i],l=n[i];l&&a!==l&&!(isArray(a)&&a.includes(l))&&(t[i]=a?[].concat(a,l):l)}else i!==""&&(t[i]=n[i])}return t}function invokeVNodeHook(e,t,s,n=null){callWithAsyncErrorHandling(e,t,7,[s,n])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||emptyAppContext,a={uid:uid++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,i),emitsOptions:normalizeEmitsOptions(n,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=emit.bind(null,a),e.ce&&e.ce(a),a}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:s,children:n}=e.vnode,i=isStatefulComponent(e);initProps(e,s,i,t),initSlots(e,n);const a=i?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,a}function setupStatefulComponent(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:n}=s;if(n){const i=e.setupContext=n.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const a=callWithErrorHandling(n,e,0,[e.props,i]);if(resetTracking(),unsetCurrentInstance(),isPromise(a)){if(a.then(unsetCurrentInstance,unsetCurrentInstance),t)return a.then(l=>{handleSetupResult(e,l,t)}).catch(l=>{handleError(l,e,0)});e.asyncDep=a}else handleSetupResult(e,a,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,s){isFunction$1(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,s)}let compile;function finishComponentSetup(e,t,s){const n=e.type;if(!e.render){if(!t&&compile&&!n.render){const i=n.template||resolveMergedOptions(e).template;if(i){const{isCustomElement:a,compilerOptions:l}=e.appContext.config,{delimiters:y,compilerOptions:m}=n,g=extend(extend({isCustomElement:a,delimiters:y},l),m);n.render=compile(i,g)}}e.render=n.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,s){return track(e,"get","$attrs"),t[s]}})}function createSetupContext(e){const t=n=>{e.exposed=n||{}};let s;return{get attrs(){return s||(s=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](e)},has(t,s){return s in t||s in publicPropertiesMap}}))}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup),ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.47",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t?doc.createElementNS(svgNS,e):doc.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,a){const l=s?s.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===a||!(i=i.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${e}</svg>`:e;const y=templateContainer.content;if(n){const m=y.firstChild;for(;m.firstChild;)y.appendChild(m.firstChild);y.removeChild(m)}t.insertBefore(y,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function patchClass(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,s){const n=e.style,i=isString$1(s);if(s&&!i){if(t&&!isString$1(t))for(const a in t)s[a]==null&&setStyle(n,a,"");for(const a in s)setStyle(n,a,s[a])}else{const a=n.display;i?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=a)}}const importantRE=/\s*!important$/;function setStyle(e,t,s){if(isArray(s))s.forEach(n=>setStyle(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=autoPrefix(e,t);importantRE.test(s)?e.setProperty(hyphenate(n),s.replace(importantRE,""),"important"):e[n]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const s=prefixCache[t];if(s)return s;let n=camelize(t);if(n!=="filter"&&n in e)return prefixCache[t]=n;n=capitalize(n);for(let i=0;i<prefixes.length;i++){const a=prefixes[i]+n;if(a in e)return prefixCache[t]=a}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,s,n,i){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,s);else{const a=isSpecialBooleanAttr(t);s==null||a&&!includeBooleanAttr(s)?e.removeAttribute(t):e.setAttribute(t,a?"":s)}}function patchDOMProp(e,t,s,n,i,a,l){if(t==="innerHTML"||t==="textContent"){n&&l(n,i,a),e[t]=s??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const m=s??"";(e.value!==m||e.tagName==="OPTION")&&(e.value=m),s==null&&e.removeAttribute(t);return}let y=!1;if(s===""||s==null){const m=typeof e[t];m==="boolean"?s=includeBooleanAttr(s):s==null&&m==="string"?(s="",y=!0):m==="number"&&(s=0,y=!0)}try{e[t]=s}catch{}y&&e.removeAttribute(t)}function addEventListener(e,t,s,n){e.addEventListener(t,s,n)}function removeEventListener(e,t,s,n){e.removeEventListener(t,s,n)}function patchEvent(e,t,s,n,i=null){const a=e._vei||(e._vei={}),l=a[t];if(n&&l)l.value=n;else{const[y,m]=parseName(t);if(n){const g=a[t]=createInvoker(n,i);addEventListener(e,y,g,m)}else l&&(removeEventListener(e,y,l,m),a[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let n;for(;n=e.match(optionsModifierRE);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,s.value),t,5,[n])};return s.value=e,s.attached=getNow(),s}function patchStopImmediatePropagation(e,t){if(isArray(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,s,n,i=!1,a,l,y,m)=>{t==="class"?patchClass(e,n,i):t==="style"?patchStyle(e,s,n):isOn(t)?isModelListener(t)||patchEvent(e,t,s,n,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,n,i))?patchDOMProp(e,t,n,a,l,y,m):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),patchAttr(e,t,n,i))};function shouldSetAsProp(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction$1(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$1(s)?!1:t in e}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray(t)?s=>invokeArrayFns(t,s):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e._assign=getModelAssigner(i);const a=n||i.props&&i.props.type==="number";addEventListener(e,t?"change":"input",l=>{if(l.target.composing)return;let y=e.value;s&&(y=y.trim()),a&&(y=looseToNumber(y)),e._assign(y)}),s&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:i}},a){if(e._assign=getModelAssigner(a),e.composing||document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===t||(i||e.type==="number")&&looseToNumber(e.value)===t))return;const l=t??"";e.value!==l&&(e.value=l)}},vShow={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),setDisplay(e,!0),n.enter(e)):n.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=normalizeContainer(n);if(!i)return;const a=t._component;!isFunction$1(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const l=s(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},t};function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(t,s){module.exports=t.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,t)=>{var Xe;Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=ye,t.bytesToString=Y,t.createValidAbsoluteUrl=xe,t.getModificationDate=Ee,t.getUuid=qe,t.getVerbosityLevel=oe,t.info=fe,t.isArrayBuffer=ce,t.isArrayEqual=ve,t.isNodeJS=void 0,t.normalizeUnicode=ze,t.objectFromMap=K,t.objectSize=H,t.setVerbosityLevel=$,t.shadow=ke,t.string32=F,t.stringToBytes=E,t.stringToPDFString=ue,t.stringToUTF8String=X,t.unreachable=G,t.utf8StringToString=J,t.warn=pe;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=s;const n=[1,0,0,1,0,0];t.IDENTITY_MATRIX=n;const i=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=i;const a=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=a;const l=1.35;t.LINE_FACTOR=l;const y=.35;t.LINE_DESCENT_FACTOR=y;const m=y/l;t.BASELINE_FACTOR=m;const g={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=g;const u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=u;const M="pdfjs_internal_editor_";t.AnnotationEditorPrefix=M;const C={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=C;const k={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=k;const R={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=R;const T={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=T;const w={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=w;const P={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=P;const O={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=O;const x={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=x;const L={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=L;const _={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=_;const A={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=A;const U={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=U;const v={O:"PageOpen",C:"PageClose"};t.PageActionEventType=v;const f={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=f;const B={NONE:0,BINARY:1};t.CMapCompressionType=B;const I={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=I;const Q={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=Q;let te=f.WARNINGS;function $(_e){Number.isInteger(_e)&&(te=_e)}function oe(){return te}function fe(_e){te>=f.INFOS&&console.log(`Info: ${_e}`)}function pe(_e){te>=f.WARNINGS&&console.log(`Warning: ${_e}`)}function G(_e){throw new Error(_e)}function ye(_e,re){_e||G(re)}function Se(_e){switch(_e==null?void 0:_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xe(_e,re=null,se=null){if(!_e)return null;try{if(se&&typeof _e=="string"){if(se.addDefaultProtocol&&_e.startsWith("www.")){const Pe=_e.match(/\./g);(Pe==null?void 0:Pe.length)>=2&&(_e=`http://${_e}`)}if(se.tryConvertEncoding)try{_e=X(_e)}catch{}}const Ce=re?new URL(_e,re):new URL(_e);if(Se(Ce))return Ce}catch{}return null}function ke(_e,re,se,Ce=!1){return Object.defineProperty(_e,re,{value:se,enumerable:!Ce,configurable:!0,writable:!1}),se}const j=function(){function re(se,Ce){this.constructor===re&&G("Cannot initialize BaseException."),this.message=se,this.name=Ce}return re.prototype=new Error,re.constructor=re,re}();t.BaseException=j;class h extends j{constructor(re,se){super(re,"PasswordException"),this.code=se}}t.PasswordException=h;class d extends j{constructor(re,se){super(re,"UnknownErrorException"),this.details=se}}t.UnknownErrorException=d;class c extends j{constructor(re){super(re,"InvalidPDFException")}}t.InvalidPDFException=c;class b extends j{constructor(re){super(re,"MissingPDFException")}}t.MissingPDFException=b;class S extends j{constructor(re,se){super(re,"UnexpectedResponseException"),this.status=se}}t.UnexpectedResponseException=S;class N extends j{constructor(re){super(re,"FormatError")}}t.FormatError=N;class W extends j{constructor(re){super(re,"AbortException")}}t.AbortException=W;function Y(_e){(typeof _e!="object"||(_e==null?void 0:_e.length)===void 0)&&G("Invalid argument for bytesToString");const re=_e.length,se=8192;if(re<se)return String.fromCharCode.apply(null,_e);const Ce=[];for(let Pe=0;Pe<re;Pe+=se){const tt=Math.min(Pe+se,re),et=_e.subarray(Pe,tt);Ce.push(String.fromCharCode.apply(null,et))}return Ce.join("")}function E(_e){typeof _e!="string"&&G("Invalid argument for stringToBytes");const re=_e.length,se=new Uint8Array(re);for(let Ce=0;Ce<re;++Ce)se[Ce]=_e.charCodeAt(Ce)&255;return se}function F(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,_e&255)}function H(_e){return Object.keys(_e).length}function K(_e){const re=Object.create(null);for(const[se,Ce]of _e)re[se]=Ce;return re}function ne(){const _e=new Uint8Array(4);return _e[0]=1,new Uint32Array(_e.buffer,0,1)[0]===1}function ee(){try{return new Function(""),!0}catch{return!1}}class be{static get isLittleEndian(){return ke(this,"isLittleEndian",ne())}static get isEvalSupported(){return ke(this,"isEvalSupported",ee())}static get isOffscreenCanvasSupported(){return ke(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ke(this,"platform",{isWin:!1,isMac:!1}):ke(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var re,se;return ke(this,"isCSSRoundSupported",(se=(re=globalThis.CSS)==null?void 0:re.supports)==null?void 0:se.call(re,"width: round(1.5px, 1px)"))}}t.FeatureTest=be;const Ae=[...Array(256).keys()].map(_e=>_e.toString(16).padStart(2,"0"));class he{static makeHexColor(re,se,Ce){return`#${Ae[re]}${Ae[se]}${Ae[Ce]}`}static scaleMinMax(re,se){let Ce;re[0]?(re[0]<0&&(Ce=se[0],se[0]=se[1],se[1]=Ce),se[0]*=re[0],se[1]*=re[0],re[3]<0&&(Ce=se[2],se[2]=se[3],se[3]=Ce),se[2]*=re[3],se[3]*=re[3]):(Ce=se[0],se[0]=se[2],se[2]=Ce,Ce=se[1],se[1]=se[3],se[3]=Ce,re[1]<0&&(Ce=se[2],se[2]=se[3],se[3]=Ce),se[2]*=re[1],se[3]*=re[1],re[2]<0&&(Ce=se[0],se[0]=se[1],se[1]=Ce),se[0]*=re[2],se[1]*=re[2]),se[0]+=re[4],se[1]+=re[4],se[2]+=re[5],se[3]+=re[5]}static transform(re,se){return[re[0]*se[0]+re[2]*se[1],re[1]*se[0]+re[3]*se[1],re[0]*se[2]+re[2]*se[3],re[1]*se[2]+re[3]*se[3],re[0]*se[4]+re[2]*se[5]+re[4],re[1]*se[4]+re[3]*se[5]+re[5]]}static applyTransform(re,se){const Ce=re[0]*se[0]+re[1]*se[2]+se[4],Pe=re[0]*se[1]+re[1]*se[3]+se[5];return[Ce,Pe]}static applyInverseTransform(re,se){const Ce=se[0]*se[3]-se[1]*se[2],Pe=(re[0]*se[3]-re[1]*se[2]+se[2]*se[5]-se[4]*se[3])/Ce,tt=(-re[0]*se[1]+re[1]*se[0]+se[4]*se[1]-se[5]*se[0])/Ce;return[Pe,tt]}static getAxialAlignedBoundingBox(re,se){const Ce=this.applyTransform(re,se),Pe=this.applyTransform(re.slice(2,4),se),tt=this.applyTransform([re[0],re[3]],se),et=this.applyTransform([re[2],re[1]],se);return[Math.min(Ce[0],Pe[0],tt[0],et[0]),Math.min(Ce[1],Pe[1],tt[1],et[1]),Math.max(Ce[0],Pe[0],tt[0],et[0]),Math.max(Ce[1],Pe[1],tt[1],et[1])]}static inverseTransform(re){const se=re[0]*re[3]-re[1]*re[2];return[re[3]/se,-re[1]/se,-re[2]/se,re[0]/se,(re[2]*re[5]-re[4]*re[3])/se,(re[4]*re[1]-re[5]*re[0])/se]}static singularValueDecompose2dScale(re){const se=[re[0],re[2],re[1],re[3]],Ce=re[0]*se[0]+re[1]*se[2],Pe=re[0]*se[1]+re[1]*se[3],tt=re[2]*se[0]+re[3]*se[2],et=re[2]*se[1]+re[3]*se[3],le=(Ce+et)/2,Re=Math.sqrt((Ce+et)**2-4*(Ce*et-tt*Pe))/2,Be=le+Re||1,Fe=le-Re||1;return[Math.sqrt(Be),Math.sqrt(Fe)]}static normalizeRect(re){const se=re.slice(0);return re[0]>re[2]&&(se[0]=re[2],se[2]=re[0]),re[1]>re[3]&&(se[1]=re[3],se[3]=re[1]),se}static intersect(re,se){const Ce=Math.max(Math.min(re[0],re[2]),Math.min(se[0],se[2])),Pe=Math.min(Math.max(re[0],re[2]),Math.max(se[0],se[2]));if(Ce>Pe)return null;const tt=Math.max(Math.min(re[1],re[3]),Math.min(se[1],se[3])),et=Math.min(Math.max(re[1],re[3]),Math.max(se[1],se[3]));return tt>et?null:[Ce,tt,Pe,et]}static bezierBoundingBox(re,se,Ce,Pe,tt,et,le,Re){const Be=[],Fe=[[],[]];let je,He,Qe,Te,Ke,$e,V,o;for(let ae=0;ae<2;++ae){if(ae===0?(He=6*re-12*Ce+6*tt,je=-3*re+9*Ce-9*tt+3*le,Qe=3*Ce-3*re):(He=6*se-12*Pe+6*et,je=-3*se+9*Pe-9*et+3*Re,Qe=3*Pe-3*se),Math.abs(je)<1e-12){if(Math.abs(He)<1e-12)continue;Te=-Qe/He,0<Te&&Te<1&&Be.push(Te);continue}V=He*He-4*Qe*je,o=Math.sqrt(V),!(V<0)&&(Ke=(-He+o)/(2*je),0<Ke&&Ke<1&&Be.push(Ke),$e=(-He-o)/(2*je),0<$e&&$e<1&&Be.push($e))}let D=Be.length,z;const Z=D;for(;D--;)Te=Be[D],z=1-Te,Fe[0][D]=z*z*z*re+3*z*z*Te*Ce+3*z*Te*Te*tt+Te*Te*Te*le,Fe[1][D]=z*z*z*se+3*z*z*Te*Pe+3*z*Te*Te*et+Te*Te*Te*Re;return Fe[0][Z]=re,Fe[1][Z]=se,Fe[0][Z+1]=le,Fe[1][Z+1]=Re,Fe[0].length=Fe[1].length=Z+2,[Math.min(...Fe[0]),Math.min(...Fe[1]),Math.max(...Fe[0]),Math.max(...Fe[1])]}}t.Util=he;const ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ue(_e){if(_e[0]>="ï"){let se;if(_e[0]==="þ"&&_e[1]==="ÿ"?se="utf-16be":_e[0]==="ÿ"&&_e[1]==="þ"?se="utf-16le":_e[0]==="ï"&&_e[1]==="»"&&_e[2]==="¿"&&(se="utf-8"),se)try{const Ce=new TextDecoder(se,{fatal:!0}),Pe=E(_e);return Ce.decode(Pe)}catch(Ce){pe(`stringToPDFString: "${Ce}".`)}}const re=[];for(let se=0,Ce=_e.length;se<Ce;se++){const Pe=ge[_e.charCodeAt(se)];re.push(Pe?String.fromCharCode(Pe):_e.charAt(se))}return re.join("")}function X(_e){return decodeURIComponent(escape(_e))}function J(_e){return unescape(encodeURIComponent(_e))}function ce(_e){return typeof _e=="object"&&(_e==null?void 0:_e.byteLength)!==void 0}function ve(_e,re){if(_e.length!==re.length)return!1;for(let se=0,Ce=_e.length;se<Ce;se++)if(_e[se]!==re[se])return!1;return!0}function Ee(_e=new Date){return[_e.getUTCFullYear().toString(),(_e.getUTCMonth()+1).toString().padStart(2,"0"),_e.getUTCDate().toString().padStart(2,"0"),_e.getUTCHours().toString().padStart(2,"0"),_e.getUTCMinutes().toString().padStart(2,"0"),_e.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ie{constructor(){q(this,Xe,!1);this.promise=new Promise((re,se)=>{this.resolve=Ce=>{de(this,Xe,!0),re(Ce)},this.reject=Ce=>{de(this,Xe,!0),se(Ce)}})}get settled(){return r(this,Xe)}}Xe=new WeakMap,t.PromiseCapability=Ie;let Ne=null,Ue=null;function ze(_e){return Ne||(Ne=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ue=new Map([["ﬅ","ſt"]])),_e.replaceAll(Ne,(re,se,Ce)=>se?se.normalize("NFKC"):Ue.get(Ce))}function qe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_e);else for(let re=0;re<32;re++)_e[re]=Math.floor(Math.random()*255);return Y(_e)}const We="pdfjs_internal_id_";t.AnnotationPrefix=We},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,n,i,ut,l,wt,m,g,u,M,C,k,R,T,w,Ct,O,x,jt,_,A;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(v){if(typeof v=="string"||v instanceof URL?v={url:v}:(0,_util.isArrayBuffer)(v)&&(v={data:v}),typeof v!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!v.url&&!v.data&&!v.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const f=new PDFDocumentLoadingTask,{docId:B}=f,I=v.url?getUrlProp(v.url):null,Q=v.data?getDataProp(v.data):null,te=v.httpHeaders||null,$=v.withCredentials===!0,oe=v.password??null,fe=v.range instanceof PDFDataRangeTransport?v.range:null,pe=Number.isInteger(v.rangeChunkSize)&&v.rangeChunkSize>0?v.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let G=v.worker instanceof PDFWorker?v.worker:null;const ye=v.verbosity,Se=typeof v.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(v.docBaseUrl)?v.docBaseUrl:null,xe=typeof v.cMapUrl=="string"?v.cMapUrl:null,ke=v.cMapPacked!==!1,j=v.CMapReaderFactory||DefaultCMapReaderFactory,h=typeof v.standardFontDataUrl=="string"?v.standardFontDataUrl:null,d=v.StandardFontDataFactory||DefaultStandardFontDataFactory,c=v.stopAtErrors!==!0,b=Number.isInteger(v.maxImageSize)&&v.maxImageSize>-1?v.maxImageSize:-1,S=v.isEvalSupported!==!1,N=typeof v.isOffscreenCanvasSupported=="boolean"?v.isOffscreenCanvasSupported:!_util.isNodeJS,W=Number.isInteger(v.canvasMaxAreaInBytes)?v.canvasMaxAreaInBytes:-1,Y=typeof v.disableFontFace=="boolean"?v.disableFontFace:_util.isNodeJS,E=v.fontExtraProperties===!0,F=v.enableXfa===!0,H=v.ownerDocument||globalThis.document,K=v.disableRange===!0,ne=v.disableStream===!0,ee=v.disableAutoFetch===!0,be=v.pdfBug===!0,Ae=fe?fe.length:v.length??NaN,he=typeof v.useSystemFonts=="boolean"?v.useSystemFonts:!_util.isNodeJS&&!Y,ge=typeof v.useWorkerFetch=="boolean"?v.useWorkerFetch:j===_display_utils.DOMCMapReaderFactory&&d===_display_utils.DOMStandardFontDataFactory&&xe&&h&&(0,_display_utils.isValidFetchUrl)(xe,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(h,document.baseURI),ue=v.canvasFactory||new DefaultCanvasFactory({ownerDocument:H}),X=v.filterFactory||new DefaultFilterFactory({docId:B,ownerDocument:H}),J=null;(0,_util.setVerbosityLevel)(ye);const ce={canvasFactory:ue,filterFactory:X};if(ge||(ce.cMapReaderFactory=new j({baseUrl:xe,isCompressed:ke}),ce.standardFontDataFactory=new d({baseUrl:h})),!G){const Ie={verbosity:ye,port:_worker_options.GlobalWorkerOptions.workerPort};G=Ie.port?PDFWorker.fromPort(Ie):new PDFWorker(Ie),f._worker=G}const ve={docId:B,apiVersion:"3.11.174",data:Q,password:oe,disableAutoFetch:ee,rangeChunkSize:pe,length:Ae,docBaseUrl:Se,enableXfa:F,evaluatorOptions:{maxImageSize:b,disableFontFace:Y,ignoreErrors:c,isEvalSupported:S,isOffscreenCanvasSupported:N,canvasMaxAreaInBytes:W,fontExtraProperties:E,useSystemFonts:he,cMapUrl:ge?xe:null,standardFontDataUrl:ge?h:null}},Ee={ignoreErrors:c,isEvalSupported:S,disableFontFace:Y,fontExtraProperties:E,enableXfa:F,ownerDocument:H,disableAutoFetch:ee,pdfBug:be,styleElement:J};return G.promise.then(function(){if(f.destroyed)throw new Error("Loading aborted");const Ie=_fetchDocument(G,ve),Ne=new Promise(function(Ue){let ze;fe?ze=new _transport_stream.PDFDataTransportStream({length:Ae,initialData:fe.initialData,progressiveDone:fe.progressiveDone,contentDispositionFilename:fe.contentDispositionFilename,disableRange:K,disableStream:ne},fe):Q||(ze=(We=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(We):(0,_display_utils.isValidFetchUrl)(We.url)?new _displayFetch_stream.PDFFetchStream(We):new _displayNetwork.PDFNetworkStream(We))({url:I,length:Ae,httpHeaders:te,withCredentials:$,rangeChunkSize:pe,disableRange:K,disableStream:ne})),Ue(ze)});return Promise.all([Ie,Ne]).then(function([Ue,ze]){if(f.destroyed)throw new Error("Loading aborted");const qe=new _message_handler.MessageHandler(B,Ue,G.port),We=new WorkerTransport(qe,f,ze,Ee,ce);f._transport=We,qe.send("Ready",null)})}).catch(f._capability.reject),f}async function _fetchDocument(v,f){if(v.destroyed)throw new Error("Worker was destroyed");const B=await v.messageHandler.sendWithPromise("GetDocRequest",f,f.data?[f.data.buffer]:null);if(v.destroyed)throw new Error("Worker was destroyed");return B}function getUrlProp(v){if(v instanceof URL)return v.href;try{return new URL(v,window.location).href}catch{if(_util.isNodeJS&&typeof v=="string")return v}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(v){if(_util.isNodeJS&&typeof Buffer<"u"&&v instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(v instanceof Uint8Array&&v.byteLength===v.buffer.byteLength)return v;if(typeof v=="string")return(0,_util.stringToBytes)(v);if(typeof v=="object"&&!isNaN(v==null?void 0:v.length)||(0,_util.isArrayBuffer)(v))return new Uint8Array(v);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${mt(t,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var f,B,I;this.destroyed=!0;try{(f=this._worker)!=null&&f.port&&(this._worker._pendingDestroy=!0),await((B=this._transport)==null?void 0:B.destroy())}catch(Q){throw(I=this._worker)!=null&&I.port&&delete this._worker._pendingDestroy,Q}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=t;e=new WeakMap,q(PDFDocumentLoadingTask,e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(f,B,I=!1,Q=null){this.length=f,this.initialData=B,this.progressiveDone=I,this.contentDispositionFilename=Q,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(f){this._rangeListeners.push(f)}addProgressListener(f){this._progressListeners.push(f)}addProgressiveReadListener(f){this._progressiveReadListeners.push(f)}addProgressiveDoneListener(f){this._progressiveDoneListeners.push(f)}onDataRange(f,B){for(const I of this._rangeListeners)I(f,B)}onDataProgress(f,B){this._readyCapability.promise.then(()=>{for(const I of this._progressListeners)I(f,B)})}onDataProgressiveRead(f){this._readyCapability.promise.then(()=>{for(const B of this._progressiveReadListeners)B(f)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const f of this._progressiveDoneListeners)f()})}transportReady(){this._readyCapability.resolve()}requestDataRange(f,B){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(f,B){this._pdfInfo=f,this._transport=B,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(I=>{if(!I)return I;const Q=[];for(const te in I)Q.push(...I[te]);return Q}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(f){return this._transport.getPage(f)}getPageIndex(f){return this._transport.getPageIndex(f)}getDestinations(){return this._transport.getDestinations()}getDestination(f){return this._transport.getDestination(f)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(f=!1){return this._transport.startCleanup(f||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(f,B,I,Q=!1){q(this,i);q(this,l);q(this,s,null);q(this,n,!1);this._pageIndex=f,this._pageInfo=B,this._transport=I,this._stats=Q?new _display_utils.StatTimer:null,this._pdfBug=Q,this.commonObjs=I.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:f,rotation:B=this.rotate,offsetX:I=0,offsetY:Q=0,dontFlip:te=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:f,rotation:B,offsetX:I,offsetY:Q,dontFlip:te})}getAnnotations({intent:f="display"}={}){const B=this._transport.getRenderingIntent(f);return this._transport.getAnnotations(this._pageIndex,B.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var f;return((f=this._transport._htmlForXfa)==null?void 0:f.children[this._pageIndex])||null}render({canvasContext:f,viewport:B,intent:I="display",annotationMode:Q=_util.AnnotationMode.ENABLE,transform:te=null,background:$=null,optionalContentConfigPromise:oe=null,annotationCanvasMap:fe=null,pageColors:pe=null,printAnnotationStorage:G=null}){var d,c;(d=this._stats)==null||d.time("Overall");const ye=this._transport.getRenderingIntent(I,Q,G);de(this,n,!1),ie(this,l,wt).call(this),oe||(oe=this._transport.getOptionalContentConfig());let Se=this._intentStates.get(ye.cacheKey);Se||(Se=Object.create(null),this._intentStates.set(ye.cacheKey,Se)),Se.streamReaderCancelTimeout&&(clearTimeout(Se.streamReaderCancelTimeout),Se.streamReaderCancelTimeout=null);const xe=!!(ye.renderingIntent&_util.RenderingIntentFlag.PRINT);Se.displayReadyCapability||(Se.displayReadyCapability=new _util.PromiseCapability,Se.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(ye));const ke=b=>{var S,N;Se.renderTasks.delete(j),(this._maybeCleanupAfterRender||xe)&&de(this,n,!0),ie(this,i,ut).call(this,!xe),b?(j.capability.reject(b),this._abortOperatorList({intentState:Se,reason:b instanceof Error?b:new Error(b)})):j.capability.resolve(),(S=this._stats)==null||S.timeEnd("Rendering"),(N=this._stats)==null||N.timeEnd("Overall")},j=new InternalRenderTask({callback:ke,params:{canvasContext:f,viewport:B,transform:te,background:$},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:fe,operatorList:Se.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!xe,pdfBug:this._pdfBug,pageColors:pe});(Se.renderTasks||(Se.renderTasks=new Set)).add(j);const h=j.task;return Promise.all([Se.displayReadyCapability.promise,oe]).then(([b,S])=>{var N;if(this.destroyed){ke();return}(N=this._stats)==null||N.time("Rendering"),j.initializeGraphics({transparency:b,optionalContentConfig:S}),j.operatorListChanged()}).catch(ke),h}getOperatorList({intent:f="display",annotationMode:B=_util.AnnotationMode.ENABLE,printAnnotationStorage:I=null}={}){var fe;function Q(){$.operatorList.lastChunk&&($.opListReadCapability.resolve($.operatorList),$.renderTasks.delete(oe))}const te=this._transport.getRenderingIntent(f,B,I,!0);let $=this._intentStates.get(te.cacheKey);$||($=Object.create(null),this._intentStates.set(te.cacheKey,$));let oe;return $.opListReadCapability||(oe=Object.create(null),oe.operatorListChanged=Q,$.opListReadCapability=new _util.PromiseCapability,($.renderTasks||($.renderTasks=new Set)).add(oe),$.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(fe=this._stats)==null||fe.time("Page Request"),this._pumpOperatorList(te)),$.opListReadCapability.promise}streamTextContent({includeMarkedContent:f=!1,disableNormalization:B=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:f===!0,disableNormalization:B===!0},{highWaterMark:100,size(Q){return Q.items.length}})}getTextContent(f={}){if(this._transport._htmlForXfa)return this.getXfa().then(I=>_xfa_text.XfaText.textContent(I));const B=this.streamTextContent(f);return new Promise(function(I,Q){function te(){$.read().then(function({value:fe,done:pe}){if(pe){I(oe);return}Object.assign(oe.styles,fe.styles),oe.items.push(...fe.items),te()},Q)}const $=B.getReader(),oe={items:[],styles:Object.create(null)};te()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const f=[];for(const B of this._intentStates.values())if(this._abortOperatorList({intentState:B,reason:new Error("Page was destroyed."),force:!0}),!B.opListReadCapability)for(const I of B.renderTasks)f.push(I.completed),I.cancel();return this.objs.clear(),de(this,n,!1),ie(this,l,wt).call(this),Promise.all(f)}cleanup(f=!1){de(this,n,!0);const B=ie(this,i,ut).call(this,!1);return f&&B&&this._stats&&(this._stats=new _display_utils.StatTimer),B}_startRenderPage(f,B){var Q,te;const I=this._intentStates.get(B);I&&((Q=this._stats)==null||Q.timeEnd("Page Request"),(te=I.displayReadyCapability)==null||te.resolve(f))}_renderPageChunk(f,B){for(let I=0,Q=f.length;I<Q;I++)B.operatorList.fnArray.push(f.fnArray[I]),B.operatorList.argsArray.push(f.argsArray[I]);B.operatorList.lastChunk=f.lastChunk,B.operatorList.separateAnnots=f.separateAnnots;for(const I of B.renderTasks)I.operatorListChanged();f.lastChunk&&ie(this,i,ut).call(this,!0)}_pumpOperatorList({renderingIntent:f,cacheKey:B,annotationStorageSerializable:I}){const{map:Q,transfers:te}=I,oe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:f,cacheKey:B,annotationStorage:Q},te).getReader(),fe=this._intentStates.get(B);fe.streamReader=oe;const pe=()=>{oe.read().then(({value:G,done:ye})=>{if(ye){fe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(G,fe),pe())},G=>{if(fe.streamReader=null,!this._transport.destroyed){if(fe.operatorList){fe.operatorList.lastChunk=!0;for(const ye of fe.renderTasks)ye.operatorListChanged();ie(this,i,ut).call(this,!0)}if(fe.displayReadyCapability)fe.displayReadyCapability.reject(G);else if(fe.opListReadCapability)fe.opListReadCapability.reject(G);else throw G}})};pe()}_abortOperatorList({intentState:f,reason:B,force:I=!1}){if(f.streamReader){if(f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null),!I){if(f.renderTasks.size>0)return;if(B instanceof _display_utils.RenderingCancelledException){let Q=RENDERING_CANCELLED_TIMEOUT;B.extraDelay>0&&B.extraDelay<1e3&&(Q+=B.extraDelay),f.streamReaderCancelTimeout=setTimeout(()=>{f.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:f,reason:B,force:!0})},Q);return}}if(f.streamReader.cancel(new _util.AbortException(B.message)).catch(()=>{}),f.streamReader=null,!this._transport.destroyed){for(const[Q,te]of this._intentStates)if(te===f){this._intentStates.delete(Q);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,n=new WeakMap,i=new WeakSet,ut=function(f=!1){if(ie(this,l,wt).call(this),!r(this,n)||this.destroyed)return!1;if(f)return de(this,s,setTimeout(()=>{de(this,s,null),ie(this,i,ut).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:B,operatorList:I}of this._intentStates.values())if(B.size>0||!I.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),de(this,n,!1),!0},l=new WeakSet,wt=function(){r(this,s)&&(clearTimeout(r(this,s)),de(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){q(this,m,new Set);q(this,g,Promise.resolve())}postMessage(f,B){const I={data:structuredClone(f,B?{transfer:B}:null)};r(this,g).then(()=>{for(const Q of r(this,m))Q.call(this,I)})}addEventListener(f,B){r(this,m).add(B)}removeEventListener(f,B){r(this,m).delete(B)}terminate(){r(this,m).clear()}}m=new WeakMap,g=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const v=(u=document==null?void 0:document.currentScript)==null?void 0:u.src;v&&(PDFWorkerUtil.fallbackWorkerSrc=v.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(v,f){let B;try{if(B=new URL(v),!B.origin||B.origin==="null")return!1}catch{return!1}const I=new URL(f,B);return B.origin===I.origin},PDFWorkerUtil.createCDNWrapper=function(v){const f=`importScripts("${v}");`;return URL.createObjectURL(new Blob([f]))}}const _PDFWorker=class{constructor({name:v=null,port:f=null,verbosity:B=(0,_util.getVerbosityLevel)()}={}){var I;if(this.name=v,this.destroyed=!1,this.verbosity=B,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,f){if((I=r(_PDFWorker,M))!=null&&I.has(f))throw new Error("Cannot use more than one PDFWorker per port.");(r(_PDFWorker,M)||de(_PDFWorker,M,new WeakMap)).set(f,this),this._initializeFromPort(f);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(v){this._port=v,this._messageHandler=new _message_handler.MessageHandler("main","worker",v),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:v}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,v)||(v=PDFWorkerUtil.createCDNWrapper(new URL(v,window.location).href));const f=new Worker(v),B=new _message_handler.MessageHandler("main","worker",f),I=()=>{f.removeEventListener("error",Q),B.destroy(),f.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Q=()=>{this._webWorker||I()};f.addEventListener("error",Q),B.on("test",$=>{if(f.removeEventListener("error",Q),this.destroyed){I();return}$?(this._messageHandler=B,this._port=f,this._webWorker=f,this._readyCapability.resolve(),B.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),B.destroy(),f.terminate())}),B.on("ready",$=>{if(f.removeEventListener("error",Q),this.destroyed){I();return}try{te()}catch{this._setupFakeWorker()}});const te=()=>{const $=new Uint8Array;B.send("test",$,[$.buffer])};te();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(v=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const f=new LoopbackPort;this._port=f;const B=`fake${PDFWorkerUtil.fakeWorkerId++}`,I=new _message_handler.MessageHandler(B+"_worker",B,f);v.setup(I,f);const Q=new _message_handler.MessageHandler(B,B+"_worker",f);this._messageHandler=Q,this._readyCapability.resolve(),Q.send("configure",{verbosity:this.verbosity})}).catch(v=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${v.message}".`))})}destroy(){var v;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(v=r(_PDFWorker,M))==null||v.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(v){var B;if(!(v!=null&&v.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const f=(B=r(this,M))==null?void 0:B.get(v.port);if(f){if(f._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return f}return new _PDFWorker(v)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var v;try{return((v=globalThis.pdfjsWorker)==null?void 0:v.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;M=new WeakMap,q(PDFWorker,M,void 0),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(f,B,I,Q,te){q(this,w);q(this,C,new Map);q(this,k,new Map);q(this,R,new Map);q(this,T,null);this.messageHandler=f,this.loadingTask=B,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Q.ownerDocument,styleElement:Q.styleElement}),this._params=Q,this.canvasFactory=te.canvasFactory,this.filterFactory=te.filterFactory,this.cMapReaderFactory=te.cMapReaderFactory,this.standardFontDataFactory=te.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=I,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(f,B=_util.AnnotationMode.ENABLE,I=null,Q=!1){let te=_util.RenderingIntentFlag.DISPLAY,$=_annotation_storage.SerializableEmpty;switch(f){case"any":te=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":te=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${f}`)}switch(B){case _util.AnnotationMode.DISABLE:te+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:te+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:te+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,$=(te&_util.RenderingIntentFlag.PRINT&&I instanceof _annotation_storage.PrintAnnotationStorage?I:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${B}`)}return Q&&(te+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:te,cacheKey:`${te}_${$.hash}`,annotationStorageSerializable:$}}destroy(){var I;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(I=r(this,T))==null||I.reject(new Error("Worker was destroyed during onPassword callback"));const f=[];for(const Q of r(this,k).values())f.push(Q._destroy());r(this,k).clear(),r(this,R).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const B=this.messageHandler.sendWithPromise("Terminate",null);return f.push(B),Promise.all(f).then(()=>{var Q;this.commonObjs.clear(),this.fontLoader.clear(),r(this,C).clear(),this.filterFactory.destroy(),(Q=this._networkStream)==null||Q.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:f,loadingTask:B}=this;f.on("GetReader",(I,Q)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=te=>{this._lastProgress={loaded:te.loaded,total:te.total}},Q.onPull=()=>{this._fullReader.read().then(function({value:te,done:$}){if($){Q.close();return}(0,_util.assert)(te instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Q.enqueue(new Uint8Array(te),1,[te])}).catch(te=>{Q.error(te)})},Q.onCancel=te=>{this._fullReader.cancel(te),Q.ready.catch($=>{if(!this.destroyed)throw $})}}),f.on("ReaderHeadersReady",I=>{const Q=new _util.PromiseCapability,te=this._fullReader;return te.headersReady.then(()=>{var $;(!te.isStreamingSupported||!te.isRangeSupported)&&(this._lastProgress&&(($=B.onProgress)==null||$.call(B,this._lastProgress)),te.onProgress=oe=>{var fe;(fe=B.onProgress)==null||fe.call(B,{loaded:oe.loaded,total:oe.total})}),Q.resolve({isStreamingSupported:te.isStreamingSupported,isRangeSupported:te.isRangeSupported,contentLength:te.contentLength})},Q.reject),Q.promise}),f.on("GetRangeReader",(I,Q)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const te=this._networkStream.getRangeReader(I.begin,I.end);if(!te){Q.close();return}Q.onPull=()=>{te.read().then(function({value:$,done:oe}){if(oe){Q.close();return}(0,_util.assert)($ instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Q.enqueue(new Uint8Array($),1,[$])}).catch($=>{Q.error($)})},Q.onCancel=$=>{te.cancel($),Q.ready.catch(oe=>{if(!this.destroyed)throw oe})}}),f.on("GetDoc",({pdfInfo:I})=>{this._numPages=I.numPages,this._htmlForXfa=I.htmlForXfa,delete I.htmlForXfa,B._capability.resolve(new PDFDocumentProxy(I,this))}),f.on("DocException",function(I){let Q;switch(I.name){case"PasswordException":Q=new _util.PasswordException(I.message,I.code);break;case"InvalidPDFException":Q=new _util.InvalidPDFException(I.message);break;case"MissingPDFException":Q=new _util.MissingPDFException(I.message);break;case"UnexpectedResponseException":Q=new _util.UnexpectedResponseException(I.message,I.status);break;case"UnknownErrorException":Q=new _util.UnknownErrorException(I.message,I.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}B._capability.reject(Q)}),f.on("PasswordRequest",I=>{if(de(this,T,new _util.PromiseCapability),B.onPassword){const Q=te=>{te instanceof Error?r(this,T).reject(te):r(this,T).resolve({password:te})};try{B.onPassword(Q,I.code)}catch(te){r(this,T).reject(te)}}else r(this,T).reject(new _util.PasswordException(I.message,I.code));return r(this,T).promise}),f.on("DataLoaded",I=>{var Q;(Q=B.onProgress)==null||Q.call(B,{loaded:I.length,total:I.length}),this.downloadInfoCapability.resolve(I)}),f.on("StartRenderPage",I=>{if(this.destroyed)return;r(this,k).get(I.pageIndex)._startRenderPage(I.transparency,I.cacheKey)}),f.on("commonobj",([I,Q,te])=>{var $;if(!this.destroyed&&!this.commonObjs.has(I))switch(Q){case"Font":const oe=this._params;if("error"in te){const G=te.error;(0,_util.warn)(`Error during font loading: ${G}`),this.commonObjs.resolve(I,G);break}const fe=oe.pdfBug&&(($=globalThis.FontInspector)!=null&&$.enabled)?(G,ye)=>globalThis.FontInspector.fontAdded(G,ye):null,pe=new _font_loader.FontFaceObject(te,{isEvalSupported:oe.isEvalSupported,disableFontFace:oe.disableFontFace,ignoreErrors:oe.ignoreErrors,inspectFont:fe});this.fontLoader.bind(pe).catch(G=>f.sendWithPromise("FontFallback",{id:I})).finally(()=>{!oe.fontExtraProperties&&pe.data&&(pe.data=null),this.commonObjs.resolve(I,pe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(I,te);break;default:throw new Error(`Got unknown common object type ${Q}`)}}),f.on("obj",([I,Q,te,$])=>{var fe;if(this.destroyed)return;const oe=r(this,k).get(Q);if(!oe.objs.has(I))switch(te){case"Image":if(oe.objs.resolve(I,$),$){let pe;if($.bitmap){const{width:G,height:ye}=$;pe=G*ye*4}else pe=((fe=$.data)==null?void 0:fe.length)||0;pe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(oe._maybeCleanupAfterRender=!0)}break;case"Pattern":oe.objs.resolve(I,$);break;default:throw new Error(`Got unknown object type ${te}`)}}),f.on("DocProgress",I=>{var Q;this.destroyed||(Q=B.onProgress)==null||Q.call(B,{loaded:I.loaded,total:I.total})}),f.on("FetchBuiltInCMap",I=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(I):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),f.on("FetchStandardFontData",I=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(I):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var I;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:f,transfers:B}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:f,filename:((I=this._fullReader)==null?void 0:I.filename)??null},B).finally(()=>{this.annotationStorage.resetModified()})}getPage(f){if(!Number.isInteger(f)||f<=0||f>this._numPages)return Promise.reject(new Error("Invalid page request."));const B=f-1,I=r(this,R).get(B);if(I)return I;const Q=this.messageHandler.sendWithPromise("GetPage",{pageIndex:B}).then(te=>{if(this.destroyed)throw new Error("Transport destroyed");const $=new PDFPageProxy(B,te,this,this._params.pdfBug);return r(this,k).set(B,$),$});return r(this,R).set(B,Q),Q}getPageIndex(f){return typeof f!="object"||f===null||!Number.isInteger(f.num)||f.num<0||!Number.isInteger(f.gen)||f.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:f.num,gen:f.gen})}getAnnotations(f,B){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:f,intent:B})}getFieldObjects(){return ie(this,w,Ct).call(this,"GetFieldObjects")}hasJSActions(){return ie(this,w,Ct).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(f){return typeof f!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:f})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ie(this,w,Ct).call(this,"GetDocJSActions")}getPageJSActions(f){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:f})}getStructTree(f){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:f})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(f=>new _optional_content_config.OptionalContentConfig(f))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const f="GetMetadata",B=r(this,C).get(f);if(B)return B;const I=this.messageHandler.sendWithPromise(f,null).then(Q=>{var te,$;return{info:Q[0],metadata:Q[1]?new _metadata.Metadata(Q[1]):null,contentDispositionFilename:((te=this._fullReader)==null?void 0:te.filename)??null,contentLength:(($=this._fullReader)==null?void 0:$.contentLength)??null}});return r(this,C).set(f,I),I}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(f=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const B of r(this,k).values())if(!B.cleanup())throw new Error(`startCleanup: Page ${B.pageNumber} is currently rendering.`);this.commonObjs.clear(),f||this.fontLoader.clear(),r(this,C).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:f,enableXfa:B}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:f,enableXfa:B})}}C=new WeakMap,k=new WeakMap,R=new WeakMap,T=new WeakMap,w=new WeakSet,Ct=function(f,B=null){const I=r(this,C).get(f);if(I)return I;const Q=this.messageHandler.sendWithPromise(f,B);return r(this,C).set(f,Q),Q};class PDFObjects{constructor(){q(this,x);q(this,O,Object.create(null))}get(f,B=null){if(B){const Q=ie(this,x,jt).call(this,f);return Q.capability.promise.then(()=>B(Q.data)),null}const I=r(this,O)[f];if(!(I!=null&&I.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${f}.`);return I.data}has(f){const B=r(this,O)[f];return(B==null?void 0:B.capability.settled)||!1}resolve(f,B=null){const I=ie(this,x,jt).call(this,f);I.data=B,I.capability.resolve()}clear(){var f;for(const B in r(this,O)){const{data:I}=r(this,O)[B];(f=I==null?void 0:I.bitmap)==null||f.close()}de(this,O,Object.create(null))}}O=new WeakMap,x=new WeakSet,jt=function(f){var B;return(B=r(this,O))[f]||(B[f]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(f){q(this,_,null);de(this,_,f),this.onContinue=null}get promise(){return r(this,_).capability.promise}cancel(f=0){r(this,_).cancel(null,f)}get separateAnnots(){const{separateAnnots:f}=r(this,_).operatorList;if(!f)return!1;const{annotationCanvasMap:B}=r(this,_);return f.form||f.canvas&&(B==null?void 0:B.size)>0}}_=new WeakMap,exports.RenderTask=RenderTask;const U=class{constructor({callback:f,params:B,objs:I,commonObjs:Q,annotationCanvasMap:te,operatorList:$,pageIndex:oe,canvasFactory:fe,filterFactory:pe,useRequestAnimationFrame:G=!1,pdfBug:ye=!1,pageColors:Se=null}){this.callback=f,this.params=B,this.objs=I,this.commonObjs=Q,this.annotationCanvasMap=te,this.operatorListIdx=null,this.operatorList=$,this._pageIndex=oe,this.canvasFactory=fe,this.filterFactory=pe,this._pdfBug=ye,this.pageColors=Se,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=G===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=B.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:f=!1,optionalContentConfig:B}){var oe,fe;if(this.cancelled)return;if(this._canvas){if(r(U,A).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");r(U,A).add(this._canvas)}this._pdfBug&&((oe=globalThis.StepperManager)!=null&&oe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:I,viewport:Q,transform:te,background:$}=this.params;this.gfx=new _canvas.CanvasGraphics(I,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:B},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:te,viewport:Q,transparency:f,background:$}),this.operatorListIdx=0,this.graphicsReady=!0,(fe=this.graphicsReadyCallback)==null||fe.call(this)}cancel(f=null,B=0){var I;this.running=!1,this.cancelled=!0,(I=this.gfx)==null||I.endDrawing(),r(U,A).delete(this._canvas),this.callback(f||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,B))}operatorListChanged(){var f;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(f=this.stepper)==null||f.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),r(U,A).delete(this._canvas),this.callback())))}};let InternalRenderTask=U;A=new WeakMap,q(InternalRenderTask,A,new WeakSet);const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,t,s)=>{var g,u,M,vn,k;Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var n=s(1),i=s(4),a=s(8);const l=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=l;class y{constructor(){q(this,M);q(this,g,!1);q(this,u,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(T,w){const P=r(this,u).get(T);return P===void 0?w:Object.assign(w,P)}getRawValue(T){return r(this,u).get(T)}remove(T){if(r(this,u).delete(T),r(this,u).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const w of r(this,u).values())if(w instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(T,w){const P=r(this,u).get(T);let O=!1;if(P!==void 0)for(const[x,L]of Object.entries(w))P[x]!==L&&(O=!0,P[x]=L);else O=!0,r(this,u).set(T,w);O&&ie(this,M,vn).call(this),w instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(w.constructor._type)}has(T){return r(this,u).has(T)}getAll(){return r(this,u).size>0?(0,n.objectFromMap)(r(this,u)):null}setAll(T){for(const[w,P]of Object.entries(T))this.setValue(w,P)}get size(){return r(this,u).size}resetModified(){r(this,g)&&(de(this,g,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new m(this)}get serializable(){if(r(this,u).size===0)return l;const T=new Map,w=new a.MurmurHash3_64,P=[],O=Object.create(null);let x=!1;for(const[L,_]of r(this,u)){const A=_ instanceof i.AnnotationEditor?_.serialize(!1,O):_;A&&(T.set(L,A),w.update(`${L}:${JSON.stringify(A)}`),x||(x=!!A.bitmap))}if(x)for(const L of T.values())L.bitmap&&P.push(L.bitmap);return T.size>0?{map:T,hash:w.hexdigest(),transfers:P}:l}}g=new WeakMap,u=new WeakMap,M=new WeakSet,vn=function(){r(this,g)||(de(this,g,!0),typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=y;class m extends y{constructor(w){super();q(this,k,void 0);const{map:P,hash:O,transfers:x}=w.serializable,L=structuredClone(P,x?{transfer:x}:null);de(this,k,{map:L,hash:O,transfers:x})}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return r(this,k)}}k=new WeakMap,t.PrintAnnotationStorage=m},(e,t,s)=>{var m,g,u,M,C,k,R,T,w,P,O,x,L,_,A,$t,v,Ut,B,Ht,Q,Wt,$,Sn,fe,En,G,wn,Se,Vt,ke,Cn;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var n=s(5),i=s(1),a=s(6);const h=class{constructor(c){q(this,A);q(this,v);q(this,Q);q(this,$);q(this,fe);q(this,G);q(this,Se);q(this,ke);q(this,m,"");q(this,g,!1);q(this,u,null);q(this,M,null);q(this,C,null);q(this,k,!1);q(this,R,null);q(this,T,this.focusin.bind(this));q(this,w,this.focusout.bind(this));q(this,P,!1);q(this,O,!1);q(this,x,!1);nt(this,"_initialOptions",Object.create(null));nt(this,"_uiManager",null);nt(this,"_focusEventsAllowed",!0);nt(this,"_l10nPromise",null);q(this,L,!1);q(this,_,h._zIndex++);this.constructor===h&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=c.parent,this.id=c.id,this.width=this.height=null,this.pageIndex=c.parent.pageIndex,this.name=c.name,this.div=null,this._uiManager=c.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=c.isCentered,this._structTreeParentId=null;const{rotation:b,rawDims:{pageWidth:S,pageHeight:N,pageX:W,pageY:Y}}=this.parent.viewport;this.rotation=b,this.pageRotation=(360+b-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[S,N],this.pageTranslation=[W,Y];const[E,F]=this.parentDimensions;this.x=c.x/E,this.y=c.y/F,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(c){const b=new y({id:c.parent.getNextId(),parent:c.parent,uiManager:c._uiManager});b.annotationElementId=c.annotationElementId,b.deleted=!0,b._uiManager.addToAnnotationStorage(b)}static initialize(c,b=null){if(h._l10nPromise||(h._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(N=>[N,c.get(N)]))),b!=null&&b.strings)for(const N of b.strings)h._l10nPromise.set(N,c.get(N));if(h._borderLineWidth!==-1)return;const S=getComputedStyle(document.documentElement);h._borderLineWidth=parseFloat(S.getPropertyValue("--outline-width"))||0}static updateDefaultParams(c,b){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(c){return!1}static paste(c,b){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return r(this,L)}set _isDraggable(c){var b;de(this,L,c),(b=this.div)==null||b.classList.toggle("draggable",c)}center(){const[c,b]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*b/(c*2),this.y+=this.width*c/(b*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*b/(c*2),this.y-=this.width*c/(b*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(c){this._uiManager.addCommands(c)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=r(this,_)}setParent(c){c!==null&&(this.pageIndex=c.pageIndex,this.pageDimensions=c.pageDimensions),this.parent=c}focusin(c){this._focusEventsAllowed&&(r(this,P)?de(this,P,!1):this.parent.setSelected(this))}focusout(c){var S;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const b=c.relatedTarget;b!=null&&b.closest(`#${this.id}`)||(c.preventDefault(),(S=this.parent)!=null&&S.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(c,b,S,N){const[W,Y]=this.parentDimensions;[S,N]=this.screenToPageTranslation(S,N),this.x=(c+S)/W,this.y=(b+N)/Y,this.fixAndSetPosition()}translate(c,b){ie(this,A,$t).call(this,this.parentDimensions,c,b)}translateInPage(c,b){ie(this,A,$t).call(this,this.pageDimensions,c,b),this.div.scrollIntoView({block:"nearest"})}drag(c,b){const[S,N]=this.parentDimensions;if(this.x+=c/S,this.y+=b/N,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:H,y:K}=this.div.getBoundingClientRect();this.parent.findNewParent(this,H,K)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:W,y:Y}=this;const[E,F]=ie(this,v,Ut).call(this);W+=E,Y+=F,this.div.style.left=`${(100*W).toFixed(2)}%`,this.div.style.top=`${(100*Y).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[c,b]=this.pageDimensions;let{x:S,y:N,width:W,height:Y}=this;switch(W*=c,Y*=b,S*=c,N*=b,this.rotation){case 0:S=Math.max(0,Math.min(c-W,S)),N=Math.max(0,Math.min(b-Y,N));break;case 90:S=Math.max(0,Math.min(c-Y,S)),N=Math.min(b,Math.max(W,N));break;case 180:S=Math.min(c,Math.max(W,S)),N=Math.min(b,Math.max(Y,N));break;case 270:S=Math.min(c,Math.max(Y,S)),N=Math.max(0,Math.min(b-W,N));break}this.x=S/=c,this.y=N/=b;const[E,F]=ie(this,v,Ut).call(this);S+=E,N+=F;const{style:H}=this.div;H.left=`${(100*S).toFixed(2)}%`,H.top=`${(100*N).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(c,b){var S;return ie(S=h,B,Ht).call(S,c,b,this.parentRotation)}pageTranslationToScreen(c,b){var S;return ie(S=h,B,Ht).call(S,c,b,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:c,pageDimensions:[b,S]}=this,N=b*c,W=S*c;return i.FeatureTest.isCSSRoundSupported?[Math.round(N),Math.round(W)]:[N,W]}setDims(c,b){var W;const[S,N]=this.parentDimensions;this.div.style.width=`${(100*c/S).toFixed(2)}%`,r(this,k)||(this.div.style.height=`${(100*b/N).toFixed(2)}%`),(W=r(this,u))==null||W.classList.toggle("small",c<h.SMALL_EDITOR_SIZE||b<h.SMALL_EDITOR_SIZE)}fixDims(){const{style:c}=this.div,{height:b,width:S}=c,N=S.endsWith("%"),W=!r(this,k)&&b.endsWith("%");if(N&&W)return;const[Y,E]=this.parentDimensions;N||(c.width=`${(100*parseFloat(S)/Y).toFixed(2)}%`),!r(this,k)&&!W&&(c.height=`${(100*parseFloat(b)/E).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(r(this,u))return;const c=de(this,u,document.createElement("button"));c.className="altText";const b=await h._l10nPromise.get("editor_alt_text_button_label");c.textContent=b,c.setAttribute("aria-label",b),c.tabIndex="0",c.addEventListener("contextmenu",a.noContextMenu),c.addEventListener("pointerdown",S=>S.stopPropagation()),c.addEventListener("click",S=>{S.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),c.addEventListener("keydown",S=>{S.target===c&&S.key==="Enter"&&(S.preventDefault(),this._uiManager.editAltText(this))}),ie(this,Se,Vt).call(this),this.div.append(c),h.SMALL_EDITOR_SIZE||(h.SMALL_EDITOR_SIZE=Math.min(128,Math.round(c.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:r(this,m),decorative:r(this,g)}}set altTextData({altText:c,decorative:b}){r(this,m)===c&&r(this,g)===b||(de(this,m,c),de(this,g,b),ie(this,Se,Vt).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",r(this,T)),this.div.addEventListener("focusout",r(this,w));const[c,b]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*b/c).toFixed(2)}%`,this.div.style.maxHeight=`${(100*c/b).toFixed(2)}%`);const[S,N]=this.getInitialTranslation();return this.translate(S,N),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(c){const{isMac:b}=i.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&b){c.preventDefault();return}de(this,P,!0),ie(this,ke,Cn).call(this,c)}moveInDOM(){var c;(c=this.parent)==null||c.moveEditorInDOM(this)}_setParentAndPosition(c,b,S){c.changeParent(this),this.x=b,this.y=S,this.fixAndSetPosition()}getRect(c,b){const S=this.parentScale,[N,W]=this.pageDimensions,[Y,E]=this.pageTranslation,F=c/S,H=b/S,K=this.x*N,ne=this.y*W,ee=this.width*N,be=this.height*W;switch(this.rotation){case 0:return[K+F+Y,W-ne-H-be+E,K+F+ee+Y,W-ne-H+E];case 90:return[K+H+Y,W-ne+F+E,K+H+be+Y,W-ne+F+ee+E];case 180:return[K-F-ee+Y,W-ne+H+E,K-F+Y,W-ne+H+be+E];case 270:return[K-H-be+Y,W-ne-F-ee+E,K-H+Y,W-ne-F+E];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(c,b){const[S,N,W,Y]=c,E=W-S,F=Y-N;switch(this.rotation){case 0:return[S,b-Y,E,F];case 90:return[S,b-N,F,E];case 180:return[W,b-N,E,F];case 270:return[W,b-Y,F,E];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){de(this,x,!0)}disableEditMode(){de(this,x,!1)}isInEditMode(){return r(this,x)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var c,b;(c=this.div)==null||c.addEventListener("focusin",r(this,T)),(b=this.div)==null||b.addEventListener("focusout",r(this,w))}serialize(c=!1,b=null){(0,i.unreachable)("An editor must be serializable")}static deserialize(c,b,S){const N=new this.prototype.constructor({parent:b,id:b.getNextId(),uiManager:S});N.rotation=c.rotation;const[W,Y]=N.pageDimensions,[E,F,H,K]=N.getRectInCurrentCoords(c.rect,Y);return N.x=E/W,N.y=F/Y,N.width=H/W,N.height=K/Y,N}remove(){var c;this.div.removeEventListener("focusin",r(this,T)),this.div.removeEventListener("focusout",r(this,w)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(c=r(this,u))==null||c.remove(),de(this,u,null),de(this,M,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ie(this,$,Sn).call(this),r(this,R).classList.remove("hidden"))}select(){var c;this.makeResizable(),(c=this.div)==null||c.classList.add("selectedEditor")}unselect(){var c,b,S;(c=r(this,R))==null||c.classList.add("hidden"),(b=this.div)==null||b.classList.remove("selectedEditor"),(S=this.div)!=null&&S.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(c,b){}disableEditing(){r(this,u)&&(r(this,u).hidden=!0)}enableEditing(){r(this,u)&&(r(this,u).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return r(this,O)}set isEditing(c){de(this,O,c),this.parent&&(c?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(c,b){de(this,k,!0);const S=c/b,{style:N}=this.div;N.aspectRatio=S,N.height="auto"}static get MIN_SIZE(){return 16}};let l=h;m=new WeakMap,g=new WeakMap,u=new WeakMap,M=new WeakMap,C=new WeakMap,k=new WeakMap,R=new WeakMap,T=new WeakMap,w=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakMap,_=new WeakMap,A=new WeakSet,$t=function([c,b],S,N){[S,N]=this.screenToPageTranslation(S,N),this.x+=S/c,this.y+=N/b,this.fixAndSetPosition()},v=new WeakSet,Ut=function(){const[c,b]=this.parentDimensions,{_borderLineWidth:S}=h,N=S/c,W=S/b;switch(this.rotation){case 90:return[-N,W];case 180:return[N,W];case 270:return[N,-W];default:return[-N,-W]}},B=new WeakSet,Ht=function(c,b,S){switch(S){case 90:return[b,-c];case 180:return[-c,-b];case 270:return[-b,c];default:return[c,b]}},Q=new WeakSet,Wt=function(c){switch(c){case 90:{const[b,S]=this.pageDimensions;return[0,-b/S,S/b,0]}case 180:return[-1,0,0,-1];case 270:{const[b,S]=this.pageDimensions;return[0,b/S,-S/b,0]}default:return[1,0,0,1]}},$=new WeakSet,Sn=function(){if(r(this,R))return;de(this,R,document.createElement("div")),r(this,R).classList.add("resizers");const c=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||c.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const b of c){const S=document.createElement("div");r(this,R).append(S),S.classList.add("resizer",b),S.addEventListener("pointerdown",ie(this,fe,En).bind(this,b)),S.addEventListener("contextmenu",a.noContextMenu)}this.div.prepend(r(this,R))},fe=new WeakSet,En=function(c,b){b.preventDefault();const{isMac:S}=i.FeatureTest.platform;if(b.button!==0||b.ctrlKey&&S)return;const N=ie(this,G,wn).bind(this,c),W=this._isDraggable;this._isDraggable=!1;const Y={passive:!0,capture:!0};window.addEventListener("pointermove",N,Y);const E=this.x,F=this.y,H=this.width,K=this.height,ne=this.parent.div.style.cursor,ee=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(b.target).cursor;const be=()=>{this._isDraggable=W,window.removeEventListener("pointerup",be),window.removeEventListener("blur",be),window.removeEventListener("pointermove",N,Y),this.parent.div.style.cursor=ne,this.div.style.cursor=ee;const Ae=this.x,he=this.y,ge=this.width,ue=this.height;Ae===E&&he===F&&ge===H&&ue===K||this.addCommands({cmd:()=>{this.width=ge,this.height=ue,this.x=Ae,this.y=he;const[X,J]=this.parentDimensions;this.setDims(X*ge,J*ue),this.fixAndSetPosition()},undo:()=>{this.width=H,this.height=K,this.x=E,this.y=F;const[X,J]=this.parentDimensions;this.setDims(X*H,J*K),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",be),window.addEventListener("blur",be)},G=new WeakSet,wn=function(c,b){const[S,N]=this.parentDimensions,W=this.x,Y=this.y,E=this.width,F=this.height,H=h.MIN_SIZE/S,K=h.MIN_SIZE/N,ne=Ce=>Math.round(Ce*1e4)/1e4,ee=ie(this,Q,Wt).call(this,this.rotation),be=(Ce,Pe)=>[ee[0]*Ce+ee[2]*Pe,ee[1]*Ce+ee[3]*Pe],Ae=ie(this,Q,Wt).call(this,360-this.rotation),he=(Ce,Pe)=>[Ae[0]*Ce+Ae[2]*Pe,Ae[1]*Ce+Ae[3]*Pe];let ge,ue,X=!1,J=!1;switch(c){case"topLeft":X=!0,ge=(Ce,Pe)=>[0,0],ue=(Ce,Pe)=>[Ce,Pe];break;case"topMiddle":ge=(Ce,Pe)=>[Ce/2,0],ue=(Ce,Pe)=>[Ce/2,Pe];break;case"topRight":X=!0,ge=(Ce,Pe)=>[Ce,0],ue=(Ce,Pe)=>[0,Pe];break;case"middleRight":J=!0,ge=(Ce,Pe)=>[Ce,Pe/2],ue=(Ce,Pe)=>[0,Pe/2];break;case"bottomRight":X=!0,ge=(Ce,Pe)=>[Ce,Pe],ue=(Ce,Pe)=>[0,0];break;case"bottomMiddle":ge=(Ce,Pe)=>[Ce/2,Pe],ue=(Ce,Pe)=>[Ce/2,0];break;case"bottomLeft":X=!0,ge=(Ce,Pe)=>[0,Pe],ue=(Ce,Pe)=>[Ce,0];break;case"middleLeft":J=!0,ge=(Ce,Pe)=>[0,Pe/2],ue=(Ce,Pe)=>[Ce,Pe/2];break}const ce=ge(E,F),ve=ue(E,F);let Ee=be(...ve);const Ie=ne(W+Ee[0]),Ne=ne(Y+Ee[1]);let Ue=1,ze=1,[qe,We]=this.screenToPageTranslation(b.movementX,b.movementY);if([qe,We]=he(qe/S,We/N),X){const Ce=Math.hypot(E,F);Ue=ze=Math.max(Math.min(Math.hypot(ve[0]-ce[0]-qe,ve[1]-ce[1]-We)/Ce,1/E,1/F),H/E,K/F)}else J?Ue=Math.max(H,Math.min(1,Math.abs(ve[0]-ce[0]-qe)))/E:ze=Math.max(K,Math.min(1,Math.abs(ve[1]-ce[1]-We)))/F;const Xe=ne(E*Ue),_e=ne(F*ze);Ee=be(...ue(Xe,_e));const re=Ie-Ee[0],se=Ne-Ee[1];this.width=Xe,this.height=_e,this.x=re,this.y=se,this.setDims(S*Xe,N*_e),this.fixAndSetPosition()},Se=new WeakSet,Vt=async function(){var S;const c=r(this,u);if(!c)return;if(!r(this,m)&&!r(this,g)){c.classList.remove("done"),(S=r(this,M))==null||S.remove();return}h._l10nPromise.get("editor_alt_text_edit_button_label").then(N=>{c.setAttribute("aria-label",N)});let b=r(this,M);if(!b){de(this,M,b=document.createElement("span")),b.className="tooltip",b.setAttribute("role","tooltip");const N=b.id=`alt-text-tooltip-${this.id}`;c.setAttribute("aria-describedby",N);const W=100;c.addEventListener("mouseenter",()=>{de(this,C,setTimeout(()=>{de(this,C,null),r(this,M).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},W))}),c.addEventListener("mouseleave",()=>{var Y;clearTimeout(r(this,C)),de(this,C,null),(Y=r(this,M))==null||Y.classList.remove("show")})}c.classList.add("done"),b.innerText=r(this,g)?await h._l10nPromise.get("editor_alt_text_decorative_tooltip"):r(this,m),b.parentNode||c.append(b)},ke=new WeakSet,Cn=function(c){if(!this._isDraggable)return;const b=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let S,N;b&&(S={passive:!0,capture:!0},N=Y=>{const[E,F]=this.screenToPageTranslation(Y.movementX,Y.movementY);this._uiManager.dragSelectedEditors(E,F)},window.addEventListener("pointermove",N,S));const W=()=>{if(window.removeEventListener("pointerup",W),window.removeEventListener("blur",W),b&&window.removeEventListener("pointermove",N,S),de(this,P,!1),!this._uiManager.endDragSession()){const{isMac:Y}=i.FeatureTest.platform;c.ctrlKey&&!Y||c.shiftKey||c.metaKey&&Y?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",W),window.addEventListener("blur",W)},q(l,B),nt(l,"_borderLineWidth",-1),nt(l,"_colorManager",new n.ColorManager),nt(l,"_zIndex",1),nt(l,"SMALL_EDITOR_SIZE",0),t.AnnotationEditor=l;class y extends l{constructor(c){super(c),this.annotationElementId=c.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,s)=>{var k,R,T,w,P,zt,L,_,A,U,v,Tn,I,Q,te,$,oe,fe,pe,G,ye,Se,xe,ke,j,h,d,c,b,S,N,W,Y,E,F,H,K,ne,ee,be,Ae,he,ge,ue,X,J,ce,Pn,Ee,qt,Ne,Gt,ze,Tt,We,Xt,_e,Yt,se,at,Pe,_t,et,xn,Re,kn,Fe,Kt,He,bt,Te,Jt;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=a,t.opacityToHex=l;var n=s(1),i=s(6);function a(V,o,D){for(const z of D)o.addEventListener(z,V[z].bind(V))}function l(V){return Math.round(Math.min(255,Math.max(1,255*V))).toString(16).padStart(2,"0")}class y{constructor(){q(this,k,0)}getId(){return`${n.AnnotationEditorPrefix}${mt(this,k)._++}`}}k=new WeakMap;const x=class{constructor(){q(this,P);q(this,R,(0,n.getUuid)());q(this,T,0);q(this,w,null)}static get _isSVGFittingCanvas(){const o='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',z=new OffscreenCanvas(1,3).getContext("2d"),Z=new Image;Z.src=o;const ae=Z.decode().then(()=>(z.drawImage(Z,0,0,1,1,0,0,1,3),new Uint32Array(z.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",ae)}async getFromFile(o){const{lastModified:D,name:z,size:Z,type:ae}=o;return ie(this,P,zt).call(this,`${D}_${z}_${Z}_${ae}`,o)}async getFromUrl(o){return ie(this,P,zt).call(this,o,o)}async getFromId(o){r(this,w)||de(this,w,new Map);const D=r(this,w).get(o);return D?D.bitmap?(D.refCounter+=1,D):D.file?this.getFromFile(D.file):this.getFromUrl(D.url):null}getSvgUrl(o){const D=r(this,w).get(o);return D!=null&&D.isSvg?D.svgUrl:null}deleteId(o){r(this,w)||de(this,w,new Map);const D=r(this,w).get(o);D&&(D.refCounter-=1,D.refCounter===0&&(D.bitmap=null))}isValidId(o){return o.startsWith(`image_${r(this,R)}_`)}};let m=x;R=new WeakMap,T=new WeakMap,w=new WeakMap,P=new WeakSet,zt=async function(o,D){r(this,w)||de(this,w,new Map);let z=r(this,w).get(o);if(z===null)return null;if(z!=null&&z.bitmap)return z.refCounter+=1,z;try{z||(z={bitmap:null,id:`image_${r(this,R)}_${mt(this,T)._++}`,refCounter:0,isSvg:!1});let Z;if(typeof D=="string"){z.url=D;const ae=await fetch(D);if(!ae.ok)throw new Error(ae.statusText);Z=await ae.blob()}else Z=z.file=D;if(Z.type==="image/svg+xml"){const ae=x._isSVGFittingCanvas,me=new FileReader,we=new Image,Oe=new Promise((Me,Ge)=>{we.onload=()=>{z.bitmap=we,z.isSvg=!0,Me()},me.onload=async()=>{const De=z.svgUrl=me.result;we.src=await ae?`${De}#svgView(preserveAspectRatio(none))`:De},we.onerror=me.onerror=Ge});me.readAsDataURL(Z),await Oe}else z.bitmap=await createImageBitmap(Z);z.refCounter=1}catch(Z){console.error(Z),z=null}return r(this,w).set(o,z),z&&r(this,w).set(z.id,z),z};class g{constructor(o=128){q(this,L,[]);q(this,_,!1);q(this,A,void 0);q(this,U,-1);de(this,A,o)}add({cmd:o,undo:D,mustExec:z,type:Z=NaN,overwriteIfSameType:ae=!1,keepUndo:me=!1}){if(z&&o(),r(this,_))return;const we={cmd:o,undo:D,type:Z};if(r(this,U)===-1){r(this,L).length>0&&(r(this,L).length=0),de(this,U,0),r(this,L).push(we);return}if(ae&&r(this,L)[r(this,U)].type===Z){me&&(we.undo=r(this,L)[r(this,U)].undo),r(this,L)[r(this,U)]=we;return}const Oe=r(this,U)+1;Oe===r(this,A)?r(this,L).splice(0,1):(de(this,U,Oe),Oe<r(this,L).length&&r(this,L).splice(Oe)),r(this,L).push(we)}undo(){r(this,U)!==-1&&(de(this,_,!0),r(this,L)[r(this,U)].undo(),de(this,_,!1),de(this,U,r(this,U)-1))}redo(){r(this,U)<r(this,L).length-1&&(de(this,U,r(this,U)+1),de(this,_,!0),r(this,L)[r(this,U)].cmd(),de(this,_,!1))}hasSomethingToUndo(){return r(this,U)!==-1}hasSomethingToRedo(){return r(this,U)<r(this,L).length-1}destroy(){de(this,L,null)}}L=new WeakMap,_=new WeakMap,A=new WeakMap,U=new WeakMap,t.CommandManager=g;class u{constructor(o){q(this,v);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:D}=n.FeatureTest.platform;for(const[z,Z,ae={}]of o)for(const me of z){const we=me.startsWith("mac+");D&&we?(this.callbacks.set(me.slice(4),{callback:Z,options:ae}),this.allKeys.add(me.split("+").at(-1))):!D&&!we&&(this.callbacks.set(me,{callback:Z,options:ae}),this.allKeys.add(me.split("+").at(-1)))}}exec(o,D){if(!this.allKeys.has(D.key))return;const z=this.callbacks.get(ie(this,v,Tn).call(this,D));if(!z)return;const{callback:Z,options:{bubbles:ae=!1,args:me=[],checker:we=null}}=z;we&&!we(o,D)||(Z.bind(o,...me)(),ae||(D.stopPropagation(),D.preventDefault()))}}v=new WeakSet,Tn=function(o){o.altKey&&this.buffer.push("alt"),o.ctrlKey&&this.buffer.push("ctrl"),o.metaKey&&this.buffer.push("meta"),o.shiftKey&&this.buffer.push("shift"),this.buffer.push(o.key);const D=this.buffer.join("+");return this.buffer.length=0,D},t.KeyboardManager=u;const B=class{get _colors(){const o=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(o),(0,n.shadow)(this,"_colors",o)}convert(o){const D=(0,i.getRGB)(o);if(!window.matchMedia("(forced-colors: active)").matches)return D;for(const[z,Z]of this._colors)if(Z.every((ae,me)=>ae===D[me]))return B._colorsMapping.get(z);return D}getHexCode(o){const D=this._colors.get(o);return D?n.Util.makeHexColor(...D):o}};let M=B;nt(M,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=M;const $e=class{constructor(o,D,z,Z,ae,me){q(this,ce);q(this,Ee);q(this,Ne);q(this,ze);q(this,We);q(this,_e);q(this,se);q(this,Pe);q(this,et);q(this,Re);q(this,Fe);q(this,He);q(this,Te);q(this,I,null);q(this,Q,new Map);q(this,te,new Map);q(this,$,null);q(this,oe,null);q(this,fe,new g);q(this,pe,0);q(this,G,new Set);q(this,ye,null);q(this,Se,null);q(this,xe,new Set);q(this,ke,null);q(this,j,new y);q(this,h,!1);q(this,d,!1);q(this,c,null);q(this,b,n.AnnotationEditorType.NONE);q(this,S,new Set);q(this,N,null);q(this,W,this.blur.bind(this));q(this,Y,this.focus.bind(this));q(this,E,this.copy.bind(this));q(this,F,this.cut.bind(this));q(this,H,this.paste.bind(this));q(this,K,this.keydown.bind(this));q(this,ne,this.onEditingAction.bind(this));q(this,ee,this.onPageChanging.bind(this));q(this,be,this.onScaleChanging.bind(this));q(this,Ae,this.onRotationChanging.bind(this));q(this,he,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});q(this,ge,[0,0]);q(this,ue,null);q(this,X,null);q(this,J,null);de(this,X,o),de(this,J,D),de(this,$,z),this._eventBus=Z,this._eventBus._on("editingaction",r(this,ne)),this._eventBus._on("pagechanging",r(this,ee)),this._eventBus._on("scalechanging",r(this,be)),this._eventBus._on("rotationchanging",r(this,Ae)),de(this,oe,ae.annotationStorage),de(this,ke,ae.filterFactory),de(this,N,me),this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const o=$e.prototype,D=ae=>{const{activeElement:me}=document;return me&&r(ae,X).contains(me)&&ae.hasSomethingToControl()},z=this.TRANSLATE_SMALL,Z=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new u([[["ctrl+a","mac+meta+a"],o.selectAll],[["ctrl+z","mac+meta+z"],o.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],o.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],o.delete],[["Escape","mac+Escape"],o.unselectAll],[["ArrowLeft","mac+ArrowLeft"],o.translateSelectedEditors,{args:[-z,0],checker:D}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],o.translateSelectedEditors,{args:[-Z,0],checker:D}],[["ArrowRight","mac+ArrowRight"],o.translateSelectedEditors,{args:[z,0],checker:D}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],o.translateSelectedEditors,{args:[Z,0],checker:D}],[["ArrowUp","mac+ArrowUp"],o.translateSelectedEditors,{args:[0,-z],checker:D}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],o.translateSelectedEditors,{args:[0,-Z],checker:D}],[["ArrowDown","mac+ArrowDown"],o.translateSelectedEditors,{args:[0,z],checker:D}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],o.translateSelectedEditors,{args:[0,Z],checker:D}]]))}destroy(){ie(this,ze,Tt).call(this),ie(this,Ee,qt).call(this),this._eventBus._off("editingaction",r(this,ne)),this._eventBus._off("pagechanging",r(this,ee)),this._eventBus._off("scalechanging",r(this,be)),this._eventBus._off("rotationchanging",r(this,Ae));for(const o of r(this,te).values())o.destroy();r(this,te).clear(),r(this,Q).clear(),r(this,xe).clear(),de(this,I,null),r(this,S).clear(),r(this,fe).destroy(),r(this,$).destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",r(this,N)?r(this,ke).addHCMFilter(r(this,N).foreground,r(this,N).background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(r(this,X)).direction)}editAltText(o){var D;(D=r(this,$))==null||D.editAltText(this,o)}onPageChanging({pageNumber:o}){de(this,pe,o-1)}focusMainContainer(){r(this,X).focus()}findParent(o,D){for(const z of r(this,te).values()){const{x:Z,y:ae,width:me,height:we}=z.div.getBoundingClientRect();if(o>=Z&&o<=Z+me&&D>=ae&&D<=ae+we)return z}return null}disableUserSelect(o=!1){r(this,J).classList.toggle("noUserSelect",o)}addShouldRescale(o){r(this,xe).add(o)}removeShouldRescale(o){r(this,xe).delete(o)}onScaleChanging({scale:o}){this.commitOrRemove(),this.viewParameters.realScale=o*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const D of r(this,xe))D.onScaleChanging()}onRotationChanging({pagesRotation:o}){this.commitOrRemove(),this.viewParameters.rotation=o}addToAnnotationStorage(o){!o.isEmpty()&&r(this,oe)&&!r(this,oe).has(o.id)&&r(this,oe).setValue(o.id,o)}blur(){if(!this.hasSelection)return;const{activeElement:o}=document;for(const D of r(this,S))if(D.div.contains(o)){de(this,c,[D,o]),D._focusEventsAllowed=!1;break}}focus(){if(!r(this,c))return;const[o,D]=r(this,c);de(this,c,null),D.addEventListener("focusin",()=>{o._focusEventsAllowed=!0},{once:!0}),D.focus()}addEditListeners(){ie(this,Ne,Gt).call(this),ie(this,We,Xt).call(this)}removeEditListeners(){ie(this,ze,Tt).call(this),ie(this,_e,Yt).call(this)}copy(o){var z;if(o.preventDefault(),(z=r(this,I))==null||z.commitOrRemove(),!this.hasSelection)return;const D=[];for(const Z of r(this,S)){const ae=Z.serialize(!0);ae&&D.push(ae)}D.length!==0&&o.clipboardData.setData("application/pdfjs",JSON.stringify(D))}cut(o){this.copy(o),this.delete()}paste(o){o.preventDefault();const{clipboardData:D}=o;for(const ae of D.items)for(const me of r(this,Se))if(me.isHandlingMimeForPasting(ae.type)){me.paste(ae,this.currentLayer);return}let z=D.getData("application/pdfjs");if(!z)return;try{z=JSON.parse(z)}catch(ae){(0,n.warn)(`paste: "${ae.message}".`);return}if(!Array.isArray(z))return;this.unselectAll();const Z=this.currentLayer;try{const ae=[];for(const Oe of z){const Me=Z.deserialize(Oe);if(!Me)return;ae.push(Me)}const me=()=>{for(const Oe of ae)ie(this,Fe,Kt).call(this,Oe);ie(this,Te,Jt).call(this,ae)},we=()=>{for(const Oe of ae)Oe.remove()};this.addCommands({cmd:me,undo:we,mustExec:!0})}catch(ae){(0,n.warn)(`paste: "${ae.message}".`)}}keydown(o){var D;(D=this.getActive())!=null&&D.shouldGetKeyboardEvents()||$e._keyboardManager.exec(this,o)}onEditingAction(o){["undo","redo","delete","selectAll"].includes(o.name)&&this[o.name]()}setEditingState(o){o?(ie(this,ce,Pn).call(this),ie(this,Ne,Gt).call(this),ie(this,We,Xt).call(this),ie(this,se,at).call(this,{isEditing:r(this,b)!==n.AnnotationEditorType.NONE,isEmpty:ie(this,He,bt).call(this),hasSomethingToUndo:r(this,fe).hasSomethingToUndo(),hasSomethingToRedo:r(this,fe).hasSomethingToRedo(),hasSelectedEditor:!1})):(ie(this,Ee,qt).call(this),ie(this,ze,Tt).call(this),ie(this,_e,Yt).call(this),ie(this,se,at).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(o){if(!r(this,Se)){de(this,Se,o);for(const D of r(this,Se))ie(this,Pe,_t).call(this,D.defaultPropertiesToUpdate)}}getId(){return r(this,j).getId()}get currentLayer(){return r(this,te).get(r(this,pe))}getLayer(o){return r(this,te).get(o)}get currentPageIndex(){return r(this,pe)}addLayer(o){r(this,te).set(o.pageIndex,o),r(this,h)?o.enable():o.disable()}removeLayer(o){r(this,te).delete(o.pageIndex)}updateMode(o,D=null){if(r(this,b)!==o){if(de(this,b,o),o===n.AnnotationEditorType.NONE){this.setEditingState(!1),ie(this,Re,kn).call(this);return}this.setEditingState(!0),ie(this,et,xn).call(this),this.unselectAll();for(const z of r(this,te).values())z.updateMode(o);if(D){for(const z of r(this,Q).values())if(z.annotationElementId===D){this.setSelected(z),z.enterInEditMode();break}}}}updateToolbar(o){o!==r(this,b)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:o})}updateParams(o,D){if(r(this,Se)){if(o===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(o);return}for(const z of r(this,S))z.updateParams(o,D);for(const z of r(this,Se))z.updateDefaultParams(o,D)}}enableWaiting(o=!1){if(r(this,d)!==o){de(this,d,o);for(const D of r(this,te).values())o?D.disableClick():D.enableClick(),D.div.classList.toggle("waiting",o)}}getEditors(o){const D=[];for(const z of r(this,Q).values())z.pageIndex===o&&D.push(z);return D}getEditor(o){return r(this,Q).get(o)}addEditor(o){r(this,Q).set(o.id,o)}removeEditor(o){var D;r(this,Q).delete(o.id),this.unselect(o),(!o.annotationElementId||!r(this,G).has(o.annotationElementId))&&((D=r(this,oe))==null||D.remove(o.id))}addDeletedAnnotationElement(o){r(this,G).add(o.annotationElementId),o.deleted=!0}isDeletedAnnotationElement(o){return r(this,G).has(o)}removeDeletedAnnotationElement(o){r(this,G).delete(o.annotationElementId),o.deleted=!1}setActiveEditor(o){r(this,I)!==o&&(de(this,I,o),o&&ie(this,Pe,_t).call(this,o.propertiesToUpdate))}toggleSelected(o){if(r(this,S).has(o)){r(this,S).delete(o),o.unselect(),ie(this,se,at).call(this,{hasSelectedEditor:this.hasSelection});return}r(this,S).add(o),o.select(),ie(this,Pe,_t).call(this,o.propertiesToUpdate),ie(this,se,at).call(this,{hasSelectedEditor:!0})}setSelected(o){for(const D of r(this,S))D!==o&&D.unselect();r(this,S).clear(),r(this,S).add(o),o.select(),ie(this,Pe,_t).call(this,o.propertiesToUpdate),ie(this,se,at).call(this,{hasSelectedEditor:!0})}isSelected(o){return r(this,S).has(o)}unselect(o){o.unselect(),r(this,S).delete(o),ie(this,se,at).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return r(this,S).size!==0}undo(){r(this,fe).undo(),ie(this,se,at).call(this,{hasSomethingToUndo:r(this,fe).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ie(this,He,bt).call(this)})}redo(){r(this,fe).redo(),ie(this,se,at).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:r(this,fe).hasSomethingToRedo(),isEmpty:ie(this,He,bt).call(this)})}addCommands(o){r(this,fe).add(o),ie(this,se,at).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ie(this,He,bt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const o=[...r(this,S)],D=()=>{for(const Z of o)Z.remove()},z=()=>{for(const Z of o)ie(this,Fe,Kt).call(this,Z)};this.addCommands({cmd:D,undo:z,mustExec:!0})}commitOrRemove(){var o;(o=r(this,I))==null||o.commitOrRemove()}hasSomethingToControl(){return r(this,I)||this.hasSelection}selectAll(){for(const o of r(this,S))o.commit();ie(this,Te,Jt).call(this,r(this,Q).values())}unselectAll(){if(r(this,I)){r(this,I).commitOrRemove();return}if(this.hasSelection){for(const o of r(this,S))o.unselect();r(this,S).clear(),ie(this,se,at).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(o,D,z=!1){if(z||this.commitOrRemove(),!this.hasSelection)return;r(this,ge)[0]+=o,r(this,ge)[1]+=D;const[Z,ae]=r(this,ge),me=[...r(this,S)],we=1e3;r(this,ue)&&clearTimeout(r(this,ue)),de(this,ue,setTimeout(()=>{de(this,ue,null),r(this,ge)[0]=r(this,ge)[1]=0,this.addCommands({cmd:()=>{for(const Oe of me)r(this,Q).has(Oe.id)&&Oe.translateInPage(Z,ae)},undo:()=>{for(const Oe of me)r(this,Q).has(Oe.id)&&Oe.translateInPage(-Z,-ae)},mustExec:!1})},we));for(const Oe of me)Oe.translateInPage(o,D)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),de(this,ye,new Map);for(const o of r(this,S))r(this,ye).set(o,{savedX:o.x,savedY:o.y,savedPageIndex:o.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!r(this,ye))return!1;this.disableUserSelect(!1);const o=r(this,ye);de(this,ye,null);let D=!1;for(const[{x:Z,y:ae,pageIndex:me},we]of o)we.newX=Z,we.newY=ae,we.newPageIndex=me,D||(D=Z!==we.savedX||ae!==we.savedY||me!==we.savedPageIndex);if(!D)return!1;const z=(Z,ae,me,we)=>{if(r(this,Q).has(Z.id)){const Oe=r(this,te).get(we);Oe?Z._setParentAndPosition(Oe,ae,me):(Z.pageIndex=we,Z.x=ae,Z.y=me)}};return this.addCommands({cmd:()=>{for(const[Z,{newX:ae,newY:me,newPageIndex:we}]of o)z(Z,ae,me,we)},undo:()=>{for(const[Z,{savedX:ae,savedY:me,savedPageIndex:we}]of o)z(Z,ae,me,we)},mustExec:!0}),!0}dragSelectedEditors(o,D){if(r(this,ye))for(const z of r(this,ye).keys())z.drag(o,D)}rebuild(o){if(o.parent===null){const D=this.getLayer(o.pageIndex);D?(D.changeParent(o),D.addOrRebuild(o)):(this.addEditor(o),this.addToAnnotationStorage(o),o.rebuild())}else o.parent.addOrRebuild(o)}isActive(o){return r(this,I)===o}getActive(){return r(this,I)}getMode(){return r(this,b)}get imageManager(){return(0,n.shadow)(this,"imageManager",new m)}};let C=$e;I=new WeakMap,Q=new WeakMap,te=new WeakMap,$=new WeakMap,oe=new WeakMap,fe=new WeakMap,pe=new WeakMap,G=new WeakMap,ye=new WeakMap,Se=new WeakMap,xe=new WeakMap,ke=new WeakMap,j=new WeakMap,h=new WeakMap,d=new WeakMap,c=new WeakMap,b=new WeakMap,S=new WeakMap,N=new WeakMap,W=new WeakMap,Y=new WeakMap,E=new WeakMap,F=new WeakMap,H=new WeakMap,K=new WeakMap,ne=new WeakMap,ee=new WeakMap,be=new WeakMap,Ae=new WeakMap,he=new WeakMap,ge=new WeakMap,ue=new WeakMap,X=new WeakMap,J=new WeakMap,ce=new WeakSet,Pn=function(){window.addEventListener("focus",r(this,Y)),window.addEventListener("blur",r(this,W))},Ee=new WeakSet,qt=function(){window.removeEventListener("focus",r(this,Y)),window.removeEventListener("blur",r(this,W))},Ne=new WeakSet,Gt=function(){window.addEventListener("keydown",r(this,K),{capture:!0})},ze=new WeakSet,Tt=function(){window.removeEventListener("keydown",r(this,K),{capture:!0})},We=new WeakSet,Xt=function(){document.addEventListener("copy",r(this,E)),document.addEventListener("cut",r(this,F)),document.addEventListener("paste",r(this,H))},_e=new WeakSet,Yt=function(){document.removeEventListener("copy",r(this,E)),document.removeEventListener("cut",r(this,F)),document.removeEventListener("paste",r(this,H))},se=new WeakSet,at=function(o){Object.entries(o).some(([z,Z])=>r(this,he)[z]!==Z)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(r(this,he),o)})},Pe=new WeakSet,_t=function(o){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:o})},et=new WeakSet,xn=function(){if(!r(this,h)){de(this,h,!0);for(const o of r(this,te).values())o.enable()}},Re=new WeakSet,kn=function(){if(this.unselectAll(),r(this,h)){de(this,h,!1);for(const o of r(this,te).values())o.disable()}},Fe=new WeakSet,Kt=function(o){const D=r(this,te).get(o.pageIndex);D?D.addOrRebuild(o):this.addEditor(o)},He=new WeakSet,bt=function(){if(r(this,Q).size===0)return!0;if(r(this,Q).size===1)for(const o of r(this,Q).values())return o.isEmpty();return!1},Te=new WeakSet,Jt=function(o){r(this,S).clear();for(const D of o)D.isEmpty()||(r(this,S).add(D),D.select());ie(this,se,at).call(this,{hasSelectedEditor:!0})},nt(C,"TRANSLATE_SMALL",1),nt(C,"TRANSLATE_BIG",10),t.AnnotationEditorUIManager=C},(e,t,s)=>{var pe,G,ye,Se,xe,ke,j,h,d,c,b,S,dt,W,ft,E,Qt,H,Pt,ne,xt,be,yt,he,At;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=U,t.getColorValues=Q,t.getCurrentTransform=te,t.getCurrentTransformInverse=$,t.getFilenameFromUrl=P,t.getPdfFilenameFromUrl=O,t.getRGB=I,t.getXfaPageViewport=B,t.isDataScheme=T,t.isPdfFile=w,t.isValidFetchUrl=L,t.loadScript=A,t.noContextMenu=_,t.setLayerDimensions=oe;var n=s(7),i=s(1);const a="http://www.w3.org/2000/svg",fe=class{};let l=fe;nt(l,"CSS",96),nt(l,"PDF",72),nt(l,"PDF_TO_CSS_UNITS",fe.CSS/fe.PDF),t.PixelsPerInch=l;class y extends n.BaseFilterFactory{constructor({docId:J,ownerDocument:ce=globalThis.document}={}){super();q(this,S);q(this,W);q(this,E);q(this,H);q(this,ne);q(this,be);q(this,he);q(this,pe,void 0);q(this,G,void 0);q(this,ye,void 0);q(this,Se,void 0);q(this,xe,void 0);q(this,ke,void 0);q(this,j,void 0);q(this,h,void 0);q(this,d,void 0);q(this,c,void 0);q(this,b,0);de(this,ye,J),de(this,Se,ce)}addFilter(J){if(!J)return"none";let ce=r(this,S,dt).get(J);if(ce)return ce;let ve,Ee,Ie,Ne;if(J.length===1){const We=J[0],Xe=new Array(256);for(let _e=0;_e<256;_e++)Xe[_e]=We[_e]/255;Ne=ve=Ee=Ie=Xe.join(",")}else{const[We,Xe,_e]=J,re=new Array(256),se=new Array(256),Ce=new Array(256);for(let Pe=0;Pe<256;Pe++)re[Pe]=We[Pe]/255,se[Pe]=Xe[Pe]/255,Ce[Pe]=_e[Pe]/255;ve=re.join(","),Ee=se.join(","),Ie=Ce.join(","),Ne=`${ve}${Ee}${Ie}`}if(ce=r(this,S,dt).get(Ne),ce)return r(this,S,dt).set(J,ce),ce;const Ue=`g_${r(this,ye)}_transfer_map_${mt(this,b)._++}`,ze=`url(#${Ue})`;r(this,S,dt).set(J,ze),r(this,S,dt).set(Ne,ze);const qe=ie(this,H,Pt).call(this,Ue);return ie(this,be,yt).call(this,ve,Ee,Ie,qe),ze}addHCMFilter(J,ce){var Xe;const ve=`${J}-${ce}`;if(r(this,ke)===ve)return r(this,j);if(de(this,ke,ve),de(this,j,"none"),(Xe=r(this,xe))==null||Xe.remove(),!J||!ce)return r(this,j);const Ee=ie(this,he,At).call(this,J);J=i.Util.makeHexColor(...Ee);const Ie=ie(this,he,At).call(this,ce);if(ce=i.Util.makeHexColor(...Ie),r(this,W,ft).style.color="",J==="#000000"&&ce==="#ffffff"||J===ce)return r(this,j);const Ne=new Array(256);for(let _e=0;_e<=255;_e++){const re=_e/255;Ne[_e]=re<=.03928?re/12.92:((re+.055)/1.055)**2.4}const Ue=Ne.join(","),ze=`g_${r(this,ye)}_hcm_filter`,qe=de(this,h,ie(this,H,Pt).call(this,ze));ie(this,be,yt).call(this,Ue,Ue,Ue,qe),ie(this,E,Qt).call(this,qe);const We=(_e,re)=>{const se=Ee[_e]/255,Ce=Ie[_e]/255,Pe=new Array(re+1);for(let tt=0;tt<=re;tt++)Pe[tt]=se+tt/re*(Ce-se);return Pe.join(",")};return ie(this,be,yt).call(this,We(0,5),We(1,5),We(2,5),qe),de(this,j,`url(#${ze})`),r(this,j)}addHighlightHCMFilter(J,ce,ve,Ee){var Ce;const Ie=`${J}-${ce}-${ve}-${Ee}`;if(r(this,d)===Ie)return r(this,c);if(de(this,d,Ie),de(this,c,"none"),(Ce=r(this,h))==null||Ce.remove(),!J||!ce)return r(this,c);const[Ne,Ue]=[J,ce].map(ie(this,he,At).bind(this));let ze=Math.round(.2126*Ne[0]+.7152*Ne[1]+.0722*Ne[2]),qe=Math.round(.2126*Ue[0]+.7152*Ue[1]+.0722*Ue[2]),[We,Xe]=[ve,Ee].map(ie(this,he,At).bind(this));qe<ze&&([ze,qe,We,Xe]=[qe,ze,Xe,We]),r(this,W,ft).style.color="";const _e=(Pe,tt,et)=>{const le=new Array(256),Re=(qe-ze)/et,Be=Pe/255,Fe=(tt-Pe)/(255*et);let je=0;for(let He=0;He<=et;He++){const Qe=Math.round(ze+He*Re),Te=Be+He*Fe;for(let Ke=je;Ke<=Qe;Ke++)le[Ke]=Te;je=Qe+1}for(let He=je;He<256;He++)le[He]=le[je-1];return le.join(",")},re=`g_${r(this,ye)}_hcm_highlight_filter`,se=de(this,h,ie(this,H,Pt).call(this,re));return ie(this,E,Qt).call(this,se),ie(this,be,yt).call(this,_e(We[0],Xe[0],5),_e(We[1],Xe[1],5),_e(We[2],Xe[2],5),se),de(this,c,`url(#${re})`),r(this,c)}destroy(J=!1){J&&(r(this,j)||r(this,c))||(r(this,G)&&(r(this,G).parentNode.parentNode.remove(),de(this,G,null)),r(this,pe)&&(r(this,pe).clear(),de(this,pe,null)),de(this,b,0))}}pe=new WeakMap,G=new WeakMap,ye=new WeakMap,Se=new WeakMap,xe=new WeakMap,ke=new WeakMap,j=new WeakMap,h=new WeakMap,d=new WeakMap,c=new WeakMap,b=new WeakMap,S=new WeakSet,dt=function(){return r(this,pe)||de(this,pe,new Map)},W=new WeakSet,ft=function(){if(!r(this,G)){const J=r(this,Se).createElement("div"),{style:ce}=J;ce.visibility="hidden",ce.contain="strict",ce.width=ce.height=0,ce.position="absolute",ce.top=ce.left=0,ce.zIndex=-1;const ve=r(this,Se).createElementNS(a,"svg");ve.setAttribute("width",0),ve.setAttribute("height",0),de(this,G,r(this,Se).createElementNS(a,"defs")),J.append(ve),ve.append(r(this,G)),r(this,Se).body.append(J)}return r(this,G)},E=new WeakSet,Qt=function(J){const ce=r(this,Se).createElementNS(a,"feColorMatrix");ce.setAttribute("type","matrix"),ce.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),J.append(ce)},H=new WeakSet,Pt=function(J){const ce=r(this,Se).createElementNS(a,"filter");return ce.setAttribute("color-interpolation-filters","sRGB"),ce.setAttribute("id",J),r(this,W,ft).append(ce),ce},ne=new WeakSet,xt=function(J,ce,ve){const Ee=r(this,Se).createElementNS(a,ce);Ee.setAttribute("type","discrete"),Ee.setAttribute("tableValues",ve),J.append(Ee)},be=new WeakSet,yt=function(J,ce,ve,Ee){const Ie=r(this,Se).createElementNS(a,"feComponentTransfer");Ee.append(Ie),ie(this,ne,xt).call(this,Ie,"feFuncR",J),ie(this,ne,xt).call(this,Ie,"feFuncG",ce),ie(this,ne,xt).call(this,Ie,"feFuncB",ve)},he=new WeakSet,At=function(J){return r(this,W,ft).style.color=J,I(getComputedStyle(r(this,W,ft)).getPropertyValue("color"))},t.DOMFilterFactory=y;class m extends n.BaseCanvasFactory{constructor({ownerDocument:X=globalThis.document}={}){super(),this._document=X}_createCanvas(X,J){const ce=this._document.createElement("canvas");return ce.width=X,ce.height=J,ce}}t.DOMCanvasFactory=m;async function g(ue,X=!1){if(L(ue,document.baseURI)){const J=await fetch(ue);if(!J.ok)throw new Error(J.statusText);return X?new Uint8Array(await J.arrayBuffer()):(0,i.stringToBytes)(await J.text())}return new Promise((J,ce)=>{const ve=new XMLHttpRequest;ve.open("GET",ue,!0),X&&(ve.responseType="arraybuffer"),ve.onreadystatechange=()=>{if(ve.readyState===XMLHttpRequest.DONE){if(ve.status===200||ve.status===0){let Ee;if(X&&ve.response?Ee=new Uint8Array(ve.response):!X&&ve.responseText&&(Ee=(0,i.stringToBytes)(ve.responseText)),Ee){J(Ee);return}}ce(new Error(ve.statusText))}},ve.send(null)})}class u extends n.BaseCMapReaderFactory{_fetchData(X,J){return g(X,this.isCompressed).then(ce=>({cMapData:ce,compressionType:J}))}}t.DOMCMapReaderFactory=u;class M extends n.BaseStandardFontDataFactory{_fetchData(X){return g(X,!0)}}t.DOMStandardFontDataFactory=M;class C extends n.BaseSVGFactory{_createSVG(X){return document.createElementNS(a,X)}}t.DOMSVGFactory=C;class k{constructor({viewBox:X,scale:J,rotation:ce,offsetX:ve=0,offsetY:Ee=0,dontFlip:Ie=!1}){this.viewBox=X,this.scale=J,this.rotation=ce,this.offsetX=ve,this.offsetY=Ee;const Ne=(X[2]+X[0])/2,Ue=(X[3]+X[1])/2;let ze,qe,We,Xe;switch(ce%=360,ce<0&&(ce+=360),ce){case 180:ze=-1,qe=0,We=0,Xe=1;break;case 90:ze=0,qe=1,We=1,Xe=0;break;case 270:ze=0,qe=-1,We=-1,Xe=0;break;case 0:ze=1,qe=0,We=0,Xe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ie&&(We=-We,Xe=-Xe);let _e,re,se,Ce;ze===0?(_e=Math.abs(Ue-X[1])*J+ve,re=Math.abs(Ne-X[0])*J+Ee,se=(X[3]-X[1])*J,Ce=(X[2]-X[0])*J):(_e=Math.abs(Ne-X[0])*J+ve,re=Math.abs(Ue-X[1])*J+Ee,se=(X[2]-X[0])*J,Ce=(X[3]-X[1])*J),this.transform=[ze*J,qe*J,We*J,Xe*J,_e-ze*J*Ne-We*J*Ue,re-qe*J*Ne-Xe*J*Ue],this.width=se,this.height=Ce}get rawDims(){const{viewBox:X}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:X[2]-X[0],pageHeight:X[3]-X[1],pageX:X[0],pageY:X[1]})}clone({scale:X=this.scale,rotation:J=this.rotation,offsetX:ce=this.offsetX,offsetY:ve=this.offsetY,dontFlip:Ee=!1}={}){return new k({viewBox:this.viewBox.slice(),scale:X,rotation:J,offsetX:ce,offsetY:ve,dontFlip:Ee})}convertToViewportPoint(X,J){return i.Util.applyTransform([X,J],this.transform)}convertToViewportRectangle(X){const J=i.Util.applyTransform([X[0],X[1]],this.transform),ce=i.Util.applyTransform([X[2],X[3]],this.transform);return[J[0],J[1],ce[0],ce[1]]}convertToPdfPoint(X,J){return i.Util.applyInverseTransform([X,J],this.transform)}}t.PageViewport=k;class R extends i.BaseException{constructor(X,J=0){super(X,"RenderingCancelledException"),this.extraDelay=J}}t.RenderingCancelledException=R;function T(ue){const X=ue.length;let J=0;for(;J<X&&ue[J].trim()==="";)J++;return ue.substring(J,J+5).toLowerCase()==="data:"}function w(ue){return typeof ue=="string"&&/\.pdf$/i.test(ue)}function P(ue,X=!1){return X||([ue]=ue.split(/[#?]/,1)),ue.substring(ue.lastIndexOf("/")+1)}function O(ue,X="document.pdf"){if(typeof ue!="string")return X;if(T(ue))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),X;const J=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ce=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ve=J.exec(ue);let Ee=ce.exec(ve[1])||ce.exec(ve[2])||ce.exec(ve[3]);if(Ee&&(Ee=Ee[0],Ee.includes("%")))try{Ee=ce.exec(decodeURIComponent(Ee))[0]}catch{}return Ee||X}class x{constructor(){nt(this,"started",Object.create(null));nt(this,"times",[])}time(X){X in this.started&&(0,i.warn)(`Timer is already running for ${X}`),this.started[X]=Date.now()}timeEnd(X){X in this.started||(0,i.warn)(`Timer has not been started for ${X}`),this.times.push({name:X,start:this.started[X],end:Date.now()}),delete this.started[X]}toString(){const X=[];let J=0;for(const{name:ce}of this.times)J=Math.max(ce.length,J);for(const{name:ce,start:ve,end:Ee}of this.times)X.push(`${ce.padEnd(J)} ${Ee-ve}ms
`);return X.join("")}}t.StatTimer=x;function L(ue,X){try{const{protocol:J}=X?new URL(ue,X):new URL(ue);return J==="http:"||J==="https:"}catch{return!1}}function _(ue){ue.preventDefault()}function A(ue,X=!1){return new Promise((J,ce)=>{const ve=document.createElement("script");ve.src=ue,ve.onload=function(Ee){X&&ve.remove(),J(Ee)},ve.onerror=function(){ce(new Error(`Cannot load script at: ${ve.src}`))},(document.head||document.documentElement).append(ve)})}function U(ue){console.log("Deprecated API usage: "+ue)}let v;class f{static toDateObject(X){if(!X||typeof X!="string")return null;v||(v=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const J=v.exec(X);if(!J)return null;const ce=parseInt(J[1],10);let ve=parseInt(J[2],10);ve=ve>=1&&ve<=12?ve-1:0;let Ee=parseInt(J[3],10);Ee=Ee>=1&&Ee<=31?Ee:1;let Ie=parseInt(J[4],10);Ie=Ie>=0&&Ie<=23?Ie:0;let Ne=parseInt(J[5],10);Ne=Ne>=0&&Ne<=59?Ne:0;let Ue=parseInt(J[6],10);Ue=Ue>=0&&Ue<=59?Ue:0;const ze=J[7]||"Z";let qe=parseInt(J[8],10);qe=qe>=0&&qe<=23?qe:0;let We=parseInt(J[9],10)||0;return We=We>=0&&We<=59?We:0,ze==="-"?(Ie+=qe,Ne+=We):ze==="+"&&(Ie-=qe,Ne-=We),new Date(Date.UTC(ce,ve,Ee,Ie,Ne,Ue))}}t.PDFDateString=f;function B(ue,{scale:X=1,rotation:J=0}){const{width:ce,height:ve}=ue.attributes.style,Ee=[0,0,parseInt(ce),parseInt(ve)];return new k({viewBox:Ee,scale:X,rotation:J})}function I(ue){if(ue.startsWith("#")){const X=parseInt(ue.slice(1),16);return[(X&16711680)>>16,(X&65280)>>8,X&255]}return ue.startsWith("rgb(")?ue.slice(4,-1).split(",").map(X=>parseInt(X)):ue.startsWith("rgba(")?ue.slice(5,-1).split(",").map(X=>parseInt(X)).slice(0,3):((0,i.warn)(`Not a valid color format: "${ue}"`),[0,0,0])}function Q(ue){const X=document.createElement("span");X.style.visibility="hidden",document.body.append(X);for(const J of ue.keys()){X.style.color=J;const ce=window.getComputedStyle(X).color;ue.set(J,I(ce))}X.remove()}function te(ue){const{a:X,b:J,c:ce,d:ve,e:Ee,f:Ie}=ue.getTransform();return[X,J,ce,ve,Ee,Ie]}function $(ue){const{a:X,b:J,c:ce,d:ve,e:Ee,f:Ie}=ue.getTransform().invertSelf();return[X,J,ce,ve,Ee,Ie]}function oe(ue,X,J=!1,ce=!0){if(X instanceof k){const{pageWidth:ve,pageHeight:Ee}=X.rawDims,{style:Ie}=ue,Ne=i.FeatureTest.isCSSRoundSupported,Ue=`var(--scale-factor) * ${ve}px`,ze=`var(--scale-factor) * ${Ee}px`,qe=Ne?`round(${Ue}, 1px)`:`calc(${Ue})`,We=Ne?`round(${ze}, 1px)`:`calc(${ze})`;!J||X.rotation%180===0?(Ie.width=qe,Ie.height=We):(Ie.width=We,Ie.height=qe)}ce&&ue.setAttribute("data-main-rotation",X.rotation)}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var n=s(1);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(u){return"none"}addHCMFilter(u,M){return"none"}addHighlightHCMFilter(u,M,C,k){return"none"}destroy(u=!1){}}t.BaseFilterFactory=i;class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,M){if(u<=0||M<=0)throw new Error("Invalid canvas size");const C=this._createCanvas(u,M);return{canvas:C,context:C.getContext("2d")}}reset(u,M,C){if(!u.canvas)throw new Error("Canvas is not specified");if(M<=0||C<=0)throw new Error("Invalid canvas size");u.canvas.width=M,u.canvas.height=C}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,M){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=a;class l{constructor({baseUrl:u=null,isCompressed:M=!0}){this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=M}async fetch({name:u}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");const M=this.baseUrl+u+(this.isCompressed?".bcmap":""),C=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(M,C).catch(k=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${M}`)})}_fetchData(u,M){(0,n.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=l;class y{constructor({baseUrl:u=null}){this.constructor===y&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}async fetch({filename:u}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");const M=`${this.baseUrl}${u}`;return this._fetchData(M).catch(C=>{throw new Error(`Unable to load font data at: ${M}`)})}_fetchData(u){(0,n.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=y;class m{constructor(){this.constructor===m&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,M,C=!1){if(u<=0||M<=0)throw new Error("Invalid SVG dimensions");const k=this._createSVG("svg:svg");return k.setAttribute("version","1.1"),C||(k.setAttribute("width",`${u}px`),k.setAttribute("height",`${M}px`)),k.setAttribute("preserveAspectRatio","none"),k.setAttribute("viewBox",`0 0 ${u} ${M}`),k}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,n.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=m},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var n=s(1);const i=3285377520,a=4294901760,l=65535;class y{constructor(g){this.h1=g?g&4294967295:i,this.h2=g?g&4294967295:i}update(g){let u,M;if(typeof g=="string"){u=new Uint8Array(g.length*2),M=0;for(let U=0,v=g.length;U<v;U++){const f=g.charCodeAt(U);f<=255?u[M++]=f:(u[M++]=f>>>8,u[M++]=f&255)}}else if((0,n.isArrayBuffer)(g))u=g.slice(),M=u.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const C=M>>2,k=M-C*4,R=new Uint32Array(u.buffer,0,C);let T=0,w=0,P=this.h1,O=this.h2;const x=3432918353,L=461845907,_=x&l,A=L&l;for(let U=0;U<C;U++)U&1?(T=R[U],T=T*x&a|T*_&l,T=T<<15|T>>>17,T=T*L&a|T*A&l,P^=T,P=P<<13|P>>>19,P=P*5+3864292196):(w=R[U],w=w*x&a|w*_&l,w=w<<15|w>>>17,w=w*L&a|w*A&l,O^=w,O=O<<13|O>>>19,O=O*5+3864292196);switch(T=0,k){case 3:T^=u[C*4+2]<<16;case 2:T^=u[C*4+1]<<8;case 1:T^=u[C*4],T=T*x&a|T*_&l,T=T<<15|T>>>17,T=T*L&a|T*A&l,C&1?P^=T:O^=T}this.h1=P,this.h2=O}hexdigest(){let g=this.h1,u=this.h2;return g^=u>>>1,g=g*3981806797&a|g*36045&l,u=u*4283543511&a|((u<<16|g>>>16)*2950163797&a)>>>16,g^=u>>>1,g=g*444984403&a|g*60499&l,u=u*3301882366&a|((u<<16|g>>>16)*3120437893&a)>>>16,g^=u>>>1,(g>>>0).toString(16).padStart(8,"0")+(u>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=y},(e,t,s)=>{var l;Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n=s(1);class i{constructor({ownerDocument:m=globalThis.document,styleElement:g=null}){q(this,l,new Set);this._document=m,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(m){this.nativeFontFaces.add(m),this._document.fonts.add(m)}removeNativeFontFace(m){this.nativeFontFaces.delete(m),this._document.fonts.delete(m)}insertRule(m){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const g=this.styleElement.sheet;g.insertRule(m,g.cssRules.length)}clear(){for(const m of this.nativeFontFaces)this._document.fonts.delete(m);this.nativeFontFaces.clear(),r(this,l).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(m){if(!(!m||r(this,l).has(m.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:g,src:u,style:M}=m,C=new FontFace(g,u,M);this.addNativeFontFace(C);try{await C.load(),r(this,l).add(g)}catch{(0,n.warn)(`Cannot load system font: ${m.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(C)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(m){if(m.attached||m.missingFile&&!m.systemFontInfo)return;if(m.attached=!0,m.systemFontInfo){await this.loadSystemFont(m.systemFontInfo);return}if(this.isFontLoadingAPISupported){const u=m.createNativeFontFace();if(u){this.addNativeFontFace(u);try{await u.loaded}catch(M){throw(0,n.warn)(`Failed to load font '${u.family}': '${M}'.`),m.disableFontFace=!0,M}}return}const g=m.createFontFaceRule();if(g){if(this.insertRule(g),this.isSyncFontLoadingSupported)return;await new Promise(u=>{const M=this._queueLoadingCallback(u);this._prepareFontLoadEvent(m,M)})}}get isFontLoadingAPISupported(){var g;const m=!!((g=this._document)!=null&&g.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",m)}get isSyncFontLoadingSupported(){let m=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(m=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",m)}_queueLoadingCallback(m){function g(){for((0,n.assert)(!M.done,"completeRequest() cannot be called twice."),M.done=!0;u.length>0&&u[0].done;){const C=u.shift();setTimeout(C.callback,0)}}const{loadingRequests:u}=this,M={done:!1,complete:g,callback:m};return u.push(M),M}get _loadTestFont(){const m=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",m)}_prepareFontLoadEvent(m,g){function u(I,Q){return I.charCodeAt(Q)<<24|I.charCodeAt(Q+1)<<16|I.charCodeAt(Q+2)<<8|I.charCodeAt(Q+3)&255}function M(I,Q,te,$){const oe=I.substring(0,Q),fe=I.substring(Q+te);return oe+$+fe}let C,k;const R=this._document.createElement("canvas");R.width=1,R.height=1;const T=R.getContext("2d");let w=0;function P(I,Q){if(++w>30){(0,n.warn)("Load test font never loaded."),Q();return}if(T.font="30px "+I,T.fillText(".",0,20),T.getImageData(0,0,1,1).data[3]>0){Q();return}setTimeout(P.bind(null,I,Q))}const O=`lt${Date.now()}${this.loadTestFontId++}`;let x=this._loadTestFont;x=M(x,976,O.length,O);const _=16,A=1482184792;let U=u(x,_);for(C=0,k=O.length-3;C<k;C+=4)U=U-A+u(O,C)|0;C<O.length&&(U=U-A+u(O+"XXX",C)|0),x=M(x,_,4,(0,n.string32)(U));const v=`url(data:font/opentype;base64,${btoa(x)});`,f=`@font-face {font-family:"${O}";src:${v}}`;this.insertRule(f);const B=this._document.createElement("div");B.style.visibility="hidden",B.style.width=B.style.height="10px",B.style.position="absolute",B.style.top=B.style.left="0px";for(const I of[m.loadedName,O]){const Q=this._document.createElement("span");Q.textContent="Hi",Q.style.fontFamily=I,B.append(Q)}this._document.body.append(B),P(O,()=>{B.remove(),g.complete()})}}l=new WeakMap,t.FontLoader=i;class a{constructor(m,{isEvalSupported:g=!0,disableFontFace:u=!1,ignoreErrors:M=!1,inspectFont:C=null}){this.compiledGlyphs=Object.create(null);for(const k in m)this[k]=m[k];this.isEvalSupported=g!==!1,this.disableFontFace=u===!0,this.ignoreErrors=M===!0,this._inspectFont=C}createNativeFontFace(){var g;if(!this.data||this.disableFontFace)return null;let m;if(!this.cssFontInfo)m=new FontFace(this.loadedName,this.data,{});else{const u={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(u.style=`oblique ${this.cssFontInfo.italicAngle}deg`),m=new FontFace(this.cssFontInfo.fontFamily,this.data,u)}return(g=this._inspectFont)==null||g.call(this,this),m}createFontFaceRule(){var M;if(!this.data||this.disableFontFace)return null;const m=(0,n.bytesToString)(this.data),g=`url(data:${this.mimetype};base64,${btoa(m)});`;let u;if(!this.cssFontInfo)u=`@font-face {font-family:"${this.loadedName}";src:${g}}`;else{let C=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(C+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${C}src:${g}}`}return(M=this._inspectFont)==null||M.call(this,this,g),u}getPathGenerator(m,g){if(this.compiledGlyphs[g]!==void 0)return this.compiledGlyphs[g];let u;try{u=m.get(this.loadedName+"_path_"+g)}catch(M){if(!this.ignoreErrors)throw M;return(0,n.warn)(`getPathGenerator - ignoring character: "${M}".`),this.compiledGlyphs[g]=function(C,k){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const M=[];for(const C of u){const k=C.args!==void 0?C.args.join(","):"";M.push("c.",C.cmd,"(",k,`);
`)}return this.compiledGlyphs[g]=new Function("c","size",M.join(""))}return this.compiledGlyphs[g]=function(M,C){for(const k of u)k.cmd==="scale"&&(k.args=[C,-C]),M[k.cmd].apply(M,k.args)}}}t.FontFaceObject=a},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var n=s(7);s(1);const i=function(g){return new Promise((u,M)=>{require$$5.readFile(g,(k,R)=>{if(k||!R){M(new Error(k));return}u(new Uint8Array(R))})})};class a extends n.BaseFilterFactory{}t.NodeFilterFactory=a;class l extends n.BaseCanvasFactory{_createCanvas(u,M){return require$$5.createCanvas(u,M)}}t.NodeCanvasFactory=l;class y extends n.BaseCMapReaderFactory{_fetchData(u,M){return i(u).then(C=>({cMapData:C,compressionType:M}))}}t.NodeCMapReaderFactory=y;class m extends n.BaseStandardFontDataFactory{_fetchData(u){return i(u)}}t.NodeStandardFontDataFactory=m},(e,t,s)=>{var G,Zt,Se,en;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=s(1),i=s(6),a=s(12),l=s(13);const y=16,m=100,g=4096,u=15,M=10,C=1e3,k=16;function R(j,h){if(j._removeMirroring)throw new Error("Context is already forwarding operations.");j.__originalSave=j.save,j.__originalRestore=j.restore,j.__originalRotate=j.rotate,j.__originalScale=j.scale,j.__originalTranslate=j.translate,j.__originalTransform=j.transform,j.__originalSetTransform=j.setTransform,j.__originalResetTransform=j.resetTransform,j.__originalClip=j.clip,j.__originalMoveTo=j.moveTo,j.__originalLineTo=j.lineTo,j.__originalBezierCurveTo=j.bezierCurveTo,j.__originalRect=j.rect,j.__originalClosePath=j.closePath,j.__originalBeginPath=j.beginPath,j._removeMirroring=()=>{j.save=j.__originalSave,j.restore=j.__originalRestore,j.rotate=j.__originalRotate,j.scale=j.__originalScale,j.translate=j.__originalTranslate,j.transform=j.__originalTransform,j.setTransform=j.__originalSetTransform,j.resetTransform=j.__originalResetTransform,j.clip=j.__originalClip,j.moveTo=j.__originalMoveTo,j.lineTo=j.__originalLineTo,j.bezierCurveTo=j.__originalBezierCurveTo,j.rect=j.__originalRect,j.closePath=j.__originalClosePath,j.beginPath=j.__originalBeginPath,delete j._removeMirroring},j.save=function(){h.save(),this.__originalSave()},j.restore=function(){h.restore(),this.__originalRestore()},j.translate=function(c,b){h.translate(c,b),this.__originalTranslate(c,b)},j.scale=function(c,b){h.scale(c,b),this.__originalScale(c,b)},j.transform=function(c,b,S,N,W,Y){h.transform(c,b,S,N,W,Y),this.__originalTransform(c,b,S,N,W,Y)},j.setTransform=function(c,b,S,N,W,Y){h.setTransform(c,b,S,N,W,Y),this.__originalSetTransform(c,b,S,N,W,Y)},j.resetTransform=function(){h.resetTransform(),this.__originalResetTransform()},j.rotate=function(c){h.rotate(c),this.__originalRotate(c)},j.clip=function(c){h.clip(c),this.__originalClip(c)},j.moveTo=function(d,c){h.moveTo(d,c),this.__originalMoveTo(d,c)},j.lineTo=function(d,c){h.lineTo(d,c),this.__originalLineTo(d,c)},j.bezierCurveTo=function(d,c,b,S,N,W){h.bezierCurveTo(d,c,b,S,N,W),this.__originalBezierCurveTo(d,c,b,S,N,W)},j.rect=function(d,c,b,S){h.rect(d,c,b,S),this.__originalRect(d,c,b,S)},j.closePath=function(){h.closePath(),this.__originalClosePath()},j.beginPath=function(){h.beginPath(),this.__originalBeginPath()}}class T{constructor(h){this.canvasFactory=h,this.cache=Object.create(null)}getCanvas(h,d,c){let b;return this.cache[h]!==void 0?(b=this.cache[h],this.canvasFactory.reset(b,d,c)):(b=this.canvasFactory.create(d,c),this.cache[h]=b),b}delete(h){delete this.cache[h]}clear(){for(const h in this.cache){const d=this.cache[h];this.canvasFactory.destroy(d),delete this.cache[h]}}}function w(j,h,d,c,b,S,N,W,Y,E){const[F,H,K,ne,ee,be]=(0,i.getCurrentTransform)(j);if(H===0&&K===0){const ge=N*F+ee,ue=Math.round(ge),X=W*ne+be,J=Math.round(X),ce=(N+Y)*F+ee,ve=Math.abs(Math.round(ce)-ue)||1,Ee=(W+E)*ne+be,Ie=Math.abs(Math.round(Ee)-J)||1;return j.setTransform(Math.sign(F),0,0,Math.sign(ne),ue,J),j.drawImage(h,d,c,b,S,0,0,ve,Ie),j.setTransform(F,H,K,ne,ee,be),[ve,Ie]}if(F===0&&ne===0){const ge=W*K+ee,ue=Math.round(ge),X=N*H+be,J=Math.round(X),ce=(W+E)*K+ee,ve=Math.abs(Math.round(ce)-ue)||1,Ee=(N+Y)*H+be,Ie=Math.abs(Math.round(Ee)-J)||1;return j.setTransform(0,Math.sign(H),Math.sign(K),0,ue,J),j.drawImage(h,d,c,b,S,0,0,Ie,ve),j.setTransform(F,H,K,ne,ee,be),[Ie,ve]}j.drawImage(h,d,c,b,S,N,W,Y,E);const Ae=Math.hypot(F,H),he=Math.hypot(K,ne);return[Ae*Y,he*E]}function P(j){const{width:h,height:d}=j;if(h>C||d>C)return null;const c=1e3,b=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),S=h+1;let N=new Uint8Array(S*(d+1)),W,Y,E;const F=h+7&-8;let H=new Uint8Array(F*d),K=0;for(const he of j.data){let ge=128;for(;ge>0;)H[K++]=he&ge?0:255,ge>>=1}let ne=0;for(K=0,H[K]!==0&&(N[0]=1,++ne),Y=1;Y<h;Y++)H[K]!==H[K+1]&&(N[Y]=H[K]?2:1,++ne),K++;for(H[K]!==0&&(N[Y]=2,++ne),W=1;W<d;W++){K=W*F,E=W*S,H[K-F]!==H[K]&&(N[E]=H[K]?1:8,++ne);let he=(H[K]?4:0)+(H[K-F]?8:0);for(Y=1;Y<h;Y++)he=(he>>2)+(H[K+1]?4:0)+(H[K-F+1]?8:0),b[he]&&(N[E+Y]=b[he],++ne),K++;if(H[K-F]!==H[K]&&(N[E+Y]=H[K]?2:4,++ne),ne>c)return null}for(K=F*(d-1),E=W*S,H[K]!==0&&(N[E]=8,++ne),Y=1;Y<h;Y++)H[K]!==H[K+1]&&(N[E+Y]=H[K]?4:8,++ne),K++;if(H[K]!==0&&(N[E+Y]=4,++ne),ne>c)return null;const ee=new Int32Array([0,S,-1,0,-S,0,0,0,1]),be=new Path2D;for(W=0;ne&&W<=d;W++){let he=W*S;const ge=he+h;for(;he<ge&&!N[he];)he++;if(he===ge)continue;be.moveTo(he%S,W);const ue=he;let X=N[he];do{const J=ee[X];do he+=J;while(!N[he]);const ce=N[he];ce!==5&&ce!==10?(X=ce,N[he]=0):(X=ce&51*X>>4,N[he]&=X>>2|X<<2),be.lineTo(he%S,he/S|0),N[he]||--ne}while(ue!==he);--W}return H=null,N=null,function(he){he.save(),he.scale(1/h,-1/d),he.translate(0,-d),he.fill(be),he.beginPath(),he.restore()}}class O{constructor(h,d){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,h,d])}clone(){const h=Object.create(this);return h.clipBox=this.clipBox.slice(),h}setCurrentPoint(h,d){this.x=h,this.y=d}updatePathMinMax(h,d,c){[d,c]=n.Util.applyTransform([d,c],h),this.minX=Math.min(this.minX,d),this.minY=Math.min(this.minY,c),this.maxX=Math.max(this.maxX,d),this.maxY=Math.max(this.maxY,c)}updateRectMinMax(h,d){const c=n.Util.applyTransform(d,h),b=n.Util.applyTransform(d.slice(2),h);this.minX=Math.min(this.minX,c[0],b[0]),this.minY=Math.min(this.minY,c[1],b[1]),this.maxX=Math.max(this.maxX,c[0],b[0]),this.maxY=Math.max(this.maxY,c[1],b[1])}updateScalingPathMinMax(h,d){n.Util.scaleMinMax(h,d),this.minX=Math.min(this.minX,d[0]),this.maxX=Math.max(this.maxX,d[1]),this.minY=Math.min(this.minY,d[2]),this.maxY=Math.max(this.maxY,d[3])}updateCurvePathMinMax(h,d,c,b,S,N,W,Y,E,F){const H=n.Util.bezierBoundingBox(d,c,b,S,N,W,Y,E);if(F){F[0]=Math.min(F[0],H[0],H[2]),F[1]=Math.max(F[1],H[0],H[2]),F[2]=Math.min(F[2],H[1],H[3]),F[3]=Math.max(F[3],H[1],H[3]);return}this.updateRectMinMax(h,H)}getPathBoundingBox(h=a.PathType.FILL,d=null){const c=[this.minX,this.minY,this.maxX,this.maxY];if(h===a.PathType.STROKE){d||(0,n.unreachable)("Stroke bounding box must include transform.");const b=n.Util.singularValueDecompose2dScale(d),S=b[0]*this.lineWidth/2,N=b[1]*this.lineWidth/2;c[0]-=S,c[1]-=N,c[2]+=S,c[3]+=N}return c}updateClipFromPath(){const h=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(h||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(h){this.clipBox=h,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(h=a.PathType.FILL,d=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(h,d))}}function x(j,h){if(typeof ImageData<"u"&&h instanceof ImageData){j.putImageData(h,0,0);return}const d=h.height,c=h.width,b=d%k,S=(d-b)/k,N=b===0?S:S+1,W=j.createImageData(c,k);let Y=0,E;const F=h.data,H=W.data;let K,ne,ee,be;if(h.kind===n.ImageKind.GRAYSCALE_1BPP){const Ae=F.byteLength,he=new Uint32Array(H.buffer,0,H.byteLength>>2),ge=he.length,ue=c+7>>3,X=4294967295,J=n.FeatureTest.isLittleEndian?4278190080:255;for(K=0;K<N;K++){for(ee=K<S?k:b,E=0,ne=0;ne<ee;ne++){const ce=Ae-Y;let ve=0;const Ee=ce>ue?c:ce*8-7,Ie=Ee&-8;let Ne=0,Ue=0;for(;ve<Ie;ve+=8)Ue=F[Y++],he[E++]=Ue&128?X:J,he[E++]=Ue&64?X:J,he[E++]=Ue&32?X:J,he[E++]=Ue&16?X:J,he[E++]=Ue&8?X:J,he[E++]=Ue&4?X:J,he[E++]=Ue&2?X:J,he[E++]=Ue&1?X:J;for(;ve<Ee;ve++)Ne===0&&(Ue=F[Y++],Ne=128),he[E++]=Ue&Ne?X:J,Ne>>=1}for(;E<ge;)he[E++]=0;j.putImageData(W,0,K*k)}}else if(h.kind===n.ImageKind.RGBA_32BPP){for(ne=0,be=c*k*4,K=0;K<S;K++)H.set(F.subarray(Y,Y+be)),Y+=be,j.putImageData(W,0,ne),ne+=k;K<N&&(be=c*b*4,H.set(F.subarray(Y,Y+be)),j.putImageData(W,0,ne))}else if(h.kind===n.ImageKind.RGB_24BPP)for(ee=k,be=c*ee,K=0;K<N;K++){for(K>=S&&(ee=b,be=c*ee),E=0,ne=be;ne--;)H[E++]=F[Y++],H[E++]=F[Y++],H[E++]=F[Y++],H[E++]=255;j.putImageData(W,0,K*k)}else throw new Error(`bad image kind: ${h.kind}`)}function L(j,h){if(h.bitmap){j.drawImage(h.bitmap,0,0);return}const d=h.height,c=h.width,b=d%k,S=(d-b)/k,N=b===0?S:S+1,W=j.createImageData(c,k);let Y=0;const E=h.data,F=W.data;for(let H=0;H<N;H++){const K=H<S?k:b;({srcPos:Y}=(0,l.convertBlackAndWhiteToRGBA)({src:E,srcPos:Y,dest:F,width:c,height:K,nonBlackColor:0})),j.putImageData(W,0,H*k)}}function _(j,h){const d=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const c of d)j[c]!==void 0&&(h[c]=j[c]);j.setLineDash!==void 0&&(h.setLineDash(j.getLineDash()),h.lineDashOffset=j.lineDashOffset)}function A(j){if(j.strokeStyle=j.fillStyle="#000000",j.fillRule="nonzero",j.globalAlpha=1,j.lineWidth=1,j.lineCap="butt",j.lineJoin="miter",j.miterLimit=10,j.globalCompositeOperation="source-over",j.font="10px sans-serif",j.setLineDash!==void 0&&(j.setLineDash([]),j.lineDashOffset=0),!n.isNodeJS){const{filter:h}=j;h!=="none"&&h!==""&&(j.filter="none")}}function U(j,h,d,c){const b=j.length;for(let S=3;S<b;S+=4){const N=j[S];if(N===0)j[S-3]=h,j[S-2]=d,j[S-1]=c;else if(N<255){const W=255-N;j[S-3]=j[S-3]*N+h*W>>8,j[S-2]=j[S-2]*N+d*W>>8,j[S-1]=j[S-1]*N+c*W>>8}}}function v(j,h,d){const c=j.length,b=1/255;for(let S=3;S<c;S+=4){const N=d?d[j[S]]:j[S];h[S]=h[S]*N*b|0}}function f(j,h,d){const c=j.length;for(let b=3;b<c;b+=4){const S=j[b-3]*77+j[b-2]*152+j[b-1]*28;h[b]=d?h[b]*d[S>>8]>>8:h[b]*S>>16}}function B(j,h,d,c,b,S,N,W,Y,E,F){const H=!!S,K=H?S[0]:0,ne=H?S[1]:0,ee=H?S[2]:0,be=b==="Luminosity"?f:v,he=Math.min(c,Math.ceil(1048576/d));for(let ge=0;ge<c;ge+=he){const ue=Math.min(he,c-ge),X=j.getImageData(W-E,ge+(Y-F),d,ue),J=h.getImageData(W,ge+Y,d,ue);H&&U(X.data,K,ne,ee),be(X.data,J.data,N),h.putImageData(J,W,ge+Y)}}function I(j,h,d,c){const b=c[0],S=c[1],N=c[2]-b,W=c[3]-S;N===0||W===0||(B(h.context,d,N,W,h.subtype,h.backdrop,h.transferMap,b,S,h.offsetX,h.offsetY),j.save(),j.globalAlpha=1,j.globalCompositeOperation="source-over",j.setTransform(1,0,0,1,0,0),j.drawImage(d.canvas,0,0),j.restore())}function Q(j,h){const d=n.Util.singularValueDecompose2dScale(j);d[0]=Math.fround(d[0]),d[1]=Math.fround(d[1]);const c=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return h!==void 0?h:d[0]<=c||d[1]<=c}const te=["butt","round","square"],$=["miter","round","bevel"],oe={},fe={},ke=class{constructor(h,d,c,b,S,{optionalContentConfig:N,markedContentStack:W=null},Y,E){q(this,G);q(this,Se);this.ctx=h,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=d,this.objs=c,this.canvasFactory=b,this.filterFactory=S,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=W||[],this.optionalContentConfig=N,this.cachedCanvases=new T(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Y,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=E,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(h,d=null){return typeof h=="string"?h.startsWith("g_")?this.commonObjs.get(h):this.objs.get(h):d}beginDrawing({transform:h,viewport:d,transparency:c=!1,background:b=null}){const S=this.ctx.canvas.width,N=this.ctx.canvas.height,W=this.ctx.fillStyle;if(this.ctx.fillStyle=b||"#ffffff",this.ctx.fillRect(0,0,S,N),this.ctx.fillStyle=W,c){const Y=this.cachedCanvases.getCanvas("transparent",S,N);this.compositeCtx=this.ctx,this.transparentCanvas=Y.canvas,this.ctx=Y.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),A(this.ctx),h&&(this.ctx.transform(...h),this.outputScaleX=h[0],this.outputScaleY=h[0]),this.ctx.transform(...d.transform),this.viewportScale=d.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(h,d,c,b){const S=h.argsArray,N=h.fnArray;let W=d||0;const Y=S.length;if(Y===W)return W;const E=Y-W>M&&typeof c=="function",F=E?Date.now()+u:0;let H=0;const K=this.commonObjs,ne=this.objs;let ee;for(;;){if(b!==void 0&&W===b.nextBreakPoint)return b.breakIt(W,c),W;if(ee=N[W],ee!==n.OPS.dependency)this[ee].apply(this,S[W]);else for(const be of S[W]){const Ae=be.startsWith("g_")?K:ne;if(!Ae.has(be))return Ae.get(be,c),W}if(W++,W===Y)return W;if(E&&++H>M){if(Date.now()>F)return c(),W;H=0}}}endDrawing(){ie(this,G,Zt).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const h of this._cachedBitmapsMap.values()){for(const d of h.values())typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement&&(d.width=d.height=0);h.clear()}this._cachedBitmapsMap.clear(),ie(this,Se,en).call(this)}_scaleImage(h,d){const c=h.width,b=h.height;let S=Math.max(Math.hypot(d[0],d[1]),1),N=Math.max(Math.hypot(d[2],d[3]),1),W=c,Y=b,E="prescale1",F,H;for(;S>2&&W>1||N>2&&Y>1;){let K=W,ne=Y;S>2&&W>1&&(K=W>=16384?Math.floor(W/2)-1||1:Math.ceil(W/2),S/=W/K),N>2&&Y>1&&(ne=Y>=16384?Math.floor(Y/2)-1||1:Math.ceil(Y)/2,N/=Y/ne),F=this.cachedCanvases.getCanvas(E,K,ne),H=F.context,H.clearRect(0,0,K,ne),H.drawImage(h,0,0,W,Y,0,0,K,ne),h=F.canvas,W=K,Y=ne,E=E==="prescale1"?"prescale2":"prescale1"}return{img:h,paintWidth:W,paintHeight:Y}}_createMaskCanvas(h){const d=this.ctx,{width:c,height:b}=h,S=this.current.fillColor,N=this.current.patternFill,W=(0,i.getCurrentTransform)(d);let Y,E,F,H;if((h.bitmap||h.data)&&h.count>1){const ve=h.bitmap||h.data.buffer;E=JSON.stringify(N?W:[W.slice(0,4),S]),Y=this._cachedBitmapsMap.get(ve),Y||(Y=new Map,this._cachedBitmapsMap.set(ve,Y));const Ee=Y.get(E);if(Ee&&!N){const Ie=Math.round(Math.min(W[0],W[2])+W[4]),Ne=Math.round(Math.min(W[1],W[3])+W[5]);return{canvas:Ee,offsetX:Ie,offsetY:Ne}}F=Ee}F||(H=this.cachedCanvases.getCanvas("maskCanvas",c,b),L(H.context,h));let K=n.Util.transform(W,[1/c,0,0,-1/b,0,0]);K=n.Util.transform(K,[1,0,0,1,0,-b]);const ne=n.Util.applyTransform([0,0],K),ee=n.Util.applyTransform([c,b],K),be=n.Util.normalizeRect([ne[0],ne[1],ee[0],ee[1]]),Ae=Math.round(be[2]-be[0])||1,he=Math.round(be[3]-be[1])||1,ge=this.cachedCanvases.getCanvas("fillCanvas",Ae,he),ue=ge.context,X=Math.min(ne[0],ee[0]),J=Math.min(ne[1],ee[1]);ue.translate(-X,-J),ue.transform(...K),F||(F=this._scaleImage(H.canvas,(0,i.getCurrentTransformInverse)(ue)),F=F.img,Y&&N&&Y.set(E,F)),ue.imageSmoothingEnabled=Q((0,i.getCurrentTransform)(ue),h.interpolate),w(ue,F,0,0,F.width,F.height,0,0,c,b),ue.globalCompositeOperation="source-in";const ce=n.Util.transform((0,i.getCurrentTransformInverse)(ue),[1,0,0,1,-X,-J]);return ue.fillStyle=N?S.getPattern(d,this,ce,a.PathType.FILL):S,ue.fillRect(0,0,c,b),Y&&!N&&(this.cachedCanvases.delete("fillCanvas"),Y.set(E,ge.canvas)),{canvas:ge.canvas,offsetX:Math.round(X),offsetY:Math.round(J)}}setLineWidth(h){h!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=h,this.ctx.lineWidth=h}setLineCap(h){this.ctx.lineCap=te[h]}setLineJoin(h){this.ctx.lineJoin=$[h]}setMiterLimit(h){this.ctx.miterLimit=h}setDash(h,d){const c=this.ctx;c.setLineDash!==void 0&&(c.setLineDash(h),c.lineDashOffset=d)}setRenderingIntent(h){}setFlatness(h){}setGState(h){for(const[d,c]of h)switch(d){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c[0],c[1]);break;case"CA":this.current.strokeAlpha=c;break;case"ca":this.current.fillAlpha=c,this.ctx.globalAlpha=c;break;case"BM":this.ctx.globalCompositeOperation=c;break;case"SMask":this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const h=this.inSMaskMode;this.current.activeSMask&&!h?this.beginSMaskMode():!this.current.activeSMask&&h&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const h=this.ctx.canvas.width,d=this.ctx.canvas.height,c="smaskGroupAt"+this.groupLevel,b=this.cachedCanvases.getCanvas(c,h,d);this.suspendedCtx=this.ctx,this.ctx=b.context;const S=this.ctx;S.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),_(this.suspendedCtx,S),R(S,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(h){if(!this.current.activeSMask)return;h?(h[0]=Math.floor(h[0]),h[1]=Math.floor(h[1]),h[2]=Math.ceil(h[2]),h[3]=Math.ceil(h[3])):h=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const d=this.current.activeSMask,c=this.suspendedCtx;I(c,d,this.ctx,h),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const h=this.current;this.stateStack.push(h),this.current=h.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(h,d,c,b,S,N){this.ctx.transform(h,d,c,b,S,N),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(h,d,c){const b=this.ctx,S=this.current;let N=S.x,W=S.y,Y,E;const F=(0,i.getCurrentTransform)(b),H=F[0]===0&&F[3]===0||F[1]===0&&F[2]===0,K=H?c.slice(0):null;for(let ne=0,ee=0,be=h.length;ne<be;ne++)switch(h[ne]|0){case n.OPS.rectangle:N=d[ee++],W=d[ee++];const Ae=d[ee++],he=d[ee++],ge=N+Ae,ue=W+he;b.moveTo(N,W),Ae===0||he===0?b.lineTo(ge,ue):(b.lineTo(ge,W),b.lineTo(ge,ue),b.lineTo(N,ue)),H||S.updateRectMinMax(F,[N,W,ge,ue]),b.closePath();break;case n.OPS.moveTo:N=d[ee++],W=d[ee++],b.moveTo(N,W),H||S.updatePathMinMax(F,N,W);break;case n.OPS.lineTo:N=d[ee++],W=d[ee++],b.lineTo(N,W),H||S.updatePathMinMax(F,N,W);break;case n.OPS.curveTo:Y=N,E=W,N=d[ee+4],W=d[ee+5],b.bezierCurveTo(d[ee],d[ee+1],d[ee+2],d[ee+3],N,W),S.updateCurvePathMinMax(F,Y,E,d[ee],d[ee+1],d[ee+2],d[ee+3],N,W,K),ee+=6;break;case n.OPS.curveTo2:Y=N,E=W,b.bezierCurveTo(N,W,d[ee],d[ee+1],d[ee+2],d[ee+3]),S.updateCurvePathMinMax(F,Y,E,N,W,d[ee],d[ee+1],d[ee+2],d[ee+3],K),N=d[ee+2],W=d[ee+3],ee+=4;break;case n.OPS.curveTo3:Y=N,E=W,N=d[ee+2],W=d[ee+3],b.bezierCurveTo(d[ee],d[ee+1],N,W,N,W),S.updateCurvePathMinMax(F,Y,E,d[ee],d[ee+1],N,W,N,W,K),ee+=4;break;case n.OPS.closePath:b.closePath();break}H&&S.updateScalingPathMinMax(F,K),S.setCurrentPoint(N,W)}closePath(){this.ctx.closePath()}stroke(h=!0){const d=this.ctx,c=this.current.strokeColor;d.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof c=="object"&&(c!=null&&c.getPattern)?(d.save(),d.strokeStyle=c.getPattern(d,this,(0,i.getCurrentTransformInverse)(d),a.PathType.STROKE),this.rescaleAndStroke(!1),d.restore()):this.rescaleAndStroke(!0)),h&&this.consumePath(this.current.getClippedPathBoundingBox()),d.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(h=!0){const d=this.ctx,c=this.current.fillColor,b=this.current.patternFill;let S=!1;b&&(d.save(),d.fillStyle=c.getPattern(d,this,(0,i.getCurrentTransformInverse)(d),a.PathType.FILL),S=!0);const N=this.current.getClippedPathBoundingBox();this.contentVisible&&N!==null&&(this.pendingEOFill?(d.fill("evenodd"),this.pendingEOFill=!1):d.fill()),S&&d.restore(),h&&this.consumePath(N)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=oe}eoClip(){this.pendingClip=fe}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const h=this.pendingTextPaths,d=this.ctx;if(h===void 0){d.beginPath();return}d.save(),d.beginPath();for(const c of h)d.setTransform(...c.transform),d.translate(c.x,c.y),c.addToPath(d,c.fontSize);d.restore(),d.clip(),d.beginPath(),delete this.pendingTextPaths}setCharSpacing(h){this.current.charSpacing=h}setWordSpacing(h){this.current.wordSpacing=h}setHScale(h){this.current.textHScale=h/100}setLeading(h){this.current.leading=-h}setFont(h,d){var F;const c=this.commonObjs.get(h),b=this.current;if(!c)throw new Error(`Can't find font for ${h}`);if(b.fontMatrix=c.fontMatrix||n.FONT_IDENTITY_MATRIX,(b.fontMatrix[0]===0||b.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+h),d<0?(d=-d,b.fontDirection=-1):b.fontDirection=1,this.current.font=c,this.current.fontSize=d,c.isType3Font)return;const S=c.loadedName||"sans-serif",N=((F=c.systemFontInfo)==null?void 0:F.css)||`"${S}", ${c.fallbackName}`;let W="normal";c.black?W="900":c.bold&&(W="bold");const Y=c.italic?"italic":"normal";let E=d;d<y?E=y:d>m&&(E=m),this.current.fontSizeScale=d/E,this.ctx.font=`${Y} ${W} ${E}px ${N}`}setTextRenderingMode(h){this.current.textRenderingMode=h}setTextRise(h){this.current.textRise=h}moveText(h,d){this.current.x=this.current.lineX+=h,this.current.y=this.current.lineY+=d}setLeadingMoveText(h,d){this.setLeading(-d),this.moveText(h,d)}setTextMatrix(h,d,c,b,S,N){this.current.textMatrix=[h,d,c,b,S,N],this.current.textMatrixScale=Math.hypot(h,d),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(h,d,c,b){const S=this.ctx,N=this.current,W=N.font,Y=N.textRenderingMode,E=N.fontSize/N.fontSizeScale,F=Y&n.TextRenderingMode.FILL_STROKE_MASK,H=!!(Y&n.TextRenderingMode.ADD_TO_PATH_FLAG),K=N.patternFill&&!W.missingFile;let ne;(W.disableFontFace||H||K)&&(ne=W.getPathGenerator(this.commonObjs,h)),W.disableFontFace||K?(S.save(),S.translate(d,c),S.beginPath(),ne(S,E),b&&S.setTransform(...b),(F===n.TextRenderingMode.FILL||F===n.TextRenderingMode.FILL_STROKE)&&S.fill(),(F===n.TextRenderingMode.STROKE||F===n.TextRenderingMode.FILL_STROKE)&&S.stroke(),S.restore()):((F===n.TextRenderingMode.FILL||F===n.TextRenderingMode.FILL_STROKE)&&S.fillText(h,d,c),(F===n.TextRenderingMode.STROKE||F===n.TextRenderingMode.FILL_STROKE)&&S.strokeText(h,d,c)),H&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(S),x:d,y:c,fontSize:E,addToPath:ne})}get isFontSubpixelAAEnabled(){const{context:h}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);h.scale(1.5,1),h.fillText("I",0,10);const d=h.getImageData(0,0,10,10).data;let c=!1;for(let b=3;b<d.length;b+=4)if(d[b]>0&&d[b]<255){c=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",c)}showText(h){const d=this.current,c=d.font;if(c.isType3Font)return this.showType3Text(h);const b=d.fontSize;if(b===0)return;const S=this.ctx,N=d.fontSizeScale,W=d.charSpacing,Y=d.wordSpacing,E=d.fontDirection,F=d.textHScale*E,H=h.length,K=c.vertical,ne=K?1:-1,ee=c.defaultVMetrics,be=b*d.fontMatrix[0],Ae=d.textRenderingMode===n.TextRenderingMode.FILL&&!c.disableFontFace&&!d.patternFill;S.save(),S.transform(...d.textMatrix),S.translate(d.x,d.y+d.textRise),E>0?S.scale(F,-1):S.scale(F,1);let he;if(d.patternFill){S.save();const ce=d.fillColor.getPattern(S,this,(0,i.getCurrentTransformInverse)(S),a.PathType.FILL);he=(0,i.getCurrentTransform)(S),S.restore(),S.fillStyle=ce}let ge=d.lineWidth;const ue=d.textMatrixScale;if(ue===0||ge===0){const ce=d.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(ce===n.TextRenderingMode.STROKE||ce===n.TextRenderingMode.FILL_STROKE)&&(ge=this.getSinglePixelWidth())}else ge/=ue;if(N!==1&&(S.scale(N,N),ge/=N),S.lineWidth=ge,c.isInvalidPDFjsFont){const ce=[];let ve=0;for(const Ee of h)ce.push(Ee.unicode),ve+=Ee.width;S.fillText(ce.join(""),0,0),d.x+=ve*be*F,S.restore(),this.compose();return}let X=0,J;for(J=0;J<H;++J){const ce=h[J];if(typeof ce=="number"){X+=ne*ce*b/1e3;continue}let ve=!1;const Ee=(ce.isSpace?Y:0)+W,Ie=ce.fontChar,Ne=ce.accent;let Ue,ze,qe=ce.width;if(K){const Xe=ce.vmetric||ee,_e=-(ce.vmetric?Xe[1]:qe*.5)*be,re=Xe[2]*be;qe=Xe?-Xe[0]:qe,Ue=_e/N,ze=(X+re)/N}else Ue=X/N,ze=0;if(c.remeasure&&qe>0){const Xe=S.measureText(Ie).width*1e3/b*N;if(qe<Xe&&this.isFontSubpixelAAEnabled){const _e=qe/Xe;ve=!0,S.save(),S.scale(_e,1),Ue/=_e}else qe!==Xe&&(Ue+=(qe-Xe)/2e3*b/N)}if(this.contentVisible&&(ce.isInFont||c.missingFile)){if(Ae&&!Ne)S.fillText(Ie,Ue,ze);else if(this.paintChar(Ie,Ue,ze,he),Ne){const Xe=Ue+b*Ne.offset.x/N,_e=ze-b*Ne.offset.y/N;this.paintChar(Ne.fontChar,Xe,_e,he)}}const We=K?qe*be-Ee*E:qe*be+Ee*E;X+=We,ve&&S.restore()}K?d.y-=X:d.x+=X*F,S.restore(),this.compose()}showType3Text(h){const d=this.ctx,c=this.current,b=c.font,S=c.fontSize,N=c.fontDirection,W=b.vertical?1:-1,Y=c.charSpacing,E=c.wordSpacing,F=c.textHScale*N,H=c.fontMatrix||n.FONT_IDENTITY_MATRIX,K=h.length,ne=c.textRenderingMode===n.TextRenderingMode.INVISIBLE;let ee,be,Ae,he;if(!(ne||S===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,d.save(),d.transform(...c.textMatrix),d.translate(c.x,c.y),d.scale(F,N),ee=0;ee<K;++ee){if(be=h[ee],typeof be=="number"){he=W*be*S/1e3,this.ctx.translate(he,0),c.x+=he*F;continue}const ge=(be.isSpace?E:0)+Y,ue=b.charProcOperatorList[be.operatorListId];if(!ue){(0,n.warn)(`Type3 character "${be.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=be,this.save(),d.scale(S,S),d.transform(...H),this.executeOperatorList(ue),this.restore()),Ae=n.Util.applyTransform([be.width,0],H)[0]*S+ge,d.translate(Ae,0),c.x+=Ae*F}d.restore(),this.processingType3=null}}setCharWidth(h,d){}setCharWidthAndBounds(h,d,c,b,S,N){this.ctx.rect(c,b,S-c,N-b),this.ctx.clip(),this.endPath()}getColorN_Pattern(h){let d;if(h[0]==="TilingPattern"){const c=h[1],b=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),S={createCanvasGraphics:N=>new ke(N,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};d=new a.TilingPattern(h,c,this.ctx,S,b)}else d=this._getPattern(h[1],h[2]);return d}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(h,d,c){const b=n.Util.makeHexColor(h,d,c);this.ctx.strokeStyle=b,this.current.strokeColor=b}setFillRGBColor(h,d,c){const b=n.Util.makeHexColor(h,d,c);this.ctx.fillStyle=b,this.current.fillColor=b,this.current.patternFill=!1}_getPattern(h,d=null){let c;return this.cachedPatterns.has(h)?c=this.cachedPatterns.get(h):(c=(0,a.getShadingPattern)(this.getObject(h)),this.cachedPatterns.set(h,c)),d&&(c.matrix=d),c}shadingFill(h){if(!this.contentVisible)return;const d=this.ctx;this.save();const c=this._getPattern(h);d.fillStyle=c.getPattern(d,this,(0,i.getCurrentTransformInverse)(d),a.PathType.SHADING);const b=(0,i.getCurrentTransformInverse)(d);if(b){const{width:S,height:N}=d.canvas,[W,Y,E,F]=n.Util.getAxialAlignedBoundingBox([0,0,S,N],b);this.ctx.fillRect(W,Y,E-W,F-Y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(h,d){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(h)&&h.length===6&&this.transform(...h),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),d)){const c=d[2]-d[0],b=d[3]-d[1];this.ctx.rect(d[0],d[1],c,b),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),d),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(h){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const d=this.ctx;h.isolated||(0,n.info)("TODO: Support non-isolated groups."),h.knockout&&(0,n.warn)("Knockout groups not supported.");const c=(0,i.getCurrentTransform)(d);if(h.matrix&&d.transform(...h.matrix),!h.bbox)throw new Error("Bounding box is required.");let b=n.Util.getAxialAlignedBoundingBox(h.bbox,(0,i.getCurrentTransform)(d));const S=[0,0,d.canvas.width,d.canvas.height];b=n.Util.intersect(b,S)||[0,0,0,0];const N=Math.floor(b[0]),W=Math.floor(b[1]);let Y=Math.max(Math.ceil(b[2])-N,1),E=Math.max(Math.ceil(b[3])-W,1),F=1,H=1;Y>g&&(F=Y/g,Y=g),E>g&&(H=E/g,E=g),this.current.startNewPathAndClipBox([0,0,Y,E]);let K="groupAt"+this.groupLevel;h.smask&&(K+="_smask_"+this.smaskCounter++%2);const ne=this.cachedCanvases.getCanvas(K,Y,E),ee=ne.context;ee.scale(1/F,1/H),ee.translate(-N,-W),ee.transform(...c),h.smask?this.smaskStack.push({canvas:ne.canvas,context:ee,offsetX:N,offsetY:W,scaleX:F,scaleY:H,subtype:h.smask.subtype,backdrop:h.smask.backdrop,transferMap:h.smask.transferMap||null,startTransformInverse:null}):(d.setTransform(1,0,0,1,0,0),d.translate(N,W),d.scale(F,H),d.save()),_(d,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(d),this.groupLevel++}endGroup(h){if(!this.contentVisible)return;this.groupLevel--;const d=this.ctx,c=this.groupStack.pop();if(this.ctx=c,this.ctx.imageSmoothingEnabled=!1,h.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const b=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...b);const S=n.Util.getAxialAlignedBoundingBox([0,0,d.canvas.width,d.canvas.height],b);this.ctx.drawImage(d.canvas,0,0),this.ctx.restore(),this.compose(S)}}beginAnnotation(h,d,c,b,S){if(ie(this,G,Zt).call(this),A(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(d)&&d.length===4){const N=d[2]-d[0],W=d[3]-d[1];if(S&&this.annotationCanvasMap){c=c.slice(),c[4]-=d[0],c[5]-=d[1],d=d.slice(),d[0]=d[1]=0,d[2]=N,d[3]=W;const[Y,E]=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:F}=this,H=Math.ceil(N*this.outputScaleX*F),K=Math.ceil(W*this.outputScaleY*F);this.annotationCanvas=this.canvasFactory.create(H,K);const{canvas:ne,context:ee}=this.annotationCanvas;this.annotationCanvasMap.set(h,ne),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.save(),this.ctx.setTransform(Y,0,0,-E,0,W*E),A(this.ctx)}else A(this.ctx),this.ctx.rect(d[0],d[1],N,W),this.ctx.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...c),this.transform(...b)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ie(this,Se,en).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(h){if(!this.contentVisible)return;const d=h.count;h=this.getObject(h.data,h),h.count=d;const c=this.ctx,b=this.processingType3;if(b&&(b.compiled===void 0&&(b.compiled=P(h)),b.compiled)){b.compiled(c);return}const S=this._createMaskCanvas(h),N=S.canvas;c.save(),c.setTransform(1,0,0,1,0,0),c.drawImage(N,S.offsetX,S.offsetY),c.restore(),this.compose()}paintImageMaskXObjectRepeat(h,d,c=0,b=0,S,N){if(!this.contentVisible)return;h=this.getObject(h.data,h);const W=this.ctx;W.save();const Y=(0,i.getCurrentTransform)(W);W.transform(d,c,b,S,0,0);const E=this._createMaskCanvas(h);W.setTransform(1,0,0,1,E.offsetX-Y[4],E.offsetY-Y[5]);for(let F=0,H=N.length;F<H;F+=2){const K=n.Util.transform(Y,[d,c,b,S,N[F],N[F+1]]),[ne,ee]=n.Util.applyTransform([0,0],K);W.drawImage(E.canvas,ne,ee)}W.restore(),this.compose()}paintImageMaskXObjectGroup(h){if(!this.contentVisible)return;const d=this.ctx,c=this.current.fillColor,b=this.current.patternFill;for(const S of h){const{data:N,width:W,height:Y,transform:E}=S,F=this.cachedCanvases.getCanvas("maskCanvas",W,Y),H=F.context;H.save();const K=this.getObject(N,S);L(H,K),H.globalCompositeOperation="source-in",H.fillStyle=b?c.getPattern(H,this,(0,i.getCurrentTransformInverse)(d),a.PathType.FILL):c,H.fillRect(0,0,W,Y),H.restore(),d.save(),d.transform(...E),d.scale(1,-1),w(d,F.canvas,0,0,W,Y,0,-1,1,1),d.restore()}this.compose()}paintImageXObject(h){if(!this.contentVisible)return;const d=this.getObject(h);if(!d){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(d)}paintImageXObjectRepeat(h,d,c,b){if(!this.contentVisible)return;const S=this.getObject(h);if(!S){(0,n.warn)("Dependent image isn't ready yet");return}const N=S.width,W=S.height,Y=[];for(let E=0,F=b.length;E<F;E+=2)Y.push({transform:[d,0,0,c,b[E],b[E+1]],x:0,y:0,w:N,h:W});this.paintInlineImageXObjectGroup(S,Y)}applyTransferMapsToCanvas(h){return this.current.transferMaps!=="none"&&(h.filter=this.current.transferMaps,h.drawImage(h.canvas,0,0),h.filter="none"),h.canvas}applyTransferMapsToBitmap(h){if(this.current.transferMaps==="none")return h.bitmap;const{bitmap:d,width:c,height:b}=h,S=this.cachedCanvases.getCanvas("inlineImage",c,b),N=S.context;return N.filter=this.current.transferMaps,N.drawImage(d,0,0),N.filter="none",S.canvas}paintInlineImageXObject(h){if(!this.contentVisible)return;const d=h.width,c=h.height,b=this.ctx;if(this.save(),!n.isNodeJS){const{filter:W}=b;W!=="none"&&W!==""&&(b.filter="none")}b.scale(1/d,-1/c);let S;if(h.bitmap)S=this.applyTransferMapsToBitmap(h);else if(typeof HTMLElement=="function"&&h instanceof HTMLElement||!h.data)S=h;else{const Y=this.cachedCanvases.getCanvas("inlineImage",d,c).context;x(Y,h),S=this.applyTransferMapsToCanvas(Y)}const N=this._scaleImage(S,(0,i.getCurrentTransformInverse)(b));b.imageSmoothingEnabled=Q((0,i.getCurrentTransform)(b),h.interpolate),w(b,N.img,0,0,N.paintWidth,N.paintHeight,0,-c,d,c),this.compose(),this.restore()}paintInlineImageXObjectGroup(h,d){if(!this.contentVisible)return;const c=this.ctx;let b;if(h.bitmap)b=h.bitmap;else{const S=h.width,N=h.height,Y=this.cachedCanvases.getCanvas("inlineImage",S,N).context;x(Y,h),b=this.applyTransferMapsToCanvas(Y)}for(const S of d)c.save(),c.transform(...S.transform),c.scale(1,-1),w(c,b,S.x,S.y,S.w,S.h,0,-1,1,1),c.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(h){}markPointProps(h,d){}beginMarkedContent(h){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(h,d){h==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(d)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(h){const d=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(h);const c=this.ctx;this.pendingClip&&(d||(this.pendingClip===fe?c.clip("evenodd"):c.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),c.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const h=(0,i.getCurrentTransform)(this.ctx);if(h[1]===0&&h[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(h[0]),Math.abs(h[3]));else{const d=Math.abs(h[0]*h[3]-h[2]*h[1]),c=Math.hypot(h[0],h[2]),b=Math.hypot(h[1],h[3]);this._cachedGetSinglePixelWidth=Math.max(c,b)/d}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:h}=this.current,{a:d,b:c,c:b,d:S}=this.ctx.getTransform();let N,W;if(c===0&&b===0){const Y=Math.abs(d),E=Math.abs(S);if(Y===E)if(h===0)N=W=1/Y;else{const F=Y*h;N=W=F<1?1/F:1}else if(h===0)N=1/Y,W=1/E;else{const F=Y*h,H=E*h;N=F<1?1/F:1,W=H<1?1/H:1}}else{const Y=Math.abs(d*S-c*b),E=Math.hypot(d,c),F=Math.hypot(b,S);if(h===0)N=F/Y,W=E/Y;else{const H=h*Y;N=F>H?F/H:1,W=E>H?E/H:1}}this._cachedScaleForStroking[0]=N,this._cachedScaleForStroking[1]=W}return this._cachedScaleForStroking}rescaleAndStroke(h){const{ctx:d}=this,{lineWidth:c}=this.current,[b,S]=this.getScaleForStroking();if(d.lineWidth=c||1,b===1&&S===1){d.stroke();return}const N=d.getLineDash();if(h&&d.save(),d.scale(b,S),N.length>0){const W=Math.max(b,S);d.setLineDash(N.map(Y=>Y/W)),d.lineDashOffset/=W}d.stroke(),h&&d.restore()}isContentVisible(){for(let h=this.markedContentStack.length-1;h>=0;h--)if(!this.markedContentStack[h].visible)return!1;return!0}};let pe=ke;G=new WeakSet,Zt=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Se=new WeakSet,en=function(){if(this.pageColors){const h=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(h!=="none"){const d=this.ctx.filter;this.ctx.filter=h,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=d}}},t.CanvasGraphics=pe;for(const j in n.OPS)pe.prototype[j]!==void 0&&(pe.prototype[n.OPS[j]]=pe.prototype[j])},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=k;var n=s(1),i=s(6);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=a;function l(P,O){if(!O)return;const x=O[2]-O[0],L=O[3]-O[1],_=new Path2D;_.rect(O[0],O[1],x,L),P.clip(_)}class y{constructor(){this.constructor===y&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class m extends y{constructor(O){super(),this._type=O[1],this._bbox=O[2],this._colorStops=O[3],this._p0=O[4],this._p1=O[5],this._r0=O[6],this._r1=O[7],this.matrix=null}_createGradient(O){let x;this._type==="axial"?x=O.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(x=O.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const L of this._colorStops)x.addColorStop(L[0],L[1]);return x}getPattern(O,x,L,_){let A;if(_===a.STROKE||_===a.FILL){const U=x.current.getClippedPathBoundingBox(_,(0,i.getCurrentTransform)(O))||[0,0,0,0],v=Math.ceil(U[2]-U[0])||1,f=Math.ceil(U[3]-U[1])||1,B=x.cachedCanvases.getCanvas("pattern",v,f,!0),I=B.context;I.clearRect(0,0,I.canvas.width,I.canvas.height),I.beginPath(),I.rect(0,0,I.canvas.width,I.canvas.height),I.translate(-U[0],-U[1]),L=n.Util.transform(L,[1,0,0,1,U[0],U[1]]),I.transform(...x.baseTransform),this.matrix&&I.transform(...this.matrix),l(I,this._bbox),I.fillStyle=this._createGradient(I),I.fill(),A=O.createPattern(B.canvas,"no-repeat");const Q=new DOMMatrix(L);A.setTransform(Q)}else l(O,this._bbox),A=this._createGradient(O);return A}}function g(P,O,x,L,_,A,U,v){const f=O.coords,B=O.colors,I=P.data,Q=P.width*4;let te;f[x+1]>f[L+1]&&(te=x,x=L,L=te,te=A,A=U,U=te),f[L+1]>f[_+1]&&(te=L,L=_,_=te,te=U,U=v,v=te),f[x+1]>f[L+1]&&(te=x,x=L,L=te,te=A,A=U,U=te);const $=(f[x]+O.offsetX)*O.scaleX,oe=(f[x+1]+O.offsetY)*O.scaleY,fe=(f[L]+O.offsetX)*O.scaleX,pe=(f[L+1]+O.offsetY)*O.scaleY,G=(f[_]+O.offsetX)*O.scaleX,ye=(f[_+1]+O.offsetY)*O.scaleY;if(oe>=ye)return;const Se=B[A],xe=B[A+1],ke=B[A+2],j=B[U],h=B[U+1],d=B[U+2],c=B[v],b=B[v+1],S=B[v+2],N=Math.round(oe),W=Math.round(ye);let Y,E,F,H,K,ne,ee,be;for(let Ae=N;Ae<=W;Ae++){if(Ae<pe){const J=Ae<oe?0:(oe-Ae)/(oe-pe);Y=$-($-fe)*J,E=Se-(Se-j)*J,F=xe-(xe-h)*J,H=ke-(ke-d)*J}else{let J;Ae>ye?J=1:pe===ye?J=0:J=(pe-Ae)/(pe-ye),Y=fe-(fe-G)*J,E=j-(j-c)*J,F=h-(h-b)*J,H=d-(d-S)*J}let he;Ae<oe?he=0:Ae>ye?he=1:he=(oe-Ae)/(oe-ye),K=$-($-G)*he,ne=Se-(Se-c)*he,ee=xe-(xe-b)*he,be=ke-(ke-S)*he;const ge=Math.round(Math.min(Y,K)),ue=Math.round(Math.max(Y,K));let X=Q*Ae+ge*4;for(let J=ge;J<=ue;J++)he=(Y-J)/(Y-K),he<0?he=0:he>1&&(he=1),I[X++]=E-(E-ne)*he|0,I[X++]=F-(F-ee)*he|0,I[X++]=H-(H-be)*he|0,I[X++]=255}}function u(P,O,x){const L=O.coords,_=O.colors;let A,U;switch(O.type){case"lattice":const v=O.verticesPerRow,f=Math.floor(L.length/v)-1,B=v-1;for(A=0;A<f;A++){let I=A*v;for(let Q=0;Q<B;Q++,I++)g(P,x,L[I],L[I+1],L[I+v],_[I],_[I+1],_[I+v]),g(P,x,L[I+v+1],L[I+1],L[I+v],_[I+v+1],_[I+1],_[I+v])}break;case"triangles":for(A=0,U=L.length;A<U;A+=3)g(P,x,L[A],L[A+1],L[A+2],_[A],_[A+1],_[A+2]);break;default:throw new Error("illegal figure")}}class M extends y{constructor(O){super(),this._coords=O[2],this._colors=O[3],this._figures=O[4],this._bounds=O[5],this._bbox=O[7],this._background=O[8],this.matrix=null}_createMeshCanvas(O,x,L){const v=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),B=Math.ceil(this._bounds[2])-v,I=Math.ceil(this._bounds[3])-f,Q=Math.min(Math.ceil(Math.abs(B*O[0]*1.1)),3e3),te=Math.min(Math.ceil(Math.abs(I*O[1]*1.1)),3e3),$=B/Q,oe=I/te,fe={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-f,scaleX:1/$,scaleY:1/oe},pe=Q+2*2,G=te+2*2,ye=L.getCanvas("mesh",pe,G,!1),Se=ye.context,xe=Se.createImageData(Q,te);if(x){const j=xe.data;for(let h=0,d=j.length;h<d;h+=4)j[h]=x[0],j[h+1]=x[1],j[h+2]=x[2],j[h+3]=255}for(const j of this._figures)u(xe,j,fe);return Se.putImageData(xe,2,2),{canvas:ye.canvas,offsetX:v-2*$,offsetY:f-2*oe,scaleX:$,scaleY:oe}}getPattern(O,x,L,_){l(O,this._bbox);let A;if(_===a.SHADING)A=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(O));else if(A=n.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const v=n.Util.singularValueDecompose2dScale(this.matrix);A=[A[0]*v[0],A[1]*v[1]]}const U=this._createMeshCanvas(A,_===a.SHADING?null:this._background,x.cachedCanvases);return _!==a.SHADING&&(O.setTransform(...x.baseTransform),this.matrix&&O.transform(...this.matrix)),O.translate(U.offsetX,U.offsetY),O.scale(U.scaleX,U.scaleY),O.createPattern(U.canvas,"no-repeat")}}class C extends y{getPattern(){return"hotpink"}}function k(P){switch(P[0]){case"RadialAxial":return new m(P);case"Mesh":return new M(P);case"Dummy":return new C}throw new Error(`Unknown IR type: ${P[0]}`)}const R={COLORED:1,UNCOLORED:2},w=class{constructor(O,x,L,_,A){this.operatorList=O[2],this.matrix=O[3]||[1,0,0,1,0,0],this.bbox=O[4],this.xstep=O[5],this.ystep=O[6],this.paintType=O[7],this.tilingType=O[8],this.color=x,this.ctx=L,this.canvasGraphicsFactory=_,this.baseTransform=A}createPatternCanvas(O){const x=this.operatorList,L=this.bbox,_=this.xstep,A=this.ystep,U=this.paintType,v=this.tilingType,f=this.color,B=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+v);const I=L[0],Q=L[1],te=L[2],$=L[3],oe=n.Util.singularValueDecompose2dScale(this.matrix),fe=n.Util.singularValueDecompose2dScale(this.baseTransform),pe=[oe[0]*fe[0],oe[1]*fe[1]],G=this.getSizeAndScale(_,this.ctx.canvas.width,pe[0]),ye=this.getSizeAndScale(A,this.ctx.canvas.height,pe[1]),Se=O.cachedCanvases.getCanvas("pattern",G.size,ye.size,!0),xe=Se.context,ke=B.createCanvasGraphics(xe);ke.groupLevel=O.groupLevel,this.setFillAndStrokeStyleToContext(ke,U,f);let j=I,h=Q,d=te,c=$;return I<0&&(j=0,d+=Math.abs(I)),Q<0&&(h=0,c+=Math.abs(Q)),xe.translate(-(G.scale*j),-(ye.scale*h)),ke.transform(G.scale,0,0,ye.scale,0,0),xe.save(),this.clipBbox(ke,j,h,d,c),ke.baseTransform=(0,i.getCurrentTransform)(ke.ctx),ke.executeOperatorList(x),ke.endDrawing(),{canvas:Se.canvas,scaleX:G.scale,scaleY:ye.scale,offsetX:j,offsetY:h}}getSizeAndScale(O,x,L){O=Math.abs(O);const _=Math.max(w.MAX_PATTERN_SIZE,x);let A=Math.ceil(O*L);return A>=_?A=_:L=A/O,{scale:L,size:A}}clipBbox(O,x,L,_,A){const U=_-x,v=A-L;O.ctx.rect(x,L,U,v),O.current.updateRectMinMax((0,i.getCurrentTransform)(O.ctx),[x,L,_,A]),O.clip(),O.endPath()}setFillAndStrokeStyleToContext(O,x,L){const _=O.ctx,A=O.current;switch(x){case R.COLORED:const U=this.ctx;_.fillStyle=U.fillStyle,_.strokeStyle=U.strokeStyle,A.fillColor=U.fillStyle,A.strokeColor=U.strokeStyle;break;case R.UNCOLORED:const v=n.Util.makeHexColor(L[0],L[1],L[2]);_.fillStyle=v,_.strokeStyle=v,A.fillColor=v,A.strokeColor=v;break;default:throw new n.FormatError(`Unsupported paint type: ${x}`)}}getPattern(O,x,L,_){let A=L;_!==a.SHADING&&(A=n.Util.transform(A,x.baseTransform),this.matrix&&(A=n.Util.transform(A,this.matrix)));const U=this.createPatternCanvas(x);let v=new DOMMatrix(A);v=v.translate(U.offsetX,U.offsetY),v=v.scale(1/U.scaleX,1/U.scaleY);const f=O.createPattern(U.canvas,"repeat");return f.setTransform(v),f}};let T=w;nt(T,"MAX_PATTERN_SIZE",3e3),t.TilingPattern=T},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=a,t.convertToRGBA=i,t.grayToRGBA=y;var n=s(1);function i(m){switch(m.kind){case n.ImageKind.GRAYSCALE_1BPP:return a(m);case n.ImageKind.RGB_24BPP:return l(m)}return null}function a({src:m,srcPos:g=0,dest:u,width:M,height:C,nonBlackColor:k=4294967295,inverseDecode:R=!1}){const T=n.FeatureTest.isLittleEndian?4278190080:255,[w,P]=R?[k,T]:[T,k],O=M>>3,x=M&7,L=m.length;u=new Uint32Array(u.buffer);let _=0;for(let A=0;A<C;A++){for(const v=g+O;g<v;g++){const f=g<L?m[g]:255;u[_++]=f&128?P:w,u[_++]=f&64?P:w,u[_++]=f&32?P:w,u[_++]=f&16?P:w,u[_++]=f&8?P:w,u[_++]=f&4?P:w,u[_++]=f&2?P:w,u[_++]=f&1?P:w}if(x===0)continue;const U=g<L?m[g++]:255;for(let v=0;v<x;v++)u[_++]=U&1<<7-v?P:w}return{srcPos:g,destPos:_}}function l({src:m,srcPos:g=0,dest:u,destPos:M=0,width:C,height:k}){let R=0;const T=m.length>>2,w=new Uint32Array(m.buffer,g,T);if(n.FeatureTest.isLittleEndian){for(;R<T-2;R+=3,M+=4){const P=w[R],O=w[R+1],x=w[R+2];u[M]=P|4278190080,u[M+1]=P>>>24|O<<8|4278190080,u[M+2]=O>>>16|x<<16|4278190080,u[M+3]=x>>>8|4278190080}for(let P=R*4,O=m.length;P<O;P+=3)u[M++]=m[P]|m[P+1]<<8|m[P+2]<<16|4278190080}else{for(;R<T-2;R+=3,M+=4){const P=w[R],O=w[R+1],x=w[R+2];u[M]=P|255,u[M+1]=P<<24|O>>>8|255,u[M+2]=O<<16|x>>>16|255,u[M+3]=x<<8|255}for(let P=R*4,O=m.length;P<O;P+=3)u[M++]=m[P]<<24|m[P+1]<<16|m[P+2]<<8|255}return{srcPos:g,destPos:M}}function y(m,g){if(n.FeatureTest.isLittleEndian)for(let u=0,M=m.length;u<M;u++)g[u]=m[u]*65793|4278190080;else for(let u=0,M=m.length;u<M;u++)g[u]=m[u]*16843008|255}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const s=Object.create(null);t.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,t,s)=>{var m,Rn,u,Fn,C,kt;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n=s(1);const i={UNKNOWN:0,DATA:1,ERROR:2},a={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function l(R){switch(R instanceof Error||typeof R=="object"&&R!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),R.name){case"AbortException":return new n.AbortException(R.message);case"MissingPDFException":return new n.MissingPDFException(R.message);case"PasswordException":return new n.PasswordException(R.message,R.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(R.message,R.status);case"UnknownErrorException":return new n.UnknownErrorException(R.message,R.details);default:return new n.UnknownErrorException(R.message,R.toString())}}class y{constructor(T,w,P){q(this,m);q(this,u);q(this,C);this.sourceName=T,this.targetName=w,this.comObj=P,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=O=>{const x=O.data;if(x.targetName!==this.sourceName)return;if(x.stream){ie(this,u,Fn).call(this,x);return}if(x.callback){const _=x.callbackId,A=this.callbackCapabilities[_];if(!A)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],x.callback===i.DATA)A.resolve(x.data);else if(x.callback===i.ERROR)A.reject(l(x.reason));else throw new Error("Unexpected callback case");return}const L=this.actionHandler[x.action];if(!L)throw new Error(`Unknown action from worker: ${x.action}`);if(x.callbackId){const _=this.sourceName,A=x.sourceName;new Promise(function(U){U(L(x.data))}).then(function(U){P.postMessage({sourceName:_,targetName:A,callback:i.DATA,callbackId:x.callbackId,data:U})},function(U){P.postMessage({sourceName:_,targetName:A,callback:i.ERROR,callbackId:x.callbackId,reason:l(U)})});return}if(x.streamId){ie(this,m,Rn).call(this,x);return}L(x.data)},P.addEventListener("message",this._onComObjOnMessage)}on(T,w){const P=this.actionHandler;if(P[T])throw new Error(`There is already an actionName called "${T}"`);P[T]=w}send(T,w,P){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:T,data:w},P)}sendWithPromise(T,w,P){const O=this.callbackId++,x=new n.PromiseCapability;this.callbackCapabilities[O]=x;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:T,callbackId:O,data:w},P)}catch(L){x.reject(L)}return x.promise}sendWithStream(T,w,P,O){const x=this.streamId++,L=this.sourceName,_=this.targetName,A=this.comObj;return new ReadableStream({start:U=>{const v=new n.PromiseCapability;return this.streamControllers[x]={controller:U,startCall:v,pullCall:null,cancelCall:null,isClosed:!1},A.postMessage({sourceName:L,targetName:_,action:T,streamId:x,data:w,desiredSize:U.desiredSize},O),v.promise},pull:U=>{const v=new n.PromiseCapability;return this.streamControllers[x].pullCall=v,A.postMessage({sourceName:L,targetName:_,stream:a.PULL,streamId:x,desiredSize:U.desiredSize}),v.promise},cancel:U=>{(0,n.assert)(U instanceof Error,"cancel must have a valid reason");const v=new n.PromiseCapability;return this.streamControllers[x].cancelCall=v,this.streamControllers[x].isClosed=!0,A.postMessage({sourceName:L,targetName:_,stream:a.CANCEL,streamId:x,reason:l(U)}),v.promise}},P)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}m=new WeakSet,Rn=function(T){const w=T.streamId,P=this.sourceName,O=T.sourceName,x=this.comObj,L=this,_=this.actionHandler[T.action],A={enqueue(U,v=1,f){if(this.isCancelled)return;const B=this.desiredSize;this.desiredSize-=v,B>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),x.postMessage({sourceName:P,targetName:O,stream:a.ENQUEUE,streamId:w,chunk:U},f)},close(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:P,targetName:O,stream:a.CLOSE,streamId:w}),delete L.streamSinks[w])},error(U){(0,n.assert)(U instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,x.postMessage({sourceName:P,targetName:O,stream:a.ERROR,streamId:w,reason:l(U)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:T.desiredSize,ready:null};A.sinkCapability.resolve(),A.ready=A.sinkCapability.promise,this.streamSinks[w]=A,new Promise(function(U){U(_(T.data,A))}).then(function(){x.postMessage({sourceName:P,targetName:O,stream:a.START_COMPLETE,streamId:w,success:!0})},function(U){x.postMessage({sourceName:P,targetName:O,stream:a.START_COMPLETE,streamId:w,reason:l(U)})})},u=new WeakSet,Fn=function(T){const w=T.streamId,P=this.sourceName,O=T.sourceName,x=this.comObj,L=this.streamControllers[w],_=this.streamSinks[w];switch(T.stream){case a.START_COMPLETE:T.success?L.startCall.resolve():L.startCall.reject(l(T.reason));break;case a.PULL_COMPLETE:T.success?L.pullCall.resolve():L.pullCall.reject(l(T.reason));break;case a.PULL:if(!_){x.postMessage({sourceName:P,targetName:O,stream:a.PULL_COMPLETE,streamId:w,success:!0});break}_.desiredSize<=0&&T.desiredSize>0&&_.sinkCapability.resolve(),_.desiredSize=T.desiredSize,new Promise(function(A){var U;A((U=_.onPull)==null?void 0:U.call(_))}).then(function(){x.postMessage({sourceName:P,targetName:O,stream:a.PULL_COMPLETE,streamId:w,success:!0})},function(A){x.postMessage({sourceName:P,targetName:O,stream:a.PULL_COMPLETE,streamId:w,reason:l(A)})});break;case a.ENQUEUE:if((0,n.assert)(L,"enqueue should have stream controller"),L.isClosed)break;L.controller.enqueue(T.chunk);break;case a.CLOSE:if((0,n.assert)(L,"close should have stream controller"),L.isClosed)break;L.isClosed=!0,L.controller.close(),ie(this,C,kt).call(this,L,w);break;case a.ERROR:(0,n.assert)(L,"error should have stream controller"),L.controller.error(l(T.reason)),ie(this,C,kt).call(this,L,w);break;case a.CANCEL_COMPLETE:T.success?L.cancelCall.resolve():L.cancelCall.reject(l(T.reason)),ie(this,C,kt).call(this,L,w);break;case a.CANCEL:if(!_)break;new Promise(function(A){var U;A((U=_.onCancel)==null?void 0:U.call(_,l(T.reason)))}).then(function(){x.postMessage({sourceName:P,targetName:O,stream:a.CANCEL_COMPLETE,streamId:w,success:!0})},function(A){x.postMessage({sourceName:P,targetName:O,stream:a.CANCEL_COMPLETE,streamId:w,reason:l(A)})}),_.sinkCapability.reject(l(T.reason)),_.isCancelled=!0,delete this.streamSinks[w];break;default:throw new Error("Unexpected stream case")}},C=new WeakSet,kt=async function(T,w){var P,O,x;await Promise.allSettled([(P=T.startCall)==null?void 0:P.promise,(O=T.pullCall)==null?void 0:O.promise,(x=T.cancelCall)==null?void 0:x.promise]),delete this.streamControllers[w]},t.MessageHandler=y},(e,t,s)=>{var a,l;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=s(1);class i{constructor({parsedData:m,rawData:g}){q(this,a,void 0);q(this,l,void 0);de(this,a,m),de(this,l,g)}getRaw(){return r(this,l)}get(m){return r(this,a).get(m)??null}getAll(){return(0,n.objectFromMap)(r(this,a))}has(m){return r(this,a).has(m)}}a=new WeakMap,l=new WeakMap,t.Metadata=i},(e,t,s)=>{var m,g,u,M,C,k,tn;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var n=s(1),i=s(8);const a=Symbol("INTERNAL");class l{constructor(w,P){q(this,m,!0);this.name=w,this.intent=P}get visible(){return r(this,m)}_setVisible(w,P){w!==a&&(0,n.unreachable)("Internal method `_setVisible` called."),de(this,m,P)}}m=new WeakMap;class y{constructor(w){q(this,k);q(this,g,null);q(this,u,new Map);q(this,M,null);q(this,C,null);if(this.name=null,this.creator=null,w!==null){this.name=w.name,this.creator=w.creator,de(this,C,w.order);for(const P of w.groups)r(this,u).set(P.id,new l(P.name,P.intent));if(w.baseState==="OFF")for(const P of r(this,u).values())P._setVisible(a,!1);for(const P of w.on)r(this,u).get(P)._setVisible(a,!0);for(const P of w.off)r(this,u).get(P)._setVisible(a,!1);de(this,M,this.getHash())}}isVisible(w){if(r(this,u).size===0)return!0;if(!w)return(0,n.warn)("Optional content group not defined."),!0;if(w.type==="OCG")return r(this,u).has(w.id)?r(this,u).get(w.id).visible:((0,n.warn)(`Optional content group not found: ${w.id}`),!0);if(w.type==="OCMD"){if(w.expression)return ie(this,k,tn).call(this,w.expression);if(!w.policy||w.policy==="AnyOn"){for(const P of w.ids){if(!r(this,u).has(P))return(0,n.warn)(`Optional content group not found: ${P}`),!0;if(r(this,u).get(P).visible)return!0}return!1}else if(w.policy==="AllOn"){for(const P of w.ids){if(!r(this,u).has(P))return(0,n.warn)(`Optional content group not found: ${P}`),!0;if(!r(this,u).get(P).visible)return!1}return!0}else if(w.policy==="AnyOff"){for(const P of w.ids){if(!r(this,u).has(P))return(0,n.warn)(`Optional content group not found: ${P}`),!0;if(!r(this,u).get(P).visible)return!0}return!1}else if(w.policy==="AllOff"){for(const P of w.ids){if(!r(this,u).has(P))return(0,n.warn)(`Optional content group not found: ${P}`),!0;if(r(this,u).get(P).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${w.policy}.`),!0}return(0,n.warn)(`Unknown group type ${w.type}.`),!0}setVisibility(w,P=!0){if(!r(this,u).has(w)){(0,n.warn)(`Optional content group not found: ${w}`);return}r(this,u).get(w)._setVisible(a,!!P),de(this,g,null)}get hasInitialVisibility(){return r(this,M)===null||this.getHash()===r(this,M)}getOrder(){return r(this,u).size?r(this,C)?r(this,C).slice():[...r(this,u).keys()]:null}getGroups(){return r(this,u).size>0?(0,n.objectFromMap)(r(this,u)):null}getGroup(w){return r(this,u).get(w)||null}getHash(){if(r(this,g)!==null)return r(this,g);const w=new i.MurmurHash3_64;for(const[P,O]of r(this,u))w.update(`${P}:${O.visible}`);return de(this,g,w.hexdigest())}}g=new WeakMap,u=new WeakMap,M=new WeakMap,C=new WeakMap,k=new WeakSet,tn=function(w){const P=w.length;if(P<2)return!0;const O=w[0];for(let x=1;x<P;x++){const L=w[x];let _;if(Array.isArray(L))_=ie(this,k,tn).call(this,L);else if(r(this,u).has(L))_=r(this,u).get(L).visible;else return(0,n.warn)(`Optional content group not found: ${L}`),!0;switch(O){case"And":if(!_)return!1;break;case"Or":if(_)return!0;break;case"Not":return!_;default:return!0}}return O==="And"},t.OptionalContentConfig=y},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n=s(1),i=s(6);class a{constructor({length:g,initialData:u,progressiveDone:M=!1,contentDispositionFilename:C=null,disableRange:k=!1,disableStream:R=!1},T){if((0,n.assert)(T,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=M,this._contentDispositionFilename=C,(u==null?void 0:u.length)>0){const w=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=T,this._isStreamingSupported=!R,this._isRangeSupported=!k,this._contentLength=g,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,P)=>{this._onReceiveData({begin:w,chunk:P})}),this._pdfDataRangeTransport.addProgressListener((w,P)=>{this._onProgress({loaded:w,total:P})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:g,chunk:u}){const M=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;if(g===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(M):this._queuedChunks.push(M);else{const C=this._rangeReaders.some(function(k){return k._begin!==g?!1:(k._enqueue(M),!0)});(0,n.assert)(C,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var g;return((g=this._fullRequestReader)==null?void 0:g._loaded)??0}_onProgress(g){var u,M,C,k;g.total===void 0?(M=(u=this._rangeReaders[0])==null?void 0:u.onProgress)==null||M.call(u,{loaded:g.loaded}):(k=(C=this._fullRequestReader)==null?void 0:C.onProgress)==null||k.call(C,{loaded:g.loaded,total:g.total})}_onProgressiveDone(){var g;(g=this._fullRequestReader)==null||g.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(g){const u=this._rangeReaders.indexOf(g);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const g=this._queuedChunks;return this._queuedChunks=null,new l(this,g,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(g,u){if(u<=this._progressiveDataLength)return null;const M=new y(this,g,u);return this._pdfDataRangeTransport.requestDataRange(g,u),this._rangeReaders.push(M),M}cancelAllRequests(g){var u;(u=this._fullRequestReader)==null||u.cancel(g);for(const M of this._rangeReaders.slice(0))M.cancel(g);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=a;class l{constructor(g,u,M=!1,C=null){this._stream=g,this._done=M||!1,this._filename=(0,i.isPdfFile)(C)?C:null,this._queuedChunks=u||[],this._loaded=0;for(const k of this._queuedChunks)this._loaded+=k.byteLength;this._requests=[],this._headersReady=Promise.resolve(),g._fullRequestReader=this,this.onProgress=null}_enqueue(g){this._done||(this._requests.length>0?this._requests.shift().resolve({value:g,done:!1}):this._queuedChunks.push(g),this._loaded+=g.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const g=new n.PromiseCapability;return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class y{constructor(g,u,M){this._stream=g,this._begin=u,this._end=M,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(g){if(!this._done){if(this._requests.length===0)this._queuedChunk=g;else{this._requests.shift().resolve({value:g,done:!1});for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};const g=new n.PromiseCapability;return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var n=s(1),i=s(20);function a(M,C,k){return{method:"GET",headers:M,signal:k.signal,mode:"cors",credentials:C?"include":"same-origin",redirect:"follow"}}function l(M){const C=new Headers;for(const k in M){const R=M[k];R!==void 0&&C.append(k,R)}return C}function y(M){return M instanceof Uint8Array?M.buffer:M instanceof ArrayBuffer?M:((0,n.warn)(`getArrayBuffer - unexpected data format: ${M}`),new Uint8Array(M).buffer)}class m{constructor(C){this.source=C,this.isHttp=/^https?:/i.test(C.url),this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var C;return((C=this._fullRequestReader)==null?void 0:C._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}getRangeReader(C,k){if(k<=this._progressiveDataLength)return null;const R=new u(this,C,k);return this._rangeRequestReaders.push(R),R}cancelAllRequests(C){var k;(k=this._fullRequestReader)==null||k.cancel(C);for(const R of this._rangeRequestReaders.slice(0))R.cancel(C)}}t.PDFFetchStream=m;class g{constructor(C){this._stream=C,this._reader=null,this._loaded=0,this._filename=null;const k=C.source;this._withCredentials=k.withCredentials||!1,this._contentLength=k.length,this._headersCapability=new n.PromiseCapability,this._disableRange=k.disableRange||!1,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!k.disableStream,this._isRangeSupported=!k.disableRange,this._headers=l(this._stream.httpHeaders);const R=k.url;fetch(R,a(this._headers,this._withCredentials,this._abortController)).then(T=>{if(!(0,i.validateResponseStatus)(T.status))throw(0,i.createResponseStatusError)(T.status,R);this._reader=T.body.getReader(),this._headersCapability.resolve();const w=x=>T.headers.get(x),{allowRangeRequests:P,suggestedLength:O}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=P,this._contentLength=O||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var R;await this._headersCapability.promise;const{value:C,done:k}=await this._reader.read();return k?{value:C,done:k}:(this._loaded+=C.byteLength,(R=this.onProgress)==null||R.call(this,{loaded:this._loaded,total:this._contentLength}),{value:y(C),done:!1})}cancel(C){var k;(k=this._reader)==null||k.cancel(C),this._abortController.abort()}}class u{constructor(C,k,R){this._stream=C,this._reader=null,this._loaded=0;const T=C.source;this._withCredentials=T.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!T.disableStream,this._abortController=new AbortController,this._headers=l(this._stream.httpHeaders),this._headers.append("Range",`bytes=${k}-${R-1}`);const w=T.url;fetch(w,a(this._headers,this._withCredentials,this._abortController)).then(P=>{if(!(0,i.validateResponseStatus)(P.status))throw(0,i.createResponseStatusError)(P.status,w);this._readCapability.resolve(),this._reader=P.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var R;await this._readCapability.promise;const{value:C,done:k}=await this._reader.read();return k?{value:C,done:k}:(this._loaded+=C.byteLength,(R=this.onProgress)==null||R.call(this,{loaded:this._loaded}),{value:y(C),done:!1})}cancel(C){var k;(k=this._reader)==null||k.cancel(C),this._abortController.abort()}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=m,t.extractFilenameFromHeader=y,t.validateRangeRequestCapabilities=l,t.validateResponseStatus=g;var n=s(1),i=s(21),a=s(6);function l({getResponseHeader:u,isHttp:M,rangeChunkSize:C,disableRange:k}){const R={allowRangeRequests:!1,suggestedLength:void 0},T=parseInt(u("Content-Length"),10);return!Number.isInteger(T)||(R.suggestedLength=T,T<=2*C)||k||!M||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(R.allowRangeRequests=!0),R}function y(u){const M=u("Content-Disposition");if(M){let C=(0,i.getFilenameFromContentDispositionHeader)(M);if(C.includes("%"))try{C=decodeURIComponent(C)}catch{}if((0,a.isPdfFile)(C))return C}return null}function m(u,M){return u===404||u===0&&M.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+M+'".'):new n.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${M}".`,u)}function g(u){return u===200||u===206}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=i;var n=s(1);function i(a){let l=!0,y=m("filename\\*","i").exec(a);if(y){y=y[1];let T=C(y);return T=unescape(T),T=k(T),T=R(T),u(T)}if(y=M(a),y){const T=R(y);return u(T)}if(y=m("filename","i").exec(a),y){y=y[1];let T=C(y);return T=R(T),u(T)}function m(T,w){return new RegExp("(?:^|;)\\s*"+T+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function g(T,w){if(T){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const P=new TextDecoder(T,{fatal:!0}),O=(0,n.stringToBytes)(w);w=P.decode(O),l=!1}catch{}}return w}function u(T){return l&&/[\x80-\xff]/.test(T)&&(T=g("utf-8",T),l&&(T=g("iso-8859-1",T))),T}function M(T){const w=[];let P;const O=m("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(P=O.exec(T))!==null;){let[,L,_,A]=P;if(L=parseInt(L,10),L in w){if(L===0)break;continue}w[L]=[_,A]}const x=[];for(let L=0;L<w.length&&L in w;++L){let[_,A]=w[L];A=C(A),_&&(A=unescape(A),L===0&&(A=k(A))),x.push(A)}return x.join("")}function C(T){if(T.startsWith('"')){const w=T.slice(1).split('\\"');for(let P=0;P<w.length;++P){const O=w[P].indexOf('"');O!==-1&&(w[P]=w[P].slice(0,O),w.length=P+1),w[P]=w[P].replaceAll(/\\(.)/g,"$1")}T=w.join('"')}return T}function k(T){const w=T.indexOf("'");if(w===-1)return T;const P=T.slice(0,w),x=T.slice(w+1).replace(/^[^']*'/,"");return g(P,x)}function R(T){return!T.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(T)?T:T.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,P,O,x){if(O==="q"||O==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(L,_){return String.fromCharCode(parseInt(_,16))}),g(P,x);try{x=atob(x)}catch{}return g(P,x)})}return""}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var n=s(1),i=s(20);const a=200,l=206;function y(C){const k=C.response;return typeof k!="string"?k:(0,n.stringToBytes)(k).buffer}class m{constructor(k,R={}){this.url=k,this.isHttp=/^https?:/i.test(k),this.httpHeaders=this.isHttp&&R.httpHeaders||Object.create(null),this.withCredentials=R.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(k,R,T){const w={begin:k,end:R};for(const P in T)w[P]=T[P];return this.request(w)}requestFull(k){return this.request(k)}request(k){const R=new XMLHttpRequest,T=this.currXhrId++,w=this.pendingRequests[T]={xhr:R};R.open("GET",this.url),R.withCredentials=this.withCredentials;for(const P in this.httpHeaders){const O=this.httpHeaders[P];O!==void 0&&R.setRequestHeader(P,O)}return this.isHttp&&"begin"in k&&"end"in k?(R.setRequestHeader("Range",`bytes=${k.begin}-${k.end-1}`),w.expectedStatus=l):w.expectedStatus=a,R.responseType="arraybuffer",k.onError&&(R.onerror=function(P){k.onError(R.status)}),R.onreadystatechange=this.onStateChange.bind(this,T),R.onprogress=this.onProgress.bind(this,T),w.onHeadersReceived=k.onHeadersReceived,w.onDone=k.onDone,w.onError=k.onError,w.onProgress=k.onProgress,R.send(null),T}onProgress(k,R){var w;const T=this.pendingRequests[k];T&&((w=T.onProgress)==null||w.call(T,R))}onStateChange(k,R){var L,_,A;const T=this.pendingRequests[k];if(!T)return;const w=T.xhr;if(w.readyState>=2&&T.onHeadersReceived&&(T.onHeadersReceived(),delete T.onHeadersReceived),w.readyState!==4||!(k in this.pendingRequests))return;if(delete this.pendingRequests[k],w.status===0&&this.isHttp){(L=T.onError)==null||L.call(T,w.status);return}const P=w.status||a;if(!(P===a&&T.expectedStatus===l)&&P!==T.expectedStatus){(_=T.onError)==null||_.call(T,w.status);return}const x=y(w);if(P===l){const U=w.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(U);T.onDone({begin:parseInt(v[1],10),chunk:x})}else x?T.onDone({begin:0,chunk:x}):(A=T.onError)==null||A.call(T,w.status)}getRequestXhr(k){return this.pendingRequests[k].xhr}isPendingRequest(k){return k in this.pendingRequests}abortRequest(k){const R=this.pendingRequests[k].xhr;delete this.pendingRequests[k],R.abort()}}class g{constructor(k){this._source=k,this._manager=new m(k.url,{httpHeaders:k.httpHeaders,withCredentials:k.withCredentials}),this._rangeChunkSize=k.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(k){const R=this._rangeRequestReaders.indexOf(k);R>=0&&this._rangeRequestReaders.splice(R,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(k,R){const T=new M(this._manager,k,R);return T.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(T),T}cancelAllRequests(k){var R;(R=this._fullRequestReader)==null||R.cancel(k);for(const T of this._rangeRequestReaders.slice(0))T.cancel(k)}}t.PDFNetworkStream=g;class u{constructor(k,R){this._manager=k;const T={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._fullRequestId=k.requestFull(T),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=R.disableRange||!1,this._contentLength=R.length,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const k=this._fullRequestId,R=this._manager.getRequestXhr(k),T=O=>R.getResponseHeader(O),{allowRangeRequests:w,suggestedLength:P}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=P||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(T),this._isRangeSupported&&this._manager.abortRequest(k),this._headersReceivedCapability.resolve()}_onDone(k){if(k&&(this._requests.length>0?this._requests.shift().resolve({value:k.chunk,done:!1}):this._cachedChunks.push(k.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(k){this._storedError=(0,i.createResponseStatusError)(k,this._url),this._headersReceivedCapability.reject(this._storedError);for(const R of this._requests)R.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(k){var R;(R=this.onProgress)==null||R.call(this,{loaded:k.loaded,total:k.lengthComputable?k.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const k=new n.PromiseCapability;return this._requests.push(k),k.promise}cancel(k){this._done=!0,this._headersReceivedCapability.reject(k);for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class M{constructor(k,R,T){this._manager=k;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._requestId=k.requestRange(R,T,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var k;(k=this.onClosed)==null||k.call(this,this)}_onDone(k){const R=k.chunk;this._requests.length>0?this._requests.shift().resolve({value:R,done:!1}):this._queuedChunk=R,this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(k){this._storedError=(0,i.createResponseStatusError)(k,this._url);for(const R of this._requests)R.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(k){var R;this.isStreamingSupported||(R=this.onProgress)==null||R.call(this,{loaded:k.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const R=this._queuedChunk;return this._queuedChunk=null,{value:R,done:!1}}if(this._done)return{value:void 0,done:!0};const k=new n.PromiseCapability;return this._requests.push(k),k.promise}cancel(k){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var n=s(1),i=s(20);const a=/^file:\/\/\/[a-zA-Z]:\//;function l(T){const w=require$$5,P=w.parse(T);return P.protocol==="file:"||P.host?P:/^[a-z]:[/\\]/i.test(T)?w.parse(`file:///${T}`):(P.host||(P.protocol="file:"),P)}class y{constructor(w){this.source=w,this.url=l(w.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var w;return((w=this._fullRequestReader)==null?void 0:w._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new k(this):new M(this),this._fullRequestReader}getRangeReader(w,P){if(P<=this._progressiveDataLength)return null;const O=this.isFsUrl?new R(this,w,P):new C(this,w,P);return this._rangeRequestReaders.push(O),O}cancelAllRequests(w){var P;(P=this._fullRequestReader)==null||P.cancel(w);for(const O of this._rangeRequestReaders.slice(0))O.cancel(w)}}t.PDFNodeStream=y;class m{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null;const P=w.source;this._contentLength=P.length,this._loaded=0,this._filename=null,this._disableRange=P.disableRange||!1,this._rangeChunkSize=P.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!P.disableStream,this._isRangeSupported=!P.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const w=this._readableStream.read();return w===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=w.length,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(w).buffer,done:!1})}cancel(w){if(!this._readableStream){this._error(w);return}this._readableStream.destroy(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",P=>{this._error(P)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class g{constructor(w){this._url=w.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const P=w.source;this._isStreamingSupported=!P.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var O;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const w=this._readableStream.read();return w===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=w.length,(O=this.onProgress)==null||O.call(this,{loaded:this._loaded}),{value:new Uint8Array(w).buffer,done:!1})}cancel(w){if(!this._readableStream){this._error(w);return}this._readableStream.destroy(w)}_error(w){this._storedError=w,this._readCapability.resolve()}_setReadableStream(w){this._readableStream=w,w.on("readable",()=>{this._readCapability.resolve()}),w.on("end",()=>{w.destroy(),this._done=!0,this._readCapability.resolve()}),w.on("error",P=>{this._error(P)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(T,w){return{protocol:T.protocol,auth:T.auth,host:T.hostname,port:T.port,path:T.path,method:"GET",headers:w}}class M extends m{constructor(w){super(w);const P=O=>{if(O.statusCode===404){const A=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A,this._headersCapability.reject(A);return}this._headersCapability.resolve(),this._setReadableStream(O);const x=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:L,suggestedLength:_}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:w.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=_||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(x)};if(this._request=null,this._url.protocol==="http:"){const O=require$$5;this._request=O.request(u(this._url,w.httpHeaders),P)}else{const O=require$$5;this._request=O.request(u(this._url,w.httpHeaders),P)}this._request.on("error",O=>{this._storedError=O,this._headersCapability.reject(O)}),this._request.end()}}class C extends g{constructor(w,P,O){super(w),this._httpHeaders={};for(const L in w.httpHeaders){const _=w.httpHeaders[L];_!==void 0&&(this._httpHeaders[L]=_)}this._httpHeaders.Range=`bytes=${P}-${O-1}`;const x=L=>{if(L.statusCode===404){const _=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_;return}this._setReadableStream(L)};if(this._request=null,this._url.protocol==="http:"){const L=require$$5;this._request=L.request(u(this._url,this._httpHeaders),x)}else{const L=require$$5;this._request=L.request(u(this._url,this._httpHeaders),x)}this._request.on("error",L=>{this._storedError=L}),this._request.end()}}class k extends m{constructor(w){super(w);let P=decodeURIComponent(this._url.path);a.test(this._url.href)&&(P=P.replace(/^\//,""));const O=require$$5;O.lstat(P,(x,L)=>{if(x){x.code==="ENOENT"&&(x=new n.MissingPDFException(`Missing PDF "${P}".`)),this._storedError=x,this._headersCapability.reject(x);return}this._contentLength=L.size,this._setReadableStream(O.createReadStream(P)),this._headersCapability.resolve()})}}class R extends g{constructor(w,P,O){super(w);let x=decodeURIComponent(this._url.path);a.test(this._url.href)&&(x=x.replace(/^\//,""));const L=require$$5;this._setReadableStream(L.createReadStream(x,{start:P,end:O-1}))}}},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var n=s(6),i=s(1);const a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/1999/xlink",m=["butt","round","square"],g=["miter","round","bevel"],u=function(L,_="",A=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!A)return URL.createObjectURL(new Blob([L],{type:_}));const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${_};base64,`;for(let f=0,B=L.length;f<B;f+=3){const I=L[f]&255,Q=L[f+1]&255,te=L[f+2]&255,$=I>>2,oe=(I&3)<<4|Q>>4,fe=f+1<B?(Q&15)<<2|te>>6:64,pe=f+2<B?te&63:64;v+=U[$]+U[oe]+U[fe]+U[pe]}return v},M=function(){const L=new Uint8Array([137,80,78,71,13,10,26,10]),_=12,A=new Int32Array(256);for(let te=0;te<256;te++){let $=te;for(let oe=0;oe<8;oe++)$=$&1?3988292384^$>>1&2147483647:$>>1&2147483647;A[te]=$}function U(te,$,oe){let fe=-1;for(let pe=$;pe<oe;pe++){const G=(fe^te[pe])&255,ye=A[G];fe=fe>>>8^ye}return fe^-1}function v(te,$,oe,fe){let pe=fe;const G=$.length;oe[pe]=G>>24&255,oe[pe+1]=G>>16&255,oe[pe+2]=G>>8&255,oe[pe+3]=G&255,pe+=4,oe[pe]=te.charCodeAt(0)&255,oe[pe+1]=te.charCodeAt(1)&255,oe[pe+2]=te.charCodeAt(2)&255,oe[pe+3]=te.charCodeAt(3)&255,pe+=4,oe.set($,pe),pe+=$.length;const ye=U(oe,fe+4,pe);oe[pe]=ye>>24&255,oe[pe+1]=ye>>16&255,oe[pe+2]=ye>>8&255,oe[pe+3]=ye&255}function f(te,$,oe){let fe=1,pe=0;for(let G=$;G<oe;++G)fe=(fe+(te[G]&255))%65521,pe=(pe+fe)%65521;return pe<<16|fe}function B(te){if(!i.isNodeJS)return I(te);try{const $=parseInt(process.versions.node)>=8?te:Buffer.from(te),oe=require$$5.deflateSync($,{level:9});return oe instanceof Uint8Array?oe:new Uint8Array(oe)}catch($){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+$)}return I(te)}function I(te){let $=te.length;const oe=65535,fe=Math.ceil($/oe),pe=new Uint8Array(2+$+fe*5+4);let G=0;pe[G++]=120,pe[G++]=156;let ye=0;for(;$>oe;)pe[G++]=0,pe[G++]=255,pe[G++]=255,pe[G++]=0,pe[G++]=0,pe.set(te.subarray(ye,ye+oe),G),G+=oe,ye+=oe,$-=oe;pe[G++]=1,pe[G++]=$&255,pe[G++]=$>>8&255,pe[G++]=~$&65535&255,pe[G++]=(~$&65535)>>8&255,pe.set(te.subarray(ye),G),G+=te.length-ye;const Se=f(te,0,te.length);return pe[G++]=Se>>24&255,pe[G++]=Se>>16&255,pe[G++]=Se>>8&255,pe[G++]=Se&255,pe}function Q(te,$,oe,fe){const pe=te.width,G=te.height;let ye,Se,xe;const ke=te.data;switch($){case i.ImageKind.GRAYSCALE_1BPP:Se=0,ye=1,xe=pe+7>>3;break;case i.ImageKind.RGB_24BPP:Se=2,ye=8,xe=pe*3;break;case i.ImageKind.RGBA_32BPP:Se=6,ye=8,xe=pe*4;break;default:throw new Error("invalid format")}const j=new Uint8Array((1+xe)*G);let h=0,d=0;for(let Y=0;Y<G;++Y)j[h++]=0,j.set(ke.subarray(d,d+xe),h),d+=xe,h+=xe;if($===i.ImageKind.GRAYSCALE_1BPP&&fe){h=0;for(let Y=0;Y<G;Y++){h++;for(let E=0;E<xe;E++)j[h++]^=255}}const c=new Uint8Array([pe>>24&255,pe>>16&255,pe>>8&255,pe&255,G>>24&255,G>>16&255,G>>8&255,G&255,ye,Se,0,0,0]),b=B(j),S=L.length+_*3+c.length+b.length,N=new Uint8Array(S);let W=0;return N.set(L,W),W+=L.length,v("IHDR",c,N,W),W+=_+c.length,v("IDATA",b,N,W),W+=_+b.length,v("IEND",new Uint8Array(0),N,W),u(N,"image/png",oe)}return function($,oe,fe){const pe=$.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:$.kind;return Q($,pe,oe,fe)}}();class C{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(_,A){this.x=_,this.y=A}}function k(L){let _=[];const A=[];for(const U of L){if(U.fn==="save"){_.push({fnId:92,fn:"group",items:[]}),A.push(_),_=_.at(-1).items;continue}U.fn==="restore"?_=A.pop():_.push(U)}return _}function R(L){if(Number.isInteger(L))return L.toString();const _=L.toFixed(10);let A=_.length-1;if(_[A]!=="0")return _;do A--;while(_[A]==="0");return _.substring(0,_[A]==="."?A:A+1)}function T(L){if(L[4]===0&&L[5]===0){if(L[1]===0&&L[2]===0)return L[0]===1&&L[3]===1?"":`scale(${R(L[0])} ${R(L[3])})`;if(L[0]===L[3]&&L[1]===-L[2]){const _=Math.acos(L[0])*180/Math.PI;return`rotate(${R(_)})`}}else if(L[0]===1&&L[1]===0&&L[2]===0&&L[3]===1)return`translate(${R(L[4])} ${R(L[5])})`;return`matrix(${R(L[0])} ${R(L[1])} ${R(L[2])} ${R(L[3])} ${R(L[4])} ${R(L[5])})`}let w=0,P=0,O=0;class x{constructor(_,A,U=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new C,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=A,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!U,this._operatorIdMapping=[];for(const v in i.OPS)this._operatorIdMapping[i.OPS[v]]=v}getObject(_,A=null){return typeof _=="string"?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):A}save(){this.transformStack.push(this.transformMatrix);const _=this.current;this.extraStack.push(_),this.current=_.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_){this.save(),this.executeOpTree(_),this.restore()}loadDependencies(_){const A=_.fnArray,U=_.argsArray;for(let v=0,f=A.length;v<f;v++)if(A[v]===i.OPS.dependency)for(const B of U[v]){const I=B.startsWith("g_")?this.commonObjs:this.objs,Q=new Promise(te=>{I.get(B,te)});this.current.dependencies.push(Q)}return Promise.all(this.current.dependencies)}transform(_,A,U,v,f,B){const I=[_,A,U,v,f,B];this.transformMatrix=i.Util.transform(this.transformMatrix,I),this.tgrp=null}getSVG(_,A){this.viewport=A;const U=this._initialize(A);return this.loadDependencies(_).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_)),U))}convertOpList(_){const A=this._operatorIdMapping,U=_.argsArray,v=_.fnArray,f=[];for(let B=0,I=v.length;B<I;B++){const Q=v[B];f.push({fnId:Q,fn:A[Q],args:U[B]})}return k(f)}executeOpTree(_){for(const A of _){const U=A.fn,v=A.fnId,f=A.args;switch(v|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(f);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case i.OPS.setFont:this.setFont(f);break;case i.OPS.showText:this.showText(f[0]);break;case i.OPS.showSpacedText:this.showText(f[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(f[0],f[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case i.OPS.setHScale:this.setHScale(f[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case i.OPS.setTextRise:this.setTextRise(f[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case i.OPS.setLineWidth:this.setLineWidth(f[0]);break;case i.OPS.setLineJoin:this.setLineJoin(f[0]);break;case i.OPS.setLineCap:this.setLineCap(f[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(f);break;case i.OPS.setFillColorN:this.setFillColorN(f);break;case i.OPS.shadingFill:this.shadingFill(f[0]);break;case i.OPS.setDash:this.setDash(f[0],f[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(f[0]);break;case i.OPS.setFlatness:this.setFlatness(f[0]);break;case i.OPS.setGState:this.setGState(f[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case i.OPS.constructPath:this.constructPath(f[0],f[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(A.items);break;default:(0,i.warn)(`Unimplemented operator ${U}`);break}}}setWordSpacing(_){this.current.wordSpacing=_}setCharSpacing(_){this.current.charSpacing=_}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_,A,U,v,f,B){const I=this.current;I.textMatrix=I.lineMatrix=[_,A,U,v,f,B],I.textMatrixScale=Math.hypot(_,A),I.x=I.lineX=0,I.y=I.lineY=0,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${R(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",R(-I.y)),I.txtElement=this.svgFactory.createElement("svg:text"),I.txtElement.append(I.tspan)}beginText(){const _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=i.IDENTITY_MATRIX,_.lineMatrix=i.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}moveText(_,A){const U=this.current;U.x=U.lineX+=_,U.y=U.lineY+=A,U.xcoords=[],U.ycoords=[],U.tspan=this.svgFactory.createElement("svg:tspan"),U.tspan.setAttributeNS(null,"font-family",U.fontFamily),U.tspan.setAttributeNS(null,"font-size",`${R(U.fontSize)}px`),U.tspan.setAttributeNS(null,"y",R(-U.y))}showText(_){const A=this.current,U=A.font,v=A.fontSize;if(v===0)return;const f=A.fontSizeScale,B=A.charSpacing,I=A.wordSpacing,Q=A.fontDirection,te=A.textHScale*Q,$=U.vertical,oe=$?1:-1,fe=U.defaultVMetrics,pe=v*A.fontMatrix[0];let G=0;for(const xe of _){if(xe===null){G+=Q*I;continue}else if(typeof xe=="number"){G+=oe*xe*v/1e3;continue}const ke=(xe.isSpace?I:0)+B,j=xe.fontChar;let h,d,c=xe.width;if($){let S;const N=xe.vmetric||fe;S=xe.vmetric?N[1]:c*.5,S=-S*pe;const W=N[2]*pe;c=N?-N[0]:c,h=S/f,d=(G+W)/f}else h=G/f,d=0;(xe.isInFont||U.missingFile)&&(A.xcoords.push(A.x+h),$&&A.ycoords.push(-A.y+d),A.tspan.textContent+=j);const b=$?c*pe-ke*Q:c*pe+ke*Q;G+=b}A.tspan.setAttributeNS(null,"x",A.xcoords.map(R).join(" ")),$?A.tspan.setAttributeNS(null,"y",A.ycoords.map(R).join(" ")):A.tspan.setAttributeNS(null,"y",R(-A.y)),$?A.y-=G:A.x+=G*te,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${R(A.fontSize)}px`),A.fontStyle!==a.fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==a.fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);const ye=A.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(ye===i.TextRenderingMode.FILL||ye===i.TextRenderingMode.FILL_STROKE?(A.fillColor!==a.fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?A.tspan.setAttributeNS(null,"fill","transparent"):A.tspan.setAttributeNS(null,"fill","none"),ye===i.TextRenderingMode.STROKE||ye===i.TextRenderingMode.FILL_STROKE){const xe=1/(A.textMatrixScale||1);this._setStrokeAttributes(A.tspan,xe)}let Se=A.textMatrix;A.textRise!==0&&(Se=Se.slice(),Se[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform",`${T(Se)} scale(${R(te)}, -1)`),A.txtElement.setAttributeNS(l,"xml:space","preserve"),A.txtElement.append(A.tspan),A.txtgrp.append(A.txtElement),this._ensureTransformGroup().append(A.txtElement)}setLeadingMoveText(_,A){this.setLeading(-A),this.moveText(_,A)}addFontStyle(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const A=u(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_.loadedName}"; src: url(${A}); }
`}setFont(_){const A=this.current,U=this.commonObjs.get(_[0]);let v=_[1];A.font=U,this.embedFonts&&!U.missingFile&&!this.embeddedFonts[U.loadedName]&&(this.addFontStyle(U),this.embeddedFonts[U.loadedName]=U),A.fontMatrix=U.fontMatrix||i.FONT_IDENTITY_MATRIX;let f="normal";U.black?f="900":U.bold&&(f="bold");const B=U.italic?"italic":"normal";v<0?(v=-v,A.fontDirection=-1):A.fontDirection=1,A.fontSize=v,A.fontFamily=U.loadedName,A.fontWeight=f,A.fontStyle=B,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",R(-A.y)),A.xcoords=[],A.ycoords=[]}endText(){var A;const _=this.current;_.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&((A=_.txtElement)!=null&&A.hasChildNodes())&&(_.element=_.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_){_>0&&(this.current.lineWidth=_)}setLineCap(_){this.current.lineCap=m[_]}setLineJoin(_){this.current.lineJoin=g[_]}setMiterLimit(_){this.current.miterLimit=_}setStrokeAlpha(_){this.current.strokeAlpha=_}setStrokeRGBColor(_,A,U){this.current.strokeColor=i.Util.makeHexColor(_,A,U)}setFillAlpha(_){this.current.fillAlpha=_}setFillRGBColor(_,A,U){this.current.fillColor=i.Util.makeHexColor(_,A,U),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_){this.current.strokeColor=this._makeColorN_Pattern(_)}setFillColorN(_){this.current.fillColor=this._makeColorN_Pattern(_)}shadingFill(_){const{width:A,height:U}=this.viewport,v=i.Util.inverseTransform(this.transformMatrix),[f,B,I,Q]=i.Util.getAxialAlignedBoundingBox([0,0,A,U],v),te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x",f),te.setAttributeNS(null,"y",B),te.setAttributeNS(null,"width",I-f),te.setAttributeNS(null,"height",Q-B),te.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&te.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(te)}_makeColorN_Pattern(_){return _[0]==="TilingPattern"?this._makeTilingPattern(_):this._makeShadingPattern(_)}_makeTilingPattern(_){const A=_[1],U=_[2],v=_[3]||i.IDENTITY_MATRIX,[f,B,I,Q]=_[4],te=_[5],$=_[6],oe=_[7],fe=`shading${O++}`,[pe,G,ye,Se]=i.Util.normalizeRect([...i.Util.applyTransform([f,B],v),...i.Util.applyTransform([I,Q],v)]),[xe,ke]=i.Util.singularValueDecompose2dScale(v),j=te*xe,h=$*ke,d=this.svgFactory.createElement("svg:pattern");d.setAttributeNS(null,"id",fe),d.setAttributeNS(null,"patternUnits","userSpaceOnUse"),d.setAttributeNS(null,"width",j),d.setAttributeNS(null,"height",h),d.setAttributeNS(null,"x",`${pe}`),d.setAttributeNS(null,"y",`${G}`);const c=this.svg,b=this.transformMatrix,S=this.current.fillColor,N=this.current.strokeColor,W=this.svgFactory.create(ye-pe,Se-G);if(this.svg=W,this.transformMatrix=v,oe===2){const Y=i.Util.makeHexColor(...A);this.current.fillColor=Y,this.current.strokeColor=Y}return this.executeOpTree(this.convertOpList(U)),this.svg=c,this.transformMatrix=b,this.current.fillColor=S,this.current.strokeColor=N,d.append(W.childNodes[0]),this.defs.append(d),`url(#${fe})`}_makeShadingPattern(_){switch(typeof _=="string"&&(_=this.objs.get(_)),_[0]){case"RadialAxial":const A=`shading${O++}`,U=_[3];let v;switch(_[1]){case"axial":const f=_[4],B=_[5];v=this.svgFactory.createElement("svg:linearGradient"),v.setAttributeNS(null,"id",A),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"x1",f[0]),v.setAttributeNS(null,"y1",f[1]),v.setAttributeNS(null,"x2",B[0]),v.setAttributeNS(null,"y2",B[1]);break;case"radial":const I=_[4],Q=_[5],te=_[6],$=_[7];v=this.svgFactory.createElement("svg:radialGradient"),v.setAttributeNS(null,"id",A),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"cx",Q[0]),v.setAttributeNS(null,"cy",Q[1]),v.setAttributeNS(null,"r",$),v.setAttributeNS(null,"fx",I[0]),v.setAttributeNS(null,"fy",I[1]),v.setAttributeNS(null,"fr",te);break;default:throw new Error(`Unknown RadialAxial type: ${_[1]}`)}for(const f of U){const B=this.svgFactory.createElement("svg:stop");B.setAttributeNS(null,"offset",f[0]),B.setAttributeNS(null,"stop-color",f[1]),v.append(B)}return this.defs.append(v),`url(#${A})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_[0]}`)}}setDash(_,A){this.current.dashArray=_,this.current.dashPhase=A}constructPath(_,A){const U=this.current;let v=U.x,f=U.y,B=[],I=0;for(const Q of _)switch(Q|0){case i.OPS.rectangle:v=A[I++],f=A[I++];const te=A[I++],$=A[I++],oe=v+te,fe=f+$;B.push("M",R(v),R(f),"L",R(oe),R(f),"L",R(oe),R(fe),"L",R(v),R(fe),"Z");break;case i.OPS.moveTo:v=A[I++],f=A[I++],B.push("M",R(v),R(f));break;case i.OPS.lineTo:v=A[I++],f=A[I++],B.push("L",R(v),R(f));break;case i.OPS.curveTo:v=A[I+4],f=A[I+5],B.push("C",R(A[I]),R(A[I+1]),R(A[I+2]),R(A[I+3]),R(v),R(f)),I+=6;break;case i.OPS.curveTo2:B.push("C",R(v),R(f),R(A[I]),R(A[I+1]),R(A[I+2]),R(A[I+3])),v=A[I+2],f=A[I+3],I+=4;break;case i.OPS.curveTo3:v=A[I+2],f=A[I+3],B.push("C",R(A[I]),R(A[I+1]),R(v),R(f),R(v),R(f)),I+=4;break;case i.OPS.closePath:B.push("Z");break}B=B.join(" "),U.path&&_.length>0&&_[0]!==i.OPS.rectangle&&_[0]!==i.OPS.moveTo?B=U.path.getAttributeNS(null,"d")+B:(U.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(U.path)),U.path.setAttributeNS(null,"d",B),U.path.setAttributeNS(null,"fill","none"),U.element=U.path,U.setCurrentPoint(v,f)}endPath(){const _=this.current;if(_.path=null,!this.pendingClip)return;if(!_.element){this.pendingClip=null;return}const A=`clippath${w++}`,U=this.svgFactory.createElement("svg:clipPath");U.setAttributeNS(null,"id",A),U.setAttributeNS(null,"transform",T(this.transformMatrix));const v=_.element.cloneNode(!0);if(this.pendingClip==="evenodd"?v.setAttributeNS(null,"clip-rule","evenodd"):v.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,U.append(v),this.defs.append(U),_.activeClipUrl){_.clipGroup=null;for(const f of this.extraStack)f.clipGroup=null;U.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl=`url(#${A})`,this.tgrp=null}clip(_){this.pendingClip=_}closePath(){const _=this.current;if(_.path){const A=`${_.path.getAttributeNS(null,"d")}Z`;_.path.setAttributeNS(null,"d",A)}}setLeading(_){this.current.leading=-_}setTextRise(_){this.current.textRise=_}setTextRenderingMode(_){this.current.textRenderingMode=_}setHScale(_){this.current.textHScale=_/100}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(const[A,U]of _)switch(A){case"LW":this.setLineWidth(U);break;case"LC":this.setLineCap(U);break;case"LJ":this.setLineJoin(U);break;case"ML":this.setMiterLimit(U);break;case"D":this.setDash(U[0],U[1]);break;case"RI":this.setRenderingIntent(U);break;case"FL":this.setFlatness(U);break;case"Font":this.setFont(U);break;case"CA":this.setStrokeAlpha(U);break;case"ca":this.setFillAlpha(U);break;default:(0,i.warn)(`Unimplemented graphic state operator ${A}`);break}}fill(){const _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}stroke(){const _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_,A=1){const U=this.current;let v=U.dashArray;A!==1&&v.length>0&&(v=v.map(function(f){return A*f})),_.setAttributeNS(null,"stroke",U.strokeColor),_.setAttributeNS(null,"stroke-opacity",U.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",R(U.miterLimit)),_.setAttributeNS(null,"stroke-linecap",U.lineCap),_.setAttributeNS(null,"stroke-linejoin",U.lineJoin),_.setAttributeNS(null,"stroke-width",R(A*U.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",v.map(R).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",R(A*U.dashPhase)+"px")}eoFill(){var _;(_=this.current.element)==null||_.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var _;(_=this.current.element)==null||_.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(_)}paintImageXObject(_){const A=this.getObject(_);if(!A){(0,i.warn)(`Dependent image with object ID ${_} is not ready yet`);return}this.paintInlineImageXObject(A)}paintInlineImageXObject(_,A){const U=_.width,v=_.height,f=M(_,this.forceDataSchema,!!A),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y","0"),B.setAttributeNS(null,"width",R(U)),B.setAttributeNS(null,"height",R(v)),this.current.element=B,this.clip("nonzero");const I=this.svgFactory.createElement("svg:image");I.setAttributeNS(y,"xlink:href",f),I.setAttributeNS(null,"x","0"),I.setAttributeNS(null,"y",R(-v)),I.setAttributeNS(null,"width",R(U)+"px"),I.setAttributeNS(null,"height",R(v)+"px"),I.setAttributeNS(null,"transform",`scale(${R(1/U)} ${R(-1/v)})`),A?A.append(I):this._ensureTransformGroup().append(I)}paintImageMaskXObject(_){const A=this.getObject(_.data,_);if(A.bitmap){(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const U=this.current,v=A.width,f=A.height,B=U.fillColor;U.maskId=`mask${P++}`;const I=this.svgFactory.createElement("svg:mask");I.setAttributeNS(null,"id",U.maskId);const Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",R(v)),Q.setAttributeNS(null,"height",R(f)),Q.setAttributeNS(null,"fill",B),Q.setAttributeNS(null,"mask",`url(#${U.maskId})`),this.defs.append(I),this._ensureTransformGroup().append(Q),this.paintInlineImageXObject(A,I)}paintFormXObjectBegin(_,A){if(Array.isArray(_)&&_.length===6&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),A){const U=A[2]-A[0],v=A[3]-A[1],f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",A[0]),f.setAttributeNS(null,"y",A[1]),f.setAttributeNS(null,"width",R(U)),f.setAttributeNS(null,"height",R(v)),this.current.element=f,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_){const A=this.svgFactory.create(_.width,_.height),U=this.svgFactory.createElement("svg:defs");A.append(U),this.defs=U;const v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",T(_.transform)),A.append(v),this.svg=v,A}_ensureClipGroup(){if(!this.current.clipGroup){const _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(_),this.current.clipGroup=_}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",T(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}t.SVGGraphics=x},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class s{static textContent(i){const a=[],l={items:a,styles:Object.create(null)};function y(m){var M;if(!m)return;let g=null;const u=m.name;if(u==="#text")g=m.value;else if(s.shouldBuildText(u))(M=m==null?void 0:m.attributes)!=null&&M.textContent?g=m.attributes.textContent:m.value&&(g=m.value);else return;if(g!==null&&a.push({str:g}),!!m.children)for(const C of m.children)y(C)}return y(i),l}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}t.XfaText=s},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=T,t.updateTextLayer=w;var n=s(1),i=s(6);const a=1e5,l=30,y=.8,m=new Map;function g(P,O){let x;if(O&&n.FeatureTest.isOffscreenCanvasSupported)x=new OffscreenCanvas(P,P).getContext("2d",{alpha:!1});else{const L=document.createElement("canvas");L.width=L.height=P,x=L.getContext("2d",{alpha:!1})}return x}function u(P,O){const x=m.get(P);if(x)return x;const L=g(l,O);L.font=`${l}px ${P}`;const _=L.measureText("");let A=_.fontBoundingBoxAscent,U=Math.abs(_.fontBoundingBoxDescent);if(A){const f=A/(A+U);return m.set(P,f),L.canvas.width=L.canvas.height=0,f}L.strokeStyle="red",L.clearRect(0,0,l,l),L.strokeText("g",0,0);let v=L.getImageData(0,0,l,l).data;U=0;for(let f=v.length-1-3;f>=0;f-=4)if(v[f]>0){U=Math.ceil(f/4/l);break}L.clearRect(0,0,l,l),L.strokeText("A",0,l),v=L.getImageData(0,0,l,l).data,A=0;for(let f=0,B=v.length;f<B;f+=4)if(v[f]>0){A=l-Math.floor(f/4/l);break}if(L.canvas.width=L.canvas.height=0,A){const f=A/(A+U);return m.set(P,f),f}return m.set(P,y),y}function M(P,O,x){const L=document.createElement("span"),_={angle:0,canvasWidth:0,hasText:O.str!=="",hasEOL:O.hasEOL,fontSize:0};P._textDivs.push(L);const A=n.Util.transform(P._transform,O.transform);let U=Math.atan2(A[1],A[0]);const v=x[O.fontName];v.vertical&&(U+=Math.PI/2);const f=Math.hypot(A[2],A[3]),B=f*u(v.fontFamily,P._isOffscreenCanvasSupported);let I,Q;U===0?(I=A[4],Q=A[5]-B):(I=A[4]+B*Math.sin(U),Q=A[5]-B*Math.cos(U));const te="calc(var(--scale-factor)*",$=L.style;P._container===P._rootContainer?($.left=`${(100*I/P._pageWidth).toFixed(2)}%`,$.top=`${(100*Q/P._pageHeight).toFixed(2)}%`):($.left=`${te}${I.toFixed(2)}px)`,$.top=`${te}${Q.toFixed(2)}px)`),$.fontSize=`${te}${f.toFixed(2)}px)`,$.fontFamily=v.fontFamily,_.fontSize=f,L.setAttribute("role","presentation"),L.textContent=O.str,L.dir=O.dir,P._fontInspectorEnabled&&(L.dataset.fontName=O.fontName),U!==0&&(_.angle=U*(180/Math.PI));let oe=!1;if(O.str.length>1)oe=!0;else if(O.str!==" "&&O.transform[0]!==O.transform[3]){const fe=Math.abs(O.transform[0]),pe=Math.abs(O.transform[3]);fe!==pe&&Math.max(fe,pe)/Math.min(fe,pe)>1.5&&(oe=!0)}oe&&(_.canvasWidth=v.vertical?O.height:O.width),P._textDivProperties.set(L,_),P._isReadableStream&&P._layoutText(L)}function C(P){const{div:O,scale:x,properties:L,ctx:_,prevFontSize:A,prevFontFamily:U}=P,{style:v}=O;let f="";if(L.canvasWidth!==0&&L.hasText){const{fontFamily:B}=v,{canvasWidth:I,fontSize:Q}=L;(A!==Q||U!==B)&&(_.font=`${Q*x}px ${B}`,P.prevFontSize=Q,P.prevFontFamily=B);const{width:te}=_.measureText(O.textContent);te>0&&(f=`scaleX(${I*x/te})`)}L.angle!==0&&(f=`rotate(${L.angle}deg) ${f}`),f.length>0&&(v.transform=f)}function k(P){if(P._canceled)return;const O=P._textDivs,x=P._capability;if(O.length>a){x.resolve();return}if(!P._isReadableStream)for(const _ of O)P._layoutText(_);x.resolve()}class R{constructor({textContentSource:O,container:x,viewport:L,textDivs:_,textDivProperties:A,textContentItemsStr:U,isOffscreenCanvasSupported:v}){var te;this._textContentSource=O,this._isReadableStream=O instanceof ReadableStream,this._container=this._rootContainer=x,this._textDivs=_||[],this._textContentItemsStr=U||[],this._isOffscreenCanvasSupported=v,this._fontInspectorEnabled=!!((te=globalThis.FontInspector)!=null&&te.enabled),this._reader=null,this._textDivProperties=A||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:L.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:g(0,v)};const{pageWidth:f,pageHeight:B,pageX:I,pageY:Q}=L.rawDims;this._transform=[1,0,0,-1,-I,Q+B],this._pageWidth=f,this._pageHeight=B,(0,i.setLayerDimensions)(x,L),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(O,x){for(const L of O){if(L.str===void 0){if(L.type==="beginMarkedContentProps"||L.type==="beginMarkedContent"){const _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),L.id!==null&&this._container.setAttribute("id",`${L.id}`),_.append(this._container)}else L.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(L.str),M(this,L,x)}}_layoutText(O){const x=this._layoutTextParams.properties=this._textDivProperties.get(O);if(this._layoutTextParams.div=O,C(this._layoutTextParams),x.hasText&&this._container.append(O),x.hasEOL){const L=document.createElement("br");L.setAttribute("role","presentation"),this._container.append(L)}}_render(){const O=new n.PromiseCapability;let x=Object.create(null);if(this._isReadableStream){const L=()=>{this._reader.read().then(({value:_,done:A})=>{if(A){O.resolve();return}Object.assign(x,_.styles),this._processItems(_.items,x),L()},O.reject)};this._reader=this._textContentSource.getReader(),L()}else if(this._textContentSource){const{items:L,styles:_}=this._textContentSource;this._processItems(L,_),O.resolve()}else throw new Error('No "textContentSource" parameter specified.');O.promise.then(()=>{x=null,k(this)},this._capability.reject)}}t.TextLayerRenderTask=R;function T(P){!P.textContentSource&&(P.textContent||P.textContentStream)&&((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),P.textContentSource=P.textContent||P.textContentStream);const{container:O,viewport:x}=P,L=getComputedStyle(O),_=L.getPropertyValue("visibility"),A=parseFloat(L.getPropertyValue("--scale-factor"));_==="visible"&&(!A||Math.abs(A-x.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const U=new R(P);return U._render(),U}function w({container:P,viewport:O,textDivs:x,textDivProperties:L,isOffscreenCanvasSupported:_,mustRotate:A=!0,mustRescale:U=!0}){if(A&&(0,i.setLayerDimensions)(P,{rotation:O.rotation}),U){const v=g(0,_),B={prevFontSize:null,prevFontFamily:null,div:null,scale:O.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:v};for(const I of x)B.properties=L.get(I),B.div=I,C(B)}}},(e,t,s)=>{var u,M,C,k,R,T,w,P,O,x,L,nn,A,Rt,v,sn,B,rn;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var n=s(1),i=s(4),a=s(28),l=s(33),y=s(6),m=s(34);const Q=class{constructor({uiManager:$,pageIndex:oe,div:fe,accessibilityManager:pe,annotationLayer:G,viewport:ye,l10n:Se}){q(this,L);q(this,A);q(this,v);q(this,B);q(this,u,void 0);q(this,M,!1);q(this,C,null);q(this,k,this.pointerup.bind(this));q(this,R,this.pointerdown.bind(this));q(this,T,new Map);q(this,w,!1);q(this,P,!1);q(this,O,!1);q(this,x,void 0);const xe=[a.FreeTextEditor,l.InkEditor,m.StampEditor];if(!Q._initialized){Q._initialized=!0;for(const ke of xe)ke.initialize(Se)}$.registerEditorTypes(xe),de(this,x,$),this.pageIndex=oe,this.div=fe,de(this,u,pe),de(this,C,G),this.viewport=ye,r(this,x).addLayer(this)}get isEmpty(){return r(this,T).size===0}updateToolbar($){r(this,x).updateToolbar($)}updateMode($=r(this,x).getMode()){ie(this,B,rn).call(this),$===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),$!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",$===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",$===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",$===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded($){if(!$&&r(this,x).getMode()!==n.AnnotationEditorType.INK)return;if(!$){for(const fe of r(this,T).values())if(fe.isEmpty()){fe.setInBackground();return}}ie(this,A,Rt).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){r(this,x).setEditingState($)}addCommands($){r(this,x).addCommands($)}enable(){this.div.style.pointerEvents="auto";const $=new Set;for(const fe of r(this,T).values())fe.enableEditing(),fe.annotationElementId&&$.add(fe.annotationElementId);if(!r(this,C))return;const oe=r(this,C).getEditableAnnotations();for(const fe of oe){if(fe.hide(),r(this,x).isDeletedAnnotationElement(fe.data.id)||$.has(fe.data.id))continue;const pe=this.deserialize(fe);pe&&(this.addOrRebuild(pe),pe.enableEditing())}}disable(){var oe;de(this,O,!0),this.div.style.pointerEvents="none";const $=new Set;for(const fe of r(this,T).values()){if(fe.disableEditing(),!fe.annotationElementId||fe.serialize()!==null){$.add(fe.annotationElementId);continue}(oe=this.getEditableAnnotation(fe.annotationElementId))==null||oe.show(),fe.remove()}if(r(this,C)){const fe=r(this,C).getEditableAnnotations();for(const pe of fe){const{id:G}=pe.data;$.has(G)||r(this,x).isDeletedAnnotationElement(G)||pe.show()}}ie(this,B,rn).call(this),this.isEmpty&&(this.div.hidden=!0),de(this,O,!1)}getEditableAnnotation($){var oe;return((oe=r(this,C))==null?void 0:oe.getEditableAnnotation($))||null}setActiveEditor($){r(this,x).getActive()!==$&&r(this,x).setActiveEditor($)}enableClick(){this.div.addEventListener("pointerdown",r(this,R)),this.div.addEventListener("pointerup",r(this,k))}disableClick(){this.div.removeEventListener("pointerdown",r(this,R)),this.div.removeEventListener("pointerup",r(this,k))}attach($){r(this,T).set($.id,$);const{annotationElementId:oe}=$;oe&&r(this,x).isDeletedAnnotationElement(oe)&&r(this,x).removeDeletedAnnotationElement($)}detach($){var oe;r(this,T).delete($.id),(oe=r(this,u))==null||oe.removePointerInTextLayer($.contentDiv),!r(this,O)&&$.annotationElementId&&r(this,x).addDeletedAnnotationElement($)}remove($){this.detach($),r(this,x).removeEditor($),$.div.contains(document.activeElement)&&setTimeout(()=>{r(this,x).focusMainContainer()},0),$.div.remove(),$.isAttachedToDOM=!1,r(this,P)||this.addInkEditorIfNeeded(!1)}changeParent($){var oe;$.parent!==this&&($.annotationElementId&&(r(this,x).addDeletedAnnotationElement($.annotationElementId),i.AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(oe=$.parent)==null||oe.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(this.changeParent($),r(this,x).addEditor($),this.attach($),!$.isAttachedToDOM){const oe=$.render();this.div.append(oe),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),r(this,x).addToAnnotationStorage($)}moveEditorInDOM($){var fe;if(!$.isAttachedToDOM)return;const{activeElement:oe}=document;$.div.contains(oe)&&($._focusEventsAllowed=!1,setTimeout(()=>{$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),oe.focus())},0)),$._structTreeParentId=(fe=r(this,u))==null?void 0:fe.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?$.rebuild():this.add($)}addUndoableEditor($){const oe=()=>$._uiManager.rebuild($),fe=()=>{$.remove()};this.addCommands({cmd:oe,undo:fe,mustExec:!1})}getNextId(){return r(this,x).getId()}pasteEditor($,oe){r(this,x).updateToolbar($),r(this,x).updateMode($);const{offsetX:fe,offsetY:pe}=ie(this,v,sn).call(this),G=this.getNextId(),ye=ie(this,L,nn).call(this,{parent:this,id:G,x:fe,y:pe,uiManager:r(this,x),isCentered:!0,...oe});ye&&this.add(ye)}deserialize($){switch($.annotationType??$.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize($,this,r(this,x));case n.AnnotationEditorType.INK:return l.InkEditor.deserialize($,this,r(this,x));case n.AnnotationEditorType.STAMP:return m.StampEditor.deserialize($,this,r(this,x))}return null}addNewEditor(){ie(this,A,Rt).call(this,ie(this,v,sn).call(this),!0)}setSelected($){r(this,x).setSelected($)}toggleSelected($){r(this,x).toggleSelected($)}isSelected($){return r(this,x).isSelected($)}unselect($){r(this,x).unselect($)}pointerup($){const{isMac:oe}=n.FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&oe)&&$.target===this.div&&r(this,w)){if(de(this,w,!1),!r(this,M)){de(this,M,!0);return}if(r(this,x).getMode()===n.AnnotationEditorType.STAMP){r(this,x).unselectAll();return}ie(this,A,Rt).call(this,$,!1)}}pointerdown($){if(r(this,w)){de(this,w,!1);return}const{isMac:oe}=n.FeatureTest.platform;if($.button!==0||$.ctrlKey&&oe||$.target!==this.div)return;de(this,w,!0);const fe=r(this,x).getActive();de(this,M,!fe||fe.isEmpty())}findNewParent($,oe,fe){const pe=r(this,x).findParent(oe,fe);return pe===null||pe===this?!1:(pe.changeParent($),!0)}destroy(){var $,oe;(($=r(this,x).getActive())==null?void 0:$.parent)===this&&(r(this,x).commitOrRemove(),r(this,x).setActiveEditor(null));for(const fe of r(this,T).values())(oe=r(this,u))==null||oe.removePointerInTextLayer(fe.contentDiv),fe.setParent(null),fe.isAttachedToDOM=!1,fe.div.remove();this.div=null,r(this,T).clear(),r(this,x).removeLayer(this)}render({viewport:$}){this.viewport=$,(0,y.setLayerDimensions)(this.div,$);for(const oe of r(this,x).getEditors(this.pageIndex))this.add(oe);this.updateMode()}update({viewport:$}){r(this,x).commitOrRemove(),this.viewport=$,(0,y.setLayerDimensions)(this.div,{rotation:$.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:$,pageHeight:oe}=this.viewport.rawDims;return[$,oe]}};let g=Q;u=new WeakMap,M=new WeakMap,C=new WeakMap,k=new WeakMap,R=new WeakMap,T=new WeakMap,w=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakSet,nn=function($){switch(r(this,x).getMode()){case n.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor($);case n.AnnotationEditorType.INK:return new l.InkEditor($);case n.AnnotationEditorType.STAMP:return new m.StampEditor($)}return null},A=new WeakSet,Rt=function($,oe){const fe=this.getNextId(),pe=ie(this,L,nn).call(this,{parent:this,id:fe,x:$.offsetX,y:$.offsetY,uiManager:r(this,x),isCentered:oe});return pe&&this.add(pe),pe},v=new WeakSet,sn=function(){const{x:$,y:oe,width:fe,height:pe}=this.div.getBoundingClientRect(),G=Math.max(0,$),ye=Math.max(0,oe),Se=Math.min(window.innerWidth,$+fe),xe=Math.min(window.innerHeight,oe+pe),ke=(G+Se)/2-$,j=(ye+xe)/2-oe,[h,d]=this.viewport.rotation%180===0?[ke,j]:[j,ke];return{offsetX:h,offsetY:d}},B=new WeakSet,rn=function(){de(this,P,!0);for(const $ of r(this,T).values())$.isEmpty()&&$.remove();de(this,P,!1)},nt(g,"_initialized",!1),t.AnnotationEditorLayer=g},(e,t,s)=>{var m,g,u,M,C,k,R,T,w,P,Mn,x,On,_,In,U,vt,f,an,I,Dn,te,on;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var n=s(1),i=s(5),a=s(4),l=s(29);const oe=class extends a.AnnotationEditor{constructor(G){super({...G,name:"freeTextEditor"});q(this,P);q(this,x);q(this,_);q(this,U);q(this,f);q(this,I);q(this,te);q(this,m,this.editorDivBlur.bind(this));q(this,g,this.editorDivFocus.bind(this));q(this,u,this.editorDivInput.bind(this));q(this,M,this.editorDivKeydown.bind(this));q(this,C,void 0);q(this,k,"");q(this,R,`${this.id}-editor`);q(this,T,void 0);q(this,w,null);de(this,C,G.color||oe._defaultColor||a.AnnotationEditor._defaultLineColor),de(this,T,G.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const G=oe.prototype,ye=ke=>ke.isEmpty(),Se=i.AnnotationEditorUIManager.TRANSLATE_SMALL,xe=i.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],G.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],G.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],G._translateEmpty,{args:[-Se,0],checker:ye}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],G._translateEmpty,{args:[-xe,0],checker:ye}],[["ArrowRight","mac+ArrowRight"],G._translateEmpty,{args:[Se,0],checker:ye}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],G._translateEmpty,{args:[xe,0],checker:ye}],[["ArrowUp","mac+ArrowUp"],G._translateEmpty,{args:[0,-Se],checker:ye}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],G._translateEmpty,{args:[0,-xe],checker:ye}],[["ArrowDown","mac+ArrowDown"],G._translateEmpty,{args:[0,Se],checker:ye}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],G._translateEmpty,{args:[0,xe],checker:ye}]]))}static initialize(G){a.AnnotationEditor.initialize(G,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const ye=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ye.getPropertyValue("--freetext-padding"))}static updateDefaultParams(G,ye){switch(G){case n.AnnotationEditorParamsType.FREETEXT_SIZE:oe._defaultFontSize=ye;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:oe._defaultColor=ye;break}}updateParams(G,ye){switch(G){case n.AnnotationEditorParamsType.FREETEXT_SIZE:ie(this,P,Mn).call(this,ye);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:ie(this,x,On).call(this,ye);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,oe._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,oe._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,r(this,T)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,r(this,C)]]}_translateEmpty(G,ye){this._uiManager.translateSelectedEditors(G,ye,!0)}getInitialTranslation(){const G=this.parentScale;return[-oe._internalPadding*G,-(oe._internalPadding+r(this,T))*G]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",r(this,M)),this.editorDiv.addEventListener("focus",r(this,g)),this.editorDiv.addEventListener("blur",r(this,m)),this.editorDiv.addEventListener("input",r(this,u)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",r(this,R)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",r(this,M)),this.editorDiv.removeEventListener("focus",r(this,g)),this.editorDiv.removeEventListener("blur",r(this,m)),this.editorDiv.removeEventListener("input",r(this,u)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(G){this._focusEventsAllowed&&(super.focusin(G),G.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var G;if(this.width){ie(this,te,on).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(G=this._initialOptions)!=null&&G.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const G=r(this,k),ye=de(this,k,ie(this,_,In).call(this).trimEnd());if(G===ye)return;const Se=xe=>{if(de(this,k,xe),!xe){this.remove();return}ie(this,f,an).call(this),this._uiManager.rebuild(this),ie(this,U,vt).call(this)};this.addCommands({cmd:()=>{Se(ye)},undo:()=>{Se(G)},mustExec:!1}),ie(this,U,vt).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(G){this.enterInEditMode()}keydown(G){G.target===this.div&&G.key==="Enter"&&(this.enterInEditMode(),G.preventDefault())}editorDivKeydown(G){oe._keyboardManager.exec(this,G)}editorDivFocus(G){this.isEditing=!0}editorDivBlur(G){this.isEditing=!1}editorDivInput(G){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let G,ye;this.width&&(G=this.x,ye=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",r(this,R)),this.enableEditing(),a.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(xe=>{var ke;return(ke=this.editorDiv)==null?void 0:ke.setAttribute("aria-label",xe)}),a.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(xe=>{var ke;return(ke=this.editorDiv)==null?void 0:ke.setAttribute("default-content",xe)}),this.editorDiv.contentEditable=!0;const{style:Se}=this.editorDiv;if(Se.fontSize=`calc(${r(this,T)}px * var(--scale-factor))`,Se.color=r(this,C),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[xe,ke]=this.parentDimensions;if(this.annotationElementId){const{position:j}=r(this,w);let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[c,b]=this.pageDimensions,[S,N]=this.pageTranslation;let W,Y;switch(this.rotation){case 0:W=G+(j[0]-S)/c,Y=ye+this.height-(j[1]-N)/b;break;case 90:W=G+(j[0]-S)/c,Y=ye-(j[1]-N)/b,[h,d]=[d,-h];break;case 180:W=G-this.width+(j[0]-S)/c,Y=ye-(j[1]-N)/b,[h,d]=[-h,-d];break;case 270:W=G+(j[0]-S-this.height*b)/c,Y=ye+(j[1]-N-this.width*c)/b,[h,d]=[-d,h];break}this.setAt(W*xe,Y*ke,h,d)}else this.setAt(G*xe,ye*ke,this.width*xe,this.height*ke);ie(this,f,an).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(G,ye,Se){let xe=null;if(G instanceof l.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:j,fontColor:h},rect:d,rotation:c,id:b},textContent:S,textPosition:N,parent:{page:{pageNumber:W}}}=G;if(!S||S.length===0)return null;xe=G={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(h),fontSize:j,value:S.join(`
`),position:N,pageIndex:W-1,rect:d,rotation:c,id:b,deleted:!1}}const ke=super.deserialize(G,ye,Se);return de(ke,T,G.fontSize),de(ke,C,n.Util.makeHexColor(...G.color)),de(ke,k,G.value),ke.annotationElementId=G.id||null,de(ke,w,xe),ke}serialize(G=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const ye=oe._internalPadding*this.parentScale,Se=this.getRect(ye,ye),xe=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:r(this,C)),ke={annotationType:n.AnnotationEditorType.FREETEXT,color:xe,fontSize:r(this,T),value:r(this,k),pageIndex:this.pageIndex,rect:Se,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return G?ke:this.annotationElementId&&!ie(this,I,Dn).call(this,ke)?null:(ke.id=this.annotationElementId,ke)}};let y=oe;m=new WeakMap,g=new WeakMap,u=new WeakMap,M=new WeakMap,C=new WeakMap,k=new WeakMap,R=new WeakMap,T=new WeakMap,w=new WeakMap,P=new WeakSet,Mn=function(G){const ye=xe=>{this.editorDiv.style.fontSize=`calc(${xe}px * var(--scale-factor))`,this.translate(0,-(xe-r(this,T))*this.parentScale),de(this,T,xe),ie(this,U,vt).call(this)},Se=r(this,T);this.addCommands({cmd:()=>{ye(G)},undo:()=>{ye(Se)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},x=new WeakSet,On=function(G){const ye=r(this,C);this.addCommands({cmd:()=>{de(this,C,this.editorDiv.style.color=G)},undo:()=>{de(this,C,this.editorDiv.style.color=ye)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_=new WeakSet,In=function(){const G=this.editorDiv.getElementsByTagName("div");if(G.length===0)return this.editorDiv.innerText;const ye=[];for(const Se of G)ye.push(Se.innerText.replace(/\r\n?|\n/,""));return ye.join(`
`)},U=new WeakSet,vt=function(){const[G,ye]=this.parentDimensions;let Se;if(this.isAttachedToDOM)Se=this.div.getBoundingClientRect();else{const{currentLayer:xe,div:ke}=this,j=ke.style.display;ke.style.display="hidden",xe.div.append(this.div),Se=ke.getBoundingClientRect(),ke.remove(),ke.style.display=j}this.rotation%180===this.parentRotation%180?(this.width=Se.width/G,this.height=Se.height/ye):(this.width=Se.height/G,this.height=Se.width/ye),this.fixAndSetPosition()},f=new WeakSet,an=function(){if(this.editorDiv.replaceChildren(),!!r(this,k))for(const G of r(this,k).split(`
`)){const ye=document.createElement("div");ye.append(G?document.createTextNode(G):document.createElement("br")),this.editorDiv.append(ye)}},I=new WeakSet,Dn=function(G){const{value:ye,fontSize:Se,color:xe,rect:ke,pageIndex:j}=r(this,w);return G.value!==ye||G.fontSize!==Se||G.rect.some((h,d)=>Math.abs(h-ke[d])>=1)||G.color.some((h,d)=>h!==xe[d])||G.pageIndex!==j},te=new WeakSet,on=function(G=!1){if(!this.annotationElementId)return;if(ie(this,U,vt).call(this),!G&&(this.width===0||this.height===0)){setTimeout(()=>ie(this,te,on).call(this,!0),0);return}const ye=oe._internalPadding*this.parentScale;r(this,w).rect=this.getRect(ye,ye)},nt(y,"_freeTextDefaultContent",""),nt(y,"_internalPadding",0),nt(y,"_defaultColor",null),nt(y,"_defaultFontSize",10),nt(y,"_type","freetext"),t.FreeTextEditor=y},(e,t,s)=>{var d,b,ht,N,Ln,Y,E,F,H,K,ne,ee,be,Ae,he,ge,ue,X,J,ce,ve,Ee,Ie,Nn,Ue,Ft,qe,ln,Xe,cn,re,se,Ce,Pe,tt,et,le,hn,Be,Fe,je,He,Bn,Te,un;Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var n=s(1),i=s(6),a=s(3),l=s(30),y=s(31),m=s(32);const g=1e3,u=9,M=new WeakSet;function C($e){return{width:$e[2]-$e[0],height:$e[3]-$e[1]}}class k{static create(V){switch(V.data.annotationType){case n.AnnotationType.LINK:return new T(V);case n.AnnotationType.TEXT:return new w(V);case n.AnnotationType.WIDGET:switch(V.data.fieldType){case"Tx":return new O(V);case"Btn":return V.data.radioButton?new _(V):V.data.checkBox?new L(V):new A(V);case"Ch":return new U(V);case"Sig":return new x(V)}return new P(V);case n.AnnotationType.POPUP:return new v(V);case n.AnnotationType.FREETEXT:return new B(V);case n.AnnotationType.LINE:return new I(V);case n.AnnotationType.SQUARE:return new Q(V);case n.AnnotationType.CIRCLE:return new te(V);case n.AnnotationType.POLYLINE:return new $(V);case n.AnnotationType.CARET:return new fe(V);case n.AnnotationType.INK:return new pe(V);case n.AnnotationType.POLYGON:return new oe(V);case n.AnnotationType.HIGHLIGHT:return new G(V);case n.AnnotationType.UNDERLINE:return new ye(V);case n.AnnotationType.SQUIGGLY:return new Se(V);case n.AnnotationType.STRIKEOUT:return new xe(V);case n.AnnotationType.STAMP:return new ke(V);case n.AnnotationType.FILEATTACHMENT:return new j(V);default:return new R(V)}}}const c=class{constructor(V,{isRenderable:o=!1,ignoreBorder:D=!1,createQuadrilaterals:z=!1}={}){q(this,d,!1);this.isRenderable=o,this.data=V.data,this.layer=V.layer,this.linkService=V.linkService,this.downloadManager=V.downloadManager,this.imageResourcesPath=V.imageResourcesPath,this.renderForms=V.renderForms,this.svgFactory=V.svgFactory,this.annotationStorage=V.annotationStorage,this.enableScripting=V.enableScripting,this.hasJSActions=V.hasJSActions,this._fieldObjects=V.fieldObjects,this.parent=V.parent,o&&(this.container=this._createContainer(D)),z&&this._createQuadrilaterals()}static _hasPopupData({titleObj:V,contentsObj:o,richText:D}){return!!(V!=null&&V.str||o!=null&&o.str||D!=null&&D.str)}get hasPopupData(){return c._hasPopupData(this.data)}_createContainer(V){const{data:o,parent:{page:D,viewport:z}}=this,Z=document.createElement("section");Z.setAttribute("data-annotation-id",o.id),this instanceof P||(Z.tabIndex=g),Z.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Z.setAttribute("aria-haspopup","dialog"),o.noRotate&&Z.classList.add("norotate");const{pageWidth:ae,pageHeight:me,pageX:we,pageY:Oe}=z.rawDims;if(!o.rect||this instanceof v){const{rotation:Ve}=o;return!o.hasOwnCanvas&&Ve!==0&&this.setRotation(Ve,Z),Z}const{width:Me,height:Ge}=C(o.rect),De=n.Util.normalizeRect([o.rect[0],D.view[3]-o.rect[1]+D.view[1],o.rect[2],D.view[3]-o.rect[3]+D.view[1]]);if(!V&&o.borderStyle.width>0){Z.style.borderWidth=`${o.borderStyle.width}px`;const Ve=o.borderStyle.horizontalCornerRadius,Ye=o.borderStyle.verticalCornerRadius;if(Ve>0||Ye>0){const Ze=`calc(${Ve}px * var(--scale-factor)) / calc(${Ye}px * var(--scale-factor))`;Z.style.borderRadius=Ze}else if(this instanceof _){const Ze=`calc(${Me}px * var(--scale-factor)) / calc(${Ge}px * var(--scale-factor))`;Z.style.borderRadius=Ze}switch(o.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:Z.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:Z.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:Z.style.borderBottomStyle="solid";break}const Je=o.borderColor||null;Je?(de(this,d,!0),Z.style.borderColor=n.Util.makeHexColor(Je[0]|0,Je[1]|0,Je[2]|0)):Z.style.borderWidth=0}Z.style.left=`${100*(De[0]-we)/ae}%`,Z.style.top=`${100*(De[1]-Oe)/me}%`;const{rotation:Le}=o;return o.hasOwnCanvas||Le===0?(Z.style.width=`${100*Me/ae}%`,Z.style.height=`${100*Ge/me}%`):this.setRotation(Le,Z),Z}setRotation(V,o=this.container){if(!this.data.rect)return;const{pageWidth:D,pageHeight:z}=this.parent.viewport.rawDims,{width:Z,height:ae}=C(this.data.rect);let me,we;V%180===0?(me=100*Z/D,we=100*ae/z):(me=100*ae/D,we=100*Z/z),o.style.width=`${me}%`,o.style.height=`${we}%`,o.setAttribute("data-main-rotation",(360-V)%360)}get _commonActions(){const V=(o,D,z)=>{const Z=z.detail[o],ae=Z[0],me=Z.slice(1);z.target.style[D]=l.ColorConverters[`${ae}_HTML`](me),this.annotationStorage.setValue(this.data.id,{[D]:l.ColorConverters[`${ae}_rgb`](me)})};return(0,n.shadow)(this,"_commonActions",{display:o=>{const{display:D}=o.detail,z=D%2===1;this.container.style.visibility=z?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:z,noPrint:D===1||D===2})},print:o=>{this.annotationStorage.setValue(this.data.id,{noPrint:!o.detail.print})},hidden:o=>{const{hidden:D}=o.detail;this.container.style.visibility=D?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:D,noView:D})},focus:o=>{setTimeout(()=>o.target.focus({preventScroll:!1}),0)},userName:o=>{o.target.title=o.detail.userName},readonly:o=>{o.target.disabled=o.detail.readonly},required:o=>{this._setRequired(o.target,o.detail.required)},bgColor:o=>{V("bgColor","backgroundColor",o)},fillColor:o=>{V("fillColor","backgroundColor",o)},fgColor:o=>{V("fgColor","color",o)},textColor:o=>{V("textColor","color",o)},borderColor:o=>{V("borderColor","borderColor",o)},strokeColor:o=>{V("strokeColor","borderColor",o)},rotation:o=>{const D=o.detail.rotation;this.setRotation(D),this.annotationStorage.setValue(this.data.id,{rotation:D})}})}_dispatchEventFromSandbox(V,o){const D=this._commonActions;for(const z of Object.keys(o.detail)){const Z=V[z]||D[z];Z==null||Z(o)}}_setDefaultPropertiesFromJS(V){if(!this.enableScripting)return;const o=this.annotationStorage.getRawValue(this.data.id);if(!o)return;const D=this._commonActions;for(const[z,Z]of Object.entries(o)){const ae=D[z];if(ae){const me={detail:{[z]:Z},target:V};ae(me),delete o[z]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:V}=this.data;if(!V)return;const[o,D,z,Z]=this.data.rect;if(V.length===1){const[,{x:Ye,y:Je},{x:Ze,y:it}]=V[0];if(z===Ye&&Z===Je&&o===Ze&&D===it)return}const{style:ae}=this.container;let me;if(r(this,d)){const{borderColor:Ye,borderWidth:Je}=ae;ae.borderWidth=0,me=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ye}" stroke-width="${Je}">`],this.container.classList.add("hasBorder")}const we=z-o,Oe=Z-D,{svgFactory:Me}=this,Ge=Me.createElement("svg");Ge.classList.add("quadrilateralsContainer"),Ge.setAttribute("width",0),Ge.setAttribute("height",0);const De=Me.createElement("defs");Ge.append(De);const Le=Me.createElement("clipPath"),Ve=`clippath_${this.data.id}`;Le.setAttribute("id",Ve),Le.setAttribute("clipPathUnits","objectBoundingBox"),De.append(Le);for(const[,{x:Ye,y:Je},{x:Ze,y:it}]of V){const st=Me.createElement("rect"),rt=(Ze-o)/we,lt=(Z-Je)/Oe,ct=(Ye-Ze)/we,An=(Je-it)/Oe;st.setAttribute("x",rt),st.setAttribute("y",lt),st.setAttribute("width",ct),st.setAttribute("height",An),Le.append(st),me==null||me.push(`<rect vector-effect="non-scaling-stroke" x="${rt}" y="${lt}" width="${ct}" height="${An}"/>`)}r(this,d)&&(me.push("</g></svg>')"),ae.backgroundImage=me.join("")),this.container.append(Ge),this.container.style.clipPath=`url(#${Ve})`}_createPopup(){const{container:V,data:o}=this;V.setAttribute("aria-haspopup","dialog");const D=new v({data:{color:o.color,titleObj:o.titleObj,modificationDate:o.modificationDate,contentsObj:o.contentsObj,richText:o.richText,parentRect:o.rect,borderStyle:0,id:`popup_${o.id}`,rotation:o.rotation},parent:this.parent,elements:[this]});this.parent.div.append(D.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(V,o=null){const D=[];if(this._fieldObjects){const z=this._fieldObjects[V];if(z)for(const{page:Z,id:ae,exportValues:me}of z){if(Z===-1||ae===o)continue;const we=typeof me=="string"?me:null,Oe=document.querySelector(`[data-element-id="${ae}"]`);if(Oe&&!M.has(Oe)){(0,n.warn)(`_getElementsByName - element not allowed: ${ae}`);continue}D.push({id:ae,exportValue:we,domElement:Oe})}return D}for(const z of document.getElementsByName(V)){const{exportValue:Z}=z,ae=z.getAttribute("data-element-id");ae!==o&&M.has(z)&&D.push({id:ae,exportValue:Z,domElement:z})}return D}show(){var V;this.container&&(this.container.hidden=!1),(V=this.popup)==null||V.maybeShow()}hide(){var V;this.container&&(this.container.hidden=!0),(V=this.popup)==null||V.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const V=this.getElementsToTriggerPopup();if(Array.isArray(V))for(const o of V)o.classList.add("highlightArea");else V.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:V,data:{id:o}}=this;this.container.addEventListener("dblclick",()=>{var D;(D=this.linkService.eventBus)==null||D.dispatch("switchannotationeditormode",{source:this,mode:V,editId:o})})}};let R=c;d=new WeakMap;class T extends R{constructor(o,D=null){super(o,{isRenderable:!0,ignoreBorder:!!(D!=null&&D.ignoreBorder),createQuadrilaterals:!0});q(this,b);q(this,N);this.isTooltipOnly=o.data.isTooltipOnly}render(){const{data:o,linkService:D}=this,z=document.createElement("a");z.setAttribute("data-element-id",o.id);let Z=!1;return o.url?(D.addLinkAttributes(z,o.url,o.newWindow),Z=!0):o.action?(this._bindNamedAction(z,o.action),Z=!0):o.attachment?(this._bindAttachment(z,o.attachment),Z=!0):o.setOCGState?(ie(this,N,Ln).call(this,z,o.setOCGState),Z=!0):o.dest?(this._bindLink(z,o.dest),Z=!0):(o.actions&&(o.actions.Action||o.actions["Mouse Up"]||o.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(z,o),Z=!0),o.resetForm?(this._bindResetFormAction(z,o.resetForm),Z=!0):this.isTooltipOnly&&!Z&&(this._bindLink(z,""),Z=!0)),this.container.classList.add("linkAnnotation"),Z&&this.container.append(z),this.container}_bindLink(o,D){o.href=this.linkService.getDestinationHash(D),o.onclick=()=>(D&&this.linkService.goToDestination(D),!1),(D||D==="")&&ie(this,b,ht).call(this)}_bindNamedAction(o,D){o.href=this.linkService.getAnchorUrl(""),o.onclick=()=>(this.linkService.executeNamedAction(D),!1),ie(this,b,ht).call(this)}_bindAttachment(o,D){o.href=this.linkService.getAnchorUrl(""),o.onclick=()=>{var z;return(z=this.downloadManager)==null||z.openOrDownloadData(this.container,D.content,D.filename),!1},ie(this,b,ht).call(this)}_bindJSAction(o,D){o.href=this.linkService.getAnchorUrl("");const z=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Z of Object.keys(D.actions)){const ae=z.get(Z);ae&&(o[ae]=()=>{var me;return(me=this.linkService.eventBus)==null||me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D.id,name:Z}}),!1})}o.onclick||(o.onclick=()=>!1),ie(this,b,ht).call(this)}_bindResetFormAction(o,D){const z=o.onclick;if(z||(o.href=this.linkService.getAnchorUrl("")),ie(this,b,ht).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),z||(o.onclick=()=>!1);return}o.onclick=()=>{var Ge;z==null||z();const{fields:Z,refs:ae,include:me}=D,we=[];if(Z.length!==0||ae.length!==0){const De=new Set(ae);for(const Le of Z){const Ve=this._fieldObjects[Le]||[];for(const{id:Ye}of Ve)De.add(Ye)}for(const Le of Object.values(this._fieldObjects))for(const Ve of Le)De.has(Ve.id)===me&&we.push(Ve)}else for(const De of Object.values(this._fieldObjects))we.push(...De);const Oe=this.annotationStorage,Me=[];for(const De of we){const{id:Le}=De;switch(Me.push(Le),De.type){case"text":{const Ye=De.defaultValue||"";Oe.setValue(Le,{value:Ye});break}case"checkbox":case"radiobutton":{const Ye=De.defaultValue===De.exportValues;Oe.setValue(Le,{value:Ye});break}case"combobox":case"listbox":{const Ye=De.defaultValue||"";Oe.setValue(Le,{value:Ye});break}default:continue}const Ve=document.querySelector(`[data-element-id="${Le}"]`);if(Ve){if(!M.has(Ve)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${Le}`);continue}}else continue;Ve.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ge=this.linkService.eventBus)==null||Ge.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Me,name:"ResetForm"}})),!1}}}b=new WeakSet,ht=function(){this.container.setAttribute("data-internal-link","")},N=new WeakSet,Ln=function(o,D){o.href=this.linkService.getAnchorUrl(""),o.onclick=()=>(this.linkService.executeSetOCGState(D),!1),ie(this,b,ht).call(this)};class w extends R{constructor(V){super(V,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const V=document.createElement("img");return V.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",V.alt="[{{type}} Annotation]",V.dataset.l10nId="text_annotation_type",V.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(V),this.container}}class P extends R{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(V){var o;this.data.hasOwnCanvas&&(((o=V.previousSibling)==null?void 0:o.nodeName)==="CANVAS"&&(V.previousSibling.hidden=!0),V.hidden=!1)}_getKeyModifier(V){const{isWin:o,isMac:D}=n.FeatureTest.platform;return o&&V.ctrlKey||D&&V.metaKey}_setEventListener(V,o,D,z,Z){D.includes("mouse")?V.addEventListener(D,ae=>{var me;(me=this.linkService.eventBus)==null||me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:z,value:Z(ae),shift:ae.shiftKey,modifier:this._getKeyModifier(ae)}})}):V.addEventListener(D,ae=>{var me;if(D==="blur"){if(!o.focused||!ae.relatedTarget)return;o.focused=!1}else if(D==="focus"){if(o.focused)return;o.focused=!0}Z&&((me=this.linkService.eventBus)==null||me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:z,value:Z(ae)}}))})}_setEventListeners(V,o,D,z){var Z,ae,me;for(const[we,Oe]of D)(Oe==="Action"||(Z=this.data.actions)!=null&&Z[Oe])&&((Oe==="Focus"||Oe==="Blur")&&(o||(o={focused:!1})),this._setEventListener(V,o,we,Oe,z),Oe==="Focus"&&!((ae=this.data.actions)!=null&&ae.Blur)?this._setEventListener(V,o,"blur","Blur",null):Oe==="Blur"&&!((me=this.data.actions)!=null&&me.Focus)&&this._setEventListener(V,o,"focus","Focus",null))}_setBackgroundColor(V){const o=this.data.backgroundColor||null;V.style.backgroundColor=o===null?"transparent":n.Util.makeHexColor(o[0],o[1],o[2])}_setTextStyle(V){const o=["left","center","right"],{fontColor:D}=this.data.defaultAppearanceData,z=this.data.defaultAppearanceData.fontSize||u,Z=V.style;let ae;const me=2,we=Oe=>Math.round(10*Oe)/10;if(this.data.multiLine){const Oe=Math.abs(this.data.rect[3]-this.data.rect[1]-me),Me=Math.round(Oe/(n.LINE_FACTOR*z))||1,Ge=Oe/Me;ae=Math.min(z,we(Ge/n.LINE_FACTOR))}else{const Oe=Math.abs(this.data.rect[3]-this.data.rect[1]-me);ae=Math.min(z,we(Oe/n.LINE_FACTOR))}Z.fontSize=`calc(${ae}px * var(--scale-factor))`,Z.color=n.Util.makeHexColor(D[0],D[1],D[2]),this.data.textAlignment!==null&&(Z.textAlign=o[this.data.textAlignment])}_setRequired(V,o){o?V.setAttribute("required",!0):V.removeAttribute("required"),V.setAttribute("aria-required",o)}}class O extends P{constructor(V){const o=V.renderForms||!V.data.hasAppearance&&!!V.data.fieldValue;super(V,{isRenderable:o})}setPropertyOnSiblings(V,o,D,z){const Z=this.annotationStorage;for(const ae of this._getElementsByName(V.name,V.id))ae.domElement&&(ae.domElement[o]=D),Z.setValue(ae.id,{[z]:D})}render(){var z,Z;const V=this.annotationStorage,o=this.data.id;this.container.classList.add("textWidgetAnnotation");let D=null;if(this.renderForms){const ae=V.getValue(o,{value:this.data.fieldValue});let me=ae.value||"";const we=V.getValue(o,{charLimit:this.data.maxLen}).charLimit;we&&me.length>we&&(me=me.slice(0,we));let Oe=ae.formattedValue||((z=this.data.textContent)==null?void 0:z.join(`
`))||null;Oe&&this.data.comb&&(Oe=Oe.replaceAll(/\s+/g,""));const Me={userValue:me,formattedValue:Oe,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(D=document.createElement("textarea"),D.textContent=Oe??me,this.data.doNotScroll&&(D.style.overflowY="hidden")):(D=document.createElement("input"),D.type="text",D.setAttribute("value",Oe??me),this.data.doNotScroll&&(D.style.overflowX="hidden")),this.data.hasOwnCanvas&&(D.hidden=!0),M.add(D),D.setAttribute("data-element-id",o),D.disabled=this.data.readOnly,D.name=this.data.fieldName,D.tabIndex=g,this._setRequired(D,this.data.required),we&&(D.maxLength=we),D.addEventListener("input",De=>{V.setValue(o,{value:De.target.value}),this.setPropertyOnSiblings(D,"value",De.target.value,"value"),Me.formattedValue=null}),D.addEventListener("resetform",De=>{const Le=this.data.defaultFieldValue??"";D.value=Me.userValue=Le,Me.formattedValue=null});let Ge=De=>{const{formattedValue:Le}=Me;Le!=null&&(De.target.value=Le),De.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){D.addEventListener("focus",Le=>{if(Me.focused)return;const{target:Ve}=Le;Me.userValue&&(Ve.value=Me.userValue),Me.lastCommittedValue=Ve.value,Me.commitKey=1,Me.focused=!0}),D.addEventListener("updatefromsandbox",Le=>{this.showElementAndHideCanvas(Le.target);const Ve={value(Ye){Me.userValue=Ye.detail.value??"",V.setValue(o,{value:Me.userValue.toString()}),Ye.target.value=Me.userValue},formattedValue(Ye){const{formattedValue:Je}=Ye.detail;Me.formattedValue=Je,Je!=null&&Ye.target!==document.activeElement&&(Ye.target.value=Je),V.setValue(o,{formattedValue:Je})},selRange(Ye){Ye.target.setSelectionRange(...Ye.detail.selRange)},charLimit:Ye=>{var st;const{charLimit:Je}=Ye.detail,{target:Ze}=Ye;if(Je===0){Ze.removeAttribute("maxLength");return}Ze.setAttribute("maxLength",Je);let it=Me.userValue;!it||it.length<=Je||(it=it.slice(0,Je),Ze.value=Me.userValue=it,V.setValue(o,{value:it}),(st=this.linkService.eventBus)==null||st.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:it,willCommit:!0,commitKey:1,selStart:Ze.selectionStart,selEnd:Ze.selectionEnd}}))}};this._dispatchEventFromSandbox(Ve,Le)}),D.addEventListener("keydown",Le=>{var Je;Me.commitKey=1;let Ve=-1;if(Le.key==="Escape"?Ve=0:Le.key==="Enter"&&!this.data.multiLine?Ve=2:Le.key==="Tab"&&(Me.commitKey=3),Ve===-1)return;const{value:Ye}=Le.target;Me.lastCommittedValue!==Ye&&(Me.lastCommittedValue=Ye,Me.userValue=Ye,(Je=this.linkService.eventBus)==null||Je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Ye,willCommit:!0,commitKey:Ve,selStart:Le.target.selectionStart,selEnd:Le.target.selectionEnd}}))});const De=Ge;Ge=null,D.addEventListener("blur",Le=>{var Ye;if(!Me.focused||!Le.relatedTarget)return;Me.focused=!1;const{value:Ve}=Le.target;Me.userValue=Ve,Me.lastCommittedValue!==Ve&&((Ye=this.linkService.eventBus)==null||Ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Ve,willCommit:!0,commitKey:Me.commitKey,selStart:Le.target.selectionStart,selEnd:Le.target.selectionEnd}})),De(Le)}),(Z=this.data.actions)!=null&&Z.Keystroke&&D.addEventListener("beforeinput",Le=>{var lt;Me.lastCommittedValue=null;const{data:Ve,target:Ye}=Le,{value:Je,selectionStart:Ze,selectionEnd:it}=Ye;let st=Ze,rt=it;switch(Le.inputType){case"deleteWordBackward":{const ct=Je.substring(0,Ze).match(/\w*[^\w]*$/);ct&&(st-=ct[0].length);break}case"deleteWordForward":{const ct=Je.substring(Ze).match(/^[^\w]*\w*/);ct&&(rt+=ct[0].length);break}case"deleteContentBackward":Ze===it&&(st-=1);break;case"deleteContentForward":Ze===it&&(rt+=1);break}Le.preventDefault(),(lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Je,change:Ve||"",willCommit:!1,selStart:st,selEnd:rt}})}),this._setEventListeners(D,Me,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Le=>Le.target.value)}if(Ge&&D.addEventListener("blur",Ge),this.data.comb){const Le=(this.data.rect[2]-this.data.rect[0])/we;D.classList.add("comb"),D.style.letterSpacing=`calc(${Le}px * var(--scale-factor) - 1ch)`}}else D=document.createElement("div"),D.textContent=this.data.fieldValue,D.style.verticalAlign="middle",D.style.display="table-cell";return this._setTextStyle(D),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class x extends P{constructor(V){super(V,{isRenderable:!!V.data.hasOwnCanvas})}}class L extends P{constructor(V){super(V,{isRenderable:V.renderForms})}render(){const V=this.annotationStorage,o=this.data,D=o.id;let z=V.getValue(D,{value:o.exportValue===o.fieldValue}).value;typeof z=="string"&&(z=z!=="Off",V.setValue(D,{value:z})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Z=document.createElement("input");return M.add(Z),Z.setAttribute("data-element-id",D),Z.disabled=o.readOnly,this._setRequired(Z,this.data.required),Z.type="checkbox",Z.name=o.fieldName,z&&Z.setAttribute("checked",!0),Z.setAttribute("exportValue",o.exportValue),Z.tabIndex=g,Z.addEventListener("change",ae=>{const{name:me,checked:we}=ae.target;for(const Oe of this._getElementsByName(me,D)){const Me=we&&Oe.exportValue===o.exportValue;Oe.domElement&&(Oe.domElement.checked=Me),V.setValue(Oe.id,{value:Me})}V.setValue(D,{value:we})}),Z.addEventListener("resetform",ae=>{const me=o.defaultFieldValue||"Off";ae.target.checked=me===o.exportValue}),this.enableScripting&&this.hasJSActions&&(Z.addEventListener("updatefromsandbox",ae=>{const me={value(we){we.target.checked=we.detail.value!=="Off",V.setValue(D,{value:we.target.checked})}};this._dispatchEventFromSandbox(me,ae)}),this._setEventListeners(Z,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ae=>ae.target.checked)),this._setBackgroundColor(Z),this._setDefaultPropertiesFromJS(Z),this.container.append(Z),this.container}}class _ extends P{constructor(V){super(V,{isRenderable:V.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const V=this.annotationStorage,o=this.data,D=o.id;let z=V.getValue(D,{value:o.fieldValue===o.buttonValue}).value;typeof z=="string"&&(z=z!==o.buttonValue,V.setValue(D,{value:z}));const Z=document.createElement("input");if(M.add(Z),Z.setAttribute("data-element-id",D),Z.disabled=o.readOnly,this._setRequired(Z,this.data.required),Z.type="radio",Z.name=o.fieldName,z&&Z.setAttribute("checked",!0),Z.tabIndex=g,Z.addEventListener("change",ae=>{const{name:me,checked:we}=ae.target;for(const Oe of this._getElementsByName(me,D))V.setValue(Oe.id,{value:!1});V.setValue(D,{value:we})}),Z.addEventListener("resetform",ae=>{const me=o.defaultFieldValue;ae.target.checked=me!=null&&me===o.buttonValue}),this.enableScripting&&this.hasJSActions){const ae=o.buttonValue;Z.addEventListener("updatefromsandbox",me=>{const we={value:Oe=>{const Me=ae===Oe.detail.value;for(const Ge of this._getElementsByName(Oe.target.name)){const De=Me&&Ge.id===D;Ge.domElement&&(Ge.domElement.checked=De),V.setValue(Ge.id,{value:De})}}};this._dispatchEventFromSandbox(we,me)}),this._setEventListeners(Z,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],me=>me.target.checked)}return this._setBackgroundColor(Z),this._setDefaultPropertiesFromJS(Z),this.container.append(Z),this.container}}class A extends T{constructor(V){super(V,{ignoreBorder:V.data.hasAppearance})}render(){const V=super.render();V.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(V.title=this.data.alternativeText);const o=V.lastChild;return this.enableScripting&&this.hasJSActions&&o&&(this._setDefaultPropertiesFromJS(o),o.addEventListener("updatefromsandbox",D=>{this._dispatchEventFromSandbox({},D)})),V}}class U extends P{constructor(V){super(V,{isRenderable:V.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const V=this.annotationStorage,o=this.data.id,D=V.getValue(o,{value:this.data.fieldValue}),z=document.createElement("select");M.add(z),z.setAttribute("data-element-id",o),z.disabled=this.data.readOnly,this._setRequired(z,this.data.required),z.name=this.data.fieldName,z.tabIndex=g;let Z=this.data.combo&&this.data.options.length>0;this.data.combo||(z.size=this.data.options.length,this.data.multiSelect&&(z.multiple=!0)),z.addEventListener("resetform",Me=>{const Ge=this.data.defaultFieldValue;for(const De of z.options)De.selected=De.value===Ge});for(const Me of this.data.options){const Ge=document.createElement("option");Ge.textContent=Me.displayValue,Ge.value=Me.exportValue,D.value.includes(Me.exportValue)&&(Ge.setAttribute("selected",!0),Z=!1),z.append(Ge)}let ae=null;if(Z){const Me=document.createElement("option");Me.value=" ",Me.setAttribute("hidden",!0),Me.setAttribute("selected",!0),z.prepend(Me),ae=()=>{Me.remove(),z.removeEventListener("input",ae),ae=null},z.addEventListener("input",ae)}const me=Me=>{const Ge=Me?"value":"textContent",{options:De,multiple:Le}=z;return Le?Array.prototype.filter.call(De,Ve=>Ve.selected).map(Ve=>Ve[Ge]):De.selectedIndex===-1?null:De[De.selectedIndex][Ge]};let we=me(!1);const Oe=Me=>{const Ge=Me.target.options;return Array.prototype.map.call(Ge,De=>({displayValue:De.textContent,exportValue:De.value}))};return this.enableScripting&&this.hasJSActions?(z.addEventListener("updatefromsandbox",Me=>{const Ge={value(De){ae==null||ae();const Le=De.detail.value,Ve=new Set(Array.isArray(Le)?Le:[Le]);for(const Ye of z.options)Ye.selected=Ve.has(Ye.value);V.setValue(o,{value:me(!0)}),we=me(!1)},multipleSelection(De){z.multiple=!0},remove(De){const Le=z.options,Ve=De.detail.remove;Le[Ve].selected=!1,z.remove(Ve),Le.length>0&&Array.prototype.findIndex.call(Le,Je=>Je.selected)===-1&&(Le[0].selected=!0),V.setValue(o,{value:me(!0),items:Oe(De)}),we=me(!1)},clear(De){for(;z.length!==0;)z.remove(0);V.setValue(o,{value:null,items:[]}),we=me(!1)},insert(De){const{index:Le,displayValue:Ve,exportValue:Ye}=De.detail.insert,Je=z.children[Le],Ze=document.createElement("option");Ze.textContent=Ve,Ze.value=Ye,Je?Je.before(Ze):z.append(Ze),V.setValue(o,{value:me(!0),items:Oe(De)}),we=me(!1)},items(De){const{items:Le}=De.detail;for(;z.length!==0;)z.remove(0);for(const Ve of Le){const{displayValue:Ye,exportValue:Je}=Ve,Ze=document.createElement("option");Ze.textContent=Ye,Ze.value=Je,z.append(Ze)}z.options.length>0&&(z.options[0].selected=!0),V.setValue(o,{value:me(!0),items:Oe(De)}),we=me(!1)},indices(De){const Le=new Set(De.detail.indices);for(const Ve of De.target.options)Ve.selected=Le.has(Ve.index);V.setValue(o,{value:me(!0)}),we=me(!1)},editable(De){De.target.disabled=!De.detail.editable}};this._dispatchEventFromSandbox(Ge,Me)}),z.addEventListener("input",Me=>{var De;const Ge=me(!0);V.setValue(o,{value:Ge}),Me.preventDefault(),(De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:we,changeEx:Ge,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(z,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Me=>Me.target.value)):z.addEventListener("input",function(Me){V.setValue(o,{value:me(!0)})}),this.data.combo&&this._setTextStyle(z),this._setBackgroundColor(z),this._setDefaultPropertiesFromJS(z),this.container.append(z),this.container}}class v extends R{constructor(V){const{data:o,elements:D}=V;super(V,{isRenderable:R._hasPopupData(o)}),this.elements=D}render(){this.container.classList.add("popupAnnotation");const V=new f({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),o=[];for(const D of this.elements)D.popup=V,o.push(D.data.id),D.addHighlightArea();return this.container.setAttribute("aria-controls",o.map(D=>`${n.AnnotationPrefix}${D}`).join(",")),this.container}}class f{constructor({container:V,color:o,elements:D,titleObj:z,modificationDate:Z,contentsObj:ae,richText:me,parent:we,rect:Oe,parentRect:Me,open:Ge}){q(this,Ie);q(this,Ue);q(this,qe);q(this,Xe);q(this,Y,null);q(this,E,ie(this,Ie,Nn).bind(this));q(this,F,ie(this,Xe,cn).bind(this));q(this,H,ie(this,qe,ln).bind(this));q(this,K,ie(this,Ue,Ft).bind(this));q(this,ne,null);q(this,ee,null);q(this,be,null);q(this,Ae,null);q(this,he,null);q(this,ge,null);q(this,ue,!1);q(this,X,null);q(this,J,null);q(this,ce,null);q(this,ve,null);q(this,Ee,!1);var Le;de(this,ee,V),de(this,ve,z),de(this,be,ae),de(this,ce,me),de(this,he,we),de(this,ne,o),de(this,J,Oe),de(this,ge,Me),de(this,Ae,D);const De=i.PDFDateString.toDateObject(Z);De&&de(this,Y,we.l10n.get("annotation_date_string",{date:De.toLocaleDateString(),time:De.toLocaleTimeString()})),this.trigger=D.flatMap(Ve=>Ve.getElementsToTriggerPopup());for(const Ve of this.trigger)Ve.addEventListener("click",r(this,K)),Ve.addEventListener("mouseenter",r(this,H)),Ve.addEventListener("mouseleave",r(this,F)),Ve.classList.add("popupTriggerArea");for(const Ve of D)(Le=Ve.container)==null||Le.addEventListener("keydown",r(this,E));r(this,ee).hidden=!0,Ge&&ie(this,Ue,Ft).call(this)}render(){if(r(this,X))return;const{page:{view:V},viewport:{rawDims:{pageWidth:o,pageHeight:D,pageX:z,pageY:Z}}}=r(this,he),ae=de(this,X,document.createElement("div"));if(ae.className="popup",r(this,ne)){const st=ae.style.outlineColor=n.Util.makeHexColor(...r(this,ne));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ae.style.backgroundColor=`color-mix(in srgb, ${st} 30%, white)`:ae.style.backgroundColor=n.Util.makeHexColor(...r(this,ne).map(lt=>Math.floor(.7*(255-lt)+lt)))}const me=document.createElement("span");me.className="header";const we=document.createElement("h1");if(me.append(we),{dir:we.dir,str:we.textContent}=r(this,ve),ae.append(me),r(this,Y)){const st=document.createElement("span");st.classList.add("popupDate"),r(this,Y).then(rt=>{st.textContent=rt}),me.append(st)}const Oe=r(this,be),Me=r(this,ce);if(Me!=null&&Me.str&&(!(Oe!=null&&Oe.str)||Oe.str===Me.str))m.XfaLayer.render({xfaHtml:Me.html,intent:"richText",div:ae}),ae.lastChild.classList.add("richText","popupContent");else{const st=this._formatContents(Oe);ae.append(st)}let Ge=!!r(this,ge),De=Ge?r(this,ge):r(this,J);for(const st of r(this,Ae))if(!De||n.Util.intersect(st.data.rect,De)!==null){De=st.data.rect,Ge=!0;break}const Le=n.Util.normalizeRect([De[0],V[3]-De[1]+V[1],De[2],V[3]-De[3]+V[1]]),Ve=5,Ye=Ge?De[2]-De[0]+Ve:0,Je=Le[0]+Ye,Ze=Le[1],{style:it}=r(this,ee);it.left=`${100*(Je-z)/o}%`,it.top=`${100*(Ze-Z)/D}%`,r(this,ee).append(ae)}_formatContents({str:V,dir:o}){const D=document.createElement("p");D.classList.add("popupContent"),D.dir=o;const z=V.split(/(?:\r\n?|\n)/);for(let Z=0,ae=z.length;Z<ae;++Z){const me=z[Z];D.append(document.createTextNode(me)),Z<ae-1&&D.append(document.createElement("br"))}return D}forceHide(){de(this,Ee,this.isVisible),r(this,Ee)&&(r(this,ee).hidden=!0)}maybeShow(){r(this,Ee)&&(de(this,Ee,!1),r(this,ee).hidden=!1)}get isVisible(){return r(this,ee).hidden===!1}}Y=new WeakMap,E=new WeakMap,F=new WeakMap,H=new WeakMap,K=new WeakMap,ne=new WeakMap,ee=new WeakMap,be=new WeakMap,Ae=new WeakMap,he=new WeakMap,ge=new WeakMap,ue=new WeakMap,X=new WeakMap,J=new WeakMap,ce=new WeakMap,ve=new WeakMap,Ee=new WeakMap,Ie=new WeakSet,Nn=function(V){V.altKey||V.shiftKey||V.ctrlKey||V.metaKey||(V.key==="Enter"||V.key==="Escape"&&r(this,ue))&&ie(this,Ue,Ft).call(this)},Ue=new WeakSet,Ft=function(){de(this,ue,!r(this,ue)),r(this,ue)?(ie(this,qe,ln).call(this),r(this,ee).addEventListener("click",r(this,K)),r(this,ee).addEventListener("keydown",r(this,E))):(ie(this,Xe,cn).call(this),r(this,ee).removeEventListener("click",r(this,K)),r(this,ee).removeEventListener("keydown",r(this,E)))},qe=new WeakSet,ln=function(){r(this,X)||this.render(),this.isVisible?r(this,ue)&&r(this,ee).classList.add("focused"):(r(this,ee).hidden=!1,r(this,ee).style.zIndex=parseInt(r(this,ee).style.zIndex)+1e3)},Xe=new WeakSet,cn=function(){r(this,ee).classList.remove("focused"),!(r(this,ue)||!this.isVisible)&&(r(this,ee).hidden=!0,r(this,ee).style.zIndex=parseInt(r(this,ee).style.zIndex)-1e3)};class B extends R{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0}),this.textContent=V.data.textContent,this.textPosition=V.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const V=document.createElement("div");V.classList.add("annotationTextContent"),V.setAttribute("role","comment");for(const o of this.textContent){const D=document.createElement("span");D.textContent=o,V.append(D)}this.container.append(V)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=B;class I extends R{constructor(o){super(o,{isRenderable:!0,ignoreBorder:!0});q(this,re,null)}render(){this.container.classList.add("lineAnnotation");const o=this.data,{width:D,height:z}=C(o.rect),Z=this.svgFactory.create(D,z,!0),ae=de(this,re,this.svgFactory.createElement("svg:line"));return ae.setAttribute("x1",o.rect[2]-o.lineCoordinates[0]),ae.setAttribute("y1",o.rect[3]-o.lineCoordinates[1]),ae.setAttribute("x2",o.rect[2]-o.lineCoordinates[2]),ae.setAttribute("y2",o.rect[3]-o.lineCoordinates[3]),ae.setAttribute("stroke-width",o.borderStyle.width||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),Z.append(ae),this.container.append(Z),!o.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,re)}addHighlightArea(){this.container.classList.add("highlightArea")}}re=new WeakMap;class Q extends R{constructor(o){super(o,{isRenderable:!0,ignoreBorder:!0});q(this,se,null)}render(){this.container.classList.add("squareAnnotation");const o=this.data,{width:D,height:z}=C(o.rect),Z=this.svgFactory.create(D,z,!0),ae=o.borderStyle.width,me=de(this,se,this.svgFactory.createElement("svg:rect"));return me.setAttribute("x",ae/2),me.setAttribute("y",ae/2),me.setAttribute("width",D-ae),me.setAttribute("height",z-ae),me.setAttribute("stroke-width",ae||1),me.setAttribute("stroke","transparent"),me.setAttribute("fill","transparent"),Z.append(me),this.container.append(Z),!o.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,se)}addHighlightArea(){this.container.classList.add("highlightArea")}}se=new WeakMap;class te extends R{constructor(o){super(o,{isRenderable:!0,ignoreBorder:!0});q(this,Ce,null)}render(){this.container.classList.add("circleAnnotation");const o=this.data,{width:D,height:z}=C(o.rect),Z=this.svgFactory.create(D,z,!0),ae=o.borderStyle.width,me=de(this,Ce,this.svgFactory.createElement("svg:ellipse"));return me.setAttribute("cx",D/2),me.setAttribute("cy",z/2),me.setAttribute("rx",D/2-ae/2),me.setAttribute("ry",z/2-ae/2),me.setAttribute("stroke-width",ae||1),me.setAttribute("stroke","transparent"),me.setAttribute("fill","transparent"),Z.append(me),this.container.append(Z),!o.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,Ce)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ce=new WeakMap;class $ extends R{constructor(o){super(o,{isRenderable:!0,ignoreBorder:!0});q(this,Pe,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const o=this.data,{width:D,height:z}=C(o.rect),Z=this.svgFactory.create(D,z,!0);let ae=[];for(const we of o.vertices){const Oe=we.x-o.rect[0],Me=o.rect[3]-we.y;ae.push(Oe+","+Me)}ae=ae.join(" ");const me=de(this,Pe,this.svgFactory.createElement(this.svgElementName));return me.setAttribute("points",ae),me.setAttribute("stroke-width",o.borderStyle.width||1),me.setAttribute("stroke","transparent"),me.setAttribute("fill","transparent"),Z.append(me),this.container.append(Z),!o.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return r(this,Pe)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pe=new WeakMap;class oe extends ${constructor(V){super(V),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class fe extends R{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class pe extends R{constructor(o){super(o,{isRenderable:!0,ignoreBorder:!0});q(this,tt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const o=this.data,{width:D,height:z}=C(o.rect),Z=this.svgFactory.create(D,z,!0);for(const ae of o.inkLists){let me=[];for(const Oe of ae){const Me=Oe.x-o.rect[0],Ge=o.rect[3]-Oe.y;me.push(`${Me},${Ge}`)}me=me.join(" ");const we=this.svgFactory.createElement(this.svgElementName);r(this,tt).push(we),we.setAttribute("points",me),we.setAttribute("stroke-width",o.borderStyle.width||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),!o.popupRef&&this.hasPopupData&&this._createPopup(),Z.append(we)}return this.container.append(Z),this.container}getElementsToTriggerPopup(){return r(this,tt)}addHighlightArea(){this.container.classList.add("highlightArea")}}tt=new WeakMap,t.InkAnnotationElement=pe;class G extends R{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ye extends R{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Se extends R{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class xe extends R{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ke extends R{constructor(V){super(V,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=ke;class j extends R{constructor(o){var Z;super(o,{isRenderable:!0});q(this,le);q(this,et,null);const{filename:D,content:z}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(D,!0),this.content=z,(Z=this.linkService.eventBus)==null||Z.dispatch("fileattachmentannotation",{source:this,filename:D,content:z})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:o,data:D}=this;let z;D.hasAppearance||D.fillAlpha===0?z=document.createElement("div"):(z=document.createElement("img"),z.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(D.name)?"paperclip":"pushpin"}.svg`,D.fillAlpha&&D.fillAlpha<1&&(z.style=`filter: opacity(${Math.round(D.fillAlpha*100)}%);`)),z.addEventListener("dblclick",ie(this,le,hn).bind(this)),de(this,et,z);const{isMac:Z}=n.FeatureTest.platform;return o.addEventListener("keydown",ae=>{ae.key==="Enter"&&(Z?ae.metaKey:ae.ctrlKey)&&ie(this,le,hn).call(this)}),!D.popupRef&&this.hasPopupData?this._createPopup():z.classList.add("popupTriggerArea"),o.append(z),o}getElementsToTriggerPopup(){return r(this,et)}addHighlightArea(){this.container.classList.add("highlightArea")}}et=new WeakMap,le=new WeakSet,hn=function(){var o;(o=this.downloadManager)==null||o.openOrDownloadData(this.container,this.content,this.filename)};class h{constructor({div:V,accessibilityManager:o,annotationCanvasMap:D,l10n:z,page:Z,viewport:ae}){q(this,He);q(this,Te);q(this,Be,null);q(this,Fe,null);q(this,je,new Map);this.div=V,de(this,Be,o),de(this,Fe,D),this.l10n=z,this.page=Z,this.viewport=ae,this.zIndex=0,this.l10n||(this.l10n=y.NullL10n)}async render(V){const{annotations:o}=V,D=this.div;(0,i.setLayerDimensions)(D,this.viewport);const z=new Map,Z={data:null,layer:D,linkService:V.linkService,downloadManager:V.downloadManager,imageResourcesPath:V.imageResourcesPath||"",renderForms:V.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:V.annotationStorage||new a.AnnotationStorage,enableScripting:V.enableScripting===!0,hasJSActions:V.hasJSActions,fieldObjects:V.fieldObjects,parent:this,elements:null};for(const ae of o){if(ae.noHTML)continue;const me=ae.annotationType===n.AnnotationType.POPUP;if(me){const Me=z.get(ae.id);if(!Me)continue;Z.elements=Me}else{const{width:Me,height:Ge}=C(ae.rect);if(Me<=0||Ge<=0)continue}Z.data=ae;const we=k.create(Z);if(!we.isRenderable)continue;if(!me&&ae.popupRef){const Me=z.get(ae.popupRef);Me?Me.push(we):z.set(ae.popupRef,[we])}we.annotationEditorType>0&&r(this,je).set(we.data.id,we);const Oe=we.render();ae.hidden&&(Oe.style.visibility="hidden"),ie(this,He,Bn).call(this,Oe,ae.id)}ie(this,Te,un).call(this),await this.l10n.translate(D)}update({viewport:V}){const o=this.div;this.viewport=V,(0,i.setLayerDimensions)(o,{rotation:V.rotation}),ie(this,Te,un).call(this),o.hidden=!1}getEditableAnnotations(){return Array.from(r(this,je).values())}getEditableAnnotation(V){return r(this,je).get(V)}}Be=new WeakMap,Fe=new WeakMap,je=new WeakMap,He=new WeakSet,Bn=function(V,o){var z;const D=V.firstChild||V;D.id=`${n.AnnotationPrefix}${o}`,this.div.append(V),(z=r(this,Be))==null||z.moveElementInDOM(this.div,V,D,!1)},Te=new WeakSet,un=function(){if(!r(this,Fe))return;const V=this.div;for(const[o,D]of r(this,Fe)){const z=V.querySelector(`[data-annotation-id="${o}"]`);if(!z)continue;const{firstChild:Z}=z;Z?Z.nodeName==="CANVAS"?Z.replaceWith(D):Z.before(D):z.append(D)}r(this,Fe).clear()},t.AnnotationLayer=h},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function s(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function n(a){return Math.max(0,Math.min(255,255*a))}class i{static CMYK_G([l,y,m,g]){return["G",1-Math.min(1,.3*l+.59*m+.11*y+g)]}static G_CMYK([l]){return["CMYK",0,0,0,1-l]}static G_RGB([l]){return["RGB",l,l,l]}static G_rgb([l]){return l=n(l),[l,l,l]}static G_HTML([l]){const y=s(l);return`#${y}${y}${y}`}static RGB_G([l,y,m]){return["G",.3*l+.59*y+.11*m]}static RGB_rgb(l){return l.map(n)}static RGB_HTML(l){return`#${l.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([l,y,m,g]){return["RGB",1-Math.min(1,l+g),1-Math.min(1,m+g),1-Math.min(1,y+g)]}static CMYK_rgb([l,y,m,g]){return[n(1-Math.min(1,l+g)),n(1-Math.min(1,m+g)),n(1-Math.min(1,y+g))]}static CMYK_HTML(l){const y=this.CMYK_RGB(l).slice(1);return this.RGB_HTML(y)}static RGB_CMYK([l,y,m]){const g=1-l,u=1-y,M=1-m,C=Math.min(g,u,M);return["CMYK",g,u,M,C]}}t.ColorConverters=i},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=n;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function n(l,y){switch(l){case"find_match_count":l=`find_match_count[${y.total===1?"one":"other"}]`;break;case"find_match_count_limit":l=`find_match_count_limit[${y.limit===1?"one":"other"}]`;break}return s[l]||""}function i(l,y){return y?l.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(m,g)=>g in y?y[g]:"{{"+g+"}}"):l}const a={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(l,y=null,m=n(l,y)){return i(m,y)},async translate(l){}};t.NullL10n=a},(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var n=s(25);class i{static setupStorage(l,y,m,g,u){const M=g.getValue(y,{value:null});switch(m.name){case"textarea":if(M.value!==null&&(l.textContent=M.value),u==="print")break;l.addEventListener("input",C=>{g.setValue(y,{value:C.target.value})});break;case"input":if(m.attributes.type==="radio"||m.attributes.type==="checkbox"){if(M.value===m.attributes.xfaOn?l.setAttribute("checked",!0):M.value===m.attributes.xfaOff&&l.removeAttribute("checked"),u==="print")break;l.addEventListener("change",C=>{g.setValue(y,{value:C.target.checked?C.target.getAttribute("xfaOn"):C.target.getAttribute("xfaOff")})})}else{if(M.value!==null&&l.setAttribute("value",M.value),u==="print")break;l.addEventListener("input",C=>{g.setValue(y,{value:C.target.value})})}break;case"select":if(M.value!==null){l.setAttribute("value",M.value);for(const C of m.children)C.attributes.value===M.value?C.attributes.selected=!0:C.attributes.hasOwnProperty("selected")&&delete C.attributes.selected}l.addEventListener("input",C=>{const k=C.target.options,R=k.selectedIndex===-1?"":k[k.selectedIndex].value;g.setValue(y,{value:R})});break}}static setAttributes({html:l,element:y,storage:m=null,intent:g,linkService:u}){const{attributes:M}=y,C=l instanceof HTMLAnchorElement;M.type==="radio"&&(M.name=`${M.name}-${g}`);for(const[k,R]of Object.entries(M))if(R!=null)switch(k){case"class":R.length&&l.setAttribute(k,R.join(" "));break;case"dataId":break;case"id":l.setAttribute("data-element-id",R);break;case"style":Object.assign(l.style,R);break;case"textContent":l.textContent=R;break;default:(!C||k!=="href"&&k!=="newWindow")&&l.setAttribute(k,R)}C&&u.addLinkAttributes(l,M.href,M.newWindow),m&&M.dataId&&this.setupStorage(l,M.dataId,y,m)}static render(l){var T;const y=l.annotationStorage,m=l.linkService,g=l.xfaHtml,u=l.intent||"display",M=document.createElement(g.name);g.attributes&&this.setAttributes({html:M,element:g,intent:u,linkService:m});const C=[[g,-1,M]],k=l.div;if(k.append(M),l.viewport){const w=`matrix(${l.viewport.transform.join(",")})`;k.style.transform=w}u!=="richText"&&k.setAttribute("class","xfaLayer xfaFont");const R=[];for(;C.length>0;){const[w,P,O]=C.at(-1);if(P+1===w.children.length){C.pop();continue}const x=w.children[++C.at(-1)[1]];if(x===null)continue;const{name:L}=x;if(L==="#text"){const A=document.createTextNode(x.value);R.push(A),O.append(A);continue}const _=(T=x==null?void 0:x.attributes)!=null&&T.xmlns?document.createElementNS(x.attributes.xmlns,L):document.createElement(L);if(O.append(_),x.attributes&&this.setAttributes({html:_,element:x,storage:y,intent:u,linkService:m}),x.children&&x.children.length>0)C.push([x,-1,_]);else if(x.value){const A=document.createTextNode(x.value);n.XfaText.shouldBuildText(L)&&R.push(A),_.append(A)}}for(const w of k.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:R}}static update(l){const y=`matrix(${l.viewport.transform.join(",")})`;l.div.style.transform=y,l.div.hidden=!1}}t.XfaLayer=i},(e,t,s)=>{var g,u,M,C,k,R,T,w,P,O,x,L,_,A,U,jn,f,$n,I,Un,te,Hn,oe,dn,pe,Wn,ye,fn,xe,Vn,j,zn,d,qn,b,Gn,N,Xn,Y,ot,F,pn,K,Mt,ee,Ot,Ae,pt,ge,gn,X,It,ce,Yn,Ee,mn,Ne,Kn,ze,Jn,We,_n,_e,Dt,se,gt;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var n=s(1),i=s(4),a=s(29),l=s(6),y=s(5);const Pe=class extends i.AnnotationEditor{constructor(le){super({...le,name:"inkEditor"});q(this,U);q(this,f);q(this,I);q(this,te);q(this,oe);q(this,pe);q(this,ye);q(this,xe);q(this,j);q(this,d);q(this,b);q(this,N);q(this,Y);q(this,F);q(this,K);q(this,ee);q(this,Ae);q(this,ge);q(this,X);q(this,ze);q(this,We);q(this,_e);q(this,se);q(this,g,0);q(this,u,0);q(this,M,this.canvasPointermove.bind(this));q(this,C,this.canvasPointerleave.bind(this));q(this,k,this.canvasPointerup.bind(this));q(this,R,this.canvasPointerdown.bind(this));q(this,T,new Path2D);q(this,w,!1);q(this,P,!1);q(this,O,!1);q(this,x,null);q(this,L,0);q(this,_,0);q(this,A,null);this.color=le.color||null,this.thickness=le.thickness||null,this.opacity=le.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(le){i.AnnotationEditor.initialize(le,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(le,Re){switch(le){case n.AnnotationEditorParamsType.INK_THICKNESS:Pe._defaultThickness=Re;break;case n.AnnotationEditorParamsType.INK_COLOR:Pe._defaultColor=Re;break;case n.AnnotationEditorParamsType.INK_OPACITY:Pe._defaultOpacity=Re/100;break}}updateParams(le,Re){switch(le){case n.AnnotationEditorParamsType.INK_THICKNESS:ie(this,U,jn).call(this,Re);break;case n.AnnotationEditorParamsType.INK_COLOR:ie(this,f,$n).call(this,Re);break;case n.AnnotationEditorParamsType.INK_OPACITY:ie(this,I,Un).call(this,Re);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,Pe._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,Pe._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(Pe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Pe._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||Pe._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Pe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ie(this,K,Mt).call(this),ie(this,ee,Ot).call(this)),this.isAttachedToDOM||(this.parent.add(this),ie(this,Ae,pt).call(this)),ie(this,se,gt).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,r(this,x).disconnect(),de(this,x,null),super.remove())}setParent(le){!this.parent&&le?this._uiManager.removeShouldRescale(this):this.parent&&le===null&&this._uiManager.addShouldRescale(this),super.setParent(le)}onScaleChanging(){const[le,Re]=this.parentDimensions,Be=this.width*le,Fe=this.height*Re;this.setDimensions(Be,Fe)}enableEditMode(){r(this,w)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",r(this,R)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",r(this,R)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){r(this,w)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),de(this,w,!0),this.div.classList.add("disabled"),ie(this,se,gt).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(le){this._focusEventsAllowed&&(super.focusin(le),this.enableEditMode())}canvasPointerdown(le){le.button!==0||!this.isInEditMode()||r(this,w)||(this.setInForeground(),le.preventDefault(),le.type!=="mouse"&&this.div.focus(),ie(this,pe,Wn).call(this,le.offsetX,le.offsetY))}canvasPointermove(le){le.preventDefault(),ie(this,ye,fn).call(this,le.offsetX,le.offsetY)}canvasPointerup(le){le.preventDefault(),ie(this,F,pn).call(this,le)}canvasPointerleave(le){ie(this,F,pn).call(this,le)}get isResizable(){return!this.isEmpty()&&r(this,w)}render(){if(this.div)return this.div;let le,Re;this.width&&(le=this.x,Re=this.y),super.render(),i.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Qe=>{var Te;return(Te=this.div)==null?void 0:Te.setAttribute("aria-label",Qe)});const[Be,Fe,je,He]=ie(this,te,Hn).call(this);if(this.setAt(Be,Fe,0,0),this.setDims(je,He),ie(this,K,Mt).call(this),this.width){const[Qe,Te]=this.parentDimensions;this.setAspectRatio(this.width*Qe,this.height*Te),this.setAt(le*Qe,Re*Te,this.width*Qe,this.height*Te),de(this,O,!0),ie(this,Ae,pt).call(this),this.setDims(this.width*Qe,this.height*Te),ie(this,Y,ot).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ie(this,ee,Ot).call(this),this.div}setDimensions(le,Re){const Be=Math.round(le),Fe=Math.round(Re);if(r(this,L)===Be&&r(this,_)===Fe)return;de(this,L,Be),de(this,_,Fe),this.canvas.style.visibility="hidden";const[je,He]=this.parentDimensions;this.width=le/je,this.height=Re/He,this.fixAndSetPosition(),r(this,w)&&ie(this,ge,gn).call(this,le,Re),ie(this,Ae,pt).call(this),ie(this,Y,ot).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(le,Re,Be){var Z,ae,me;if(le instanceof a.InkAnnotationElement)return null;const Fe=super.deserialize(le,Re,Be);Fe.thickness=le.thickness,Fe.color=n.Util.makeHexColor(...le.color),Fe.opacity=le.opacity;const[je,He]=Fe.pageDimensions,Qe=Fe.width*je,Te=Fe.height*He,Ke=Fe.parentScale,$e=le.thickness/2;de(Fe,w,!0),de(Fe,L,Math.round(Qe)),de(Fe,_,Math.round(Te));const{paths:V,rect:o,rotation:D}=le;for(let{bezier:we}of V){we=ie(Z=Pe,Ne,Kn).call(Z,we,o,D);const Oe=[];Fe.paths.push(Oe);let Me=Ke*(we[0]-$e),Ge=Ke*(we[1]-$e);for(let Le=2,Ve=we.length;Le<Ve;Le+=6){const Ye=Ke*(we[Le]-$e),Je=Ke*(we[Le+1]-$e),Ze=Ke*(we[Le+2]-$e),it=Ke*(we[Le+3]-$e),st=Ke*(we[Le+4]-$e),rt=Ke*(we[Le+5]-$e);Oe.push([[Me,Ge],[Ye,Je],[Ze,it],[st,rt]]),Me=st,Ge=rt}const De=ie(this,ce,Yn).call(this,Oe);Fe.bezierPath2D.push(De)}const z=ie(ae=Fe,We,_n).call(ae);return de(Fe,u,Math.max(i.AnnotationEditor.MIN_SIZE,z[2]-z[0])),de(Fe,g,Math.max(i.AnnotationEditor.MIN_SIZE,z[3]-z[1])),ie(me=Fe,ge,gn).call(me,Qe,Te),Fe}serialize(){if(this.isEmpty())return null;const le=this.getRect(0,0),Re=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:Re,thickness:this.thickness,opacity:this.opacity,paths:ie(this,ze,Jn).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,le),pageIndex:this.pageIndex,rect:le,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};let m=Pe;g=new WeakMap,u=new WeakMap,M=new WeakMap,C=new WeakMap,k=new WeakMap,R=new WeakMap,T=new WeakMap,w=new WeakMap,P=new WeakMap,O=new WeakMap,x=new WeakMap,L=new WeakMap,_=new WeakMap,A=new WeakMap,U=new WeakSet,jn=function(le){const Re=this.thickness;this.addCommands({cmd:()=>{this.thickness=le,ie(this,se,gt).call(this)},undo:()=>{this.thickness=Re,ie(this,se,gt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},f=new WeakSet,$n=function(le){const Re=this.color;this.addCommands({cmd:()=>{this.color=le,ie(this,Y,ot).call(this)},undo:()=>{this.color=Re,ie(this,Y,ot).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},I=new WeakSet,Un=function(le){le/=100;const Re=this.opacity;this.addCommands({cmd:()=>{this.opacity=le,ie(this,Y,ot).call(this)},undo:()=>{this.opacity=Re,ie(this,Y,ot).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},te=new WeakSet,Hn=function(){const{parentRotation:le,parentDimensions:[Re,Be]}=this;switch(le){case 90:return[0,Be,Be,Re];case 180:return[Re,Be,Re,Be];case 270:return[Re,0,Be,Re];default:return[0,0,Re,Be]}},oe=new WeakSet,dn=function(){const{ctx:le,color:Re,opacity:Be,thickness:Fe,parentScale:je,scaleFactor:He}=this;le.lineWidth=Fe*je/He,le.lineCap="round",le.lineJoin="round",le.miterLimit=10,le.strokeStyle=`${Re}${(0,y.opacityToHex)(Be)}`},pe=new WeakSet,Wn=function(le,Re){this.canvas.addEventListener("contextmenu",l.noContextMenu),this.canvas.addEventListener("pointerleave",r(this,C)),this.canvas.addEventListener("pointermove",r(this,M)),this.canvas.addEventListener("pointerup",r(this,k)),this.canvas.removeEventListener("pointerdown",r(this,R)),this.isEditing=!0,r(this,O)||(de(this,O,!0),ie(this,Ae,pt).call(this),this.thickness||(this.thickness=Pe._defaultThickness),this.color||(this.color=Pe._defaultColor||i.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Pe._defaultOpacity)),this.currentPath.push([le,Re]),de(this,P,!1),ie(this,oe,dn).call(this),de(this,A,()=>{ie(this,d,qn).call(this),r(this,A)&&window.requestAnimationFrame(r(this,A))}),window.requestAnimationFrame(r(this,A))},ye=new WeakSet,fn=function(le,Re){const[Be,Fe]=this.currentPath.at(-1);if(this.currentPath.length>1&&le===Be&&Re===Fe)return;const je=this.currentPath;let He=r(this,T);if(je.push([le,Re]),de(this,P,!0),je.length<=2){He.moveTo(...je[0]),He.lineTo(le,Re);return}je.length===3&&(de(this,T,He=new Path2D),He.moveTo(...je[0])),ie(this,b,Gn).call(this,He,...je.at(-3),...je.at(-2),le,Re)},xe=new WeakSet,Vn=function(){if(this.currentPath.length===0)return;const le=this.currentPath.at(-1);r(this,T).lineTo(...le)},j=new WeakSet,zn=function(le,Re){de(this,A,null),le=Math.min(Math.max(le,0),this.canvas.width),Re=Math.min(Math.max(Re,0),this.canvas.height),ie(this,ye,fn).call(this,le,Re),ie(this,xe,Vn).call(this);let Be;if(this.currentPath.length!==1)Be=ie(this,N,Xn).call(this);else{const Te=[le,Re];Be=[[Te,Te.slice(),Te.slice(),Te]]}const Fe=r(this,T),je=this.currentPath;this.currentPath=[],de(this,T,new Path2D);const He=()=>{this.allRawPaths.push(je),this.paths.push(Be),this.bezierPath2D.push(Fe),this.rebuild()},Qe=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ie(this,K,Mt).call(this),ie(this,ee,Ot).call(this)),ie(this,se,gt).call(this))};this.addCommands({cmd:He,undo:Qe,mustExec:!0})},d=new WeakSet,qn=function(){if(!r(this,P))return;de(this,P,!1);const le=Math.ceil(this.thickness*this.parentScale),Re=this.currentPath.slice(-3),Be=Re.map(He=>He[0]),Fe=Re.map(He=>He[1]);Math.min(...Be)-le,Math.max(...Be)+le,Math.min(...Fe)-le,Math.max(...Fe)+le;const{ctx:je}=this;je.save(),je.clearRect(0,0,this.canvas.width,this.canvas.height);for(const He of this.bezierPath2D)je.stroke(He);je.stroke(r(this,T)),je.restore()},b=new WeakSet,Gn=function(le,Re,Be,Fe,je,He,Qe){const Te=(Re+Fe)/2,Ke=(Be+je)/2,$e=(Fe+He)/2,V=(je+Qe)/2;le.bezierCurveTo(Te+2*(Fe-Te)/3,Ke+2*(je-Ke)/3,$e+2*(Fe-$e)/3,V+2*(je-V)/3,$e,V)},N=new WeakSet,Xn=function(){const le=this.currentPath;if(le.length<=2)return[[le[0],le[0],le.at(-1),le.at(-1)]];const Re=[];let Be,[Fe,je]=le[0];for(Be=1;Be<le.length-2;Be++){const[o,D]=le[Be],[z,Z]=le[Be+1],ae=(o+z)/2,me=(D+Z)/2,we=[Fe+2*(o-Fe)/3,je+2*(D-je)/3],Oe=[ae+2*(o-ae)/3,me+2*(D-me)/3];Re.push([[Fe,je],we,Oe,[ae,me]]),[Fe,je]=[ae,me]}const[He,Qe]=le[Be],[Te,Ke]=le[Be+1],$e=[Fe+2*(He-Fe)/3,je+2*(Qe-je)/3],V=[Te+2*(He-Te)/3,Ke+2*(Qe-Ke)/3];return Re.push([[Fe,je],$e,V,[Te,Ke]]),Re},Y=new WeakSet,ot=function(){if(this.isEmpty()){ie(this,X,It).call(this);return}ie(this,oe,dn).call(this);const{canvas:le,ctx:Re}=this;Re.setTransform(1,0,0,1,0,0),Re.clearRect(0,0,le.width,le.height),ie(this,X,It).call(this);for(const Be of this.bezierPath2D)Re.stroke(Be)},F=new WeakSet,pn=function(le){this.canvas.removeEventListener("pointerleave",r(this,C)),this.canvas.removeEventListener("pointermove",r(this,M)),this.canvas.removeEventListener("pointerup",r(this,k)),this.canvas.addEventListener("pointerdown",r(this,R)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",l.noContextMenu)},10),ie(this,j,zn).call(this,le.offsetX,le.offsetY),this.addToAnnotationStorage(),this.setInBackground()},K=new WeakSet,Mt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",i.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(le=>{var Re;return(Re=this.canvas)==null?void 0:Re.setAttribute("aria-label",le)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ee=new WeakSet,Ot=function(){de(this,x,new ResizeObserver(le=>{const Re=le[0].contentRect;Re.width&&Re.height&&this.setDimensions(Re.width,Re.height)})),r(this,x).observe(this.div)},Ae=new WeakSet,pt=function(){if(!r(this,O))return;const[le,Re]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*le),this.canvas.height=Math.ceil(this.height*Re),ie(this,X,It).call(this)},ge=new WeakSet,gn=function(le,Re){const Be=ie(this,_e,Dt).call(this),Fe=(le-Be)/r(this,u),je=(Re-Be)/r(this,g);this.scaleFactor=Math.min(Fe,je)},X=new WeakSet,It=function(){const le=ie(this,_e,Dt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+le,this.translationY*this.scaleFactor+le)},ce=new WeakSet,Yn=function(le){const Re=new Path2D;for(let Be=0,Fe=le.length;Be<Fe;Be++){const[je,He,Qe,Te]=le[Be];Be===0&&Re.moveTo(...je),Re.bezierCurveTo(He[0],He[1],Qe[0],Qe[1],Te[0],Te[1])}return Re},Ee=new WeakSet,mn=function(le,Re,Be){const[Fe,je,He,Qe]=Re;switch(Be){case 0:for(let Te=0,Ke=le.length;Te<Ke;Te+=2)le[Te]+=Fe,le[Te+1]=Qe-le[Te+1];break;case 90:for(let Te=0,Ke=le.length;Te<Ke;Te+=2){const $e=le[Te];le[Te]=le[Te+1]+Fe,le[Te+1]=$e+je}break;case 180:for(let Te=0,Ke=le.length;Te<Ke;Te+=2)le[Te]=He-le[Te],le[Te+1]+=je;break;case 270:for(let Te=0,Ke=le.length;Te<Ke;Te+=2){const $e=le[Te];le[Te]=He-le[Te+1],le[Te+1]=Qe-$e}break;default:throw new Error("Invalid rotation")}return le},Ne=new WeakSet,Kn=function(le,Re,Be){const[Fe,je,He,Qe]=Re;switch(Be){case 0:for(let Te=0,Ke=le.length;Te<Ke;Te+=2)le[Te]-=Fe,le[Te+1]=Qe-le[Te+1];break;case 90:for(let Te=0,Ke=le.length;Te<Ke;Te+=2){const $e=le[Te];le[Te]=le[Te+1]-je,le[Te+1]=$e-Fe}break;case 180:for(let Te=0,Ke=le.length;Te<Ke;Te+=2)le[Te]=He-le[Te],le[Te+1]-=je;break;case 270:for(let Te=0,Ke=le.length;Te<Ke;Te+=2){const $e=le[Te];le[Te]=Qe-le[Te+1],le[Te+1]=He-$e}break;default:throw new Error("Invalid rotation")}return le},ze=new WeakSet,Jn=function(le,Re,Be,Fe){var Ke,$e;const je=[],He=this.thickness/2,Qe=le*Re+He,Te=le*Be+He;for(const V of this.paths){const o=[],D=[];for(let z=0,Z=V.length;z<Z;z++){const[ae,me,we,Oe]=V[z],Me=le*ae[0]+Qe,Ge=le*ae[1]+Te,De=le*me[0]+Qe,Le=le*me[1]+Te,Ve=le*we[0]+Qe,Ye=le*we[1]+Te,Je=le*Oe[0]+Qe,Ze=le*Oe[1]+Te;z===0&&(o.push(Me,Ge),D.push(Me,Ge)),o.push(De,Le,Ve,Ye,Je,Ze),D.push(De,Le),z===Z-1&&D.push(Je,Ze)}je.push({bezier:ie(Ke=Pe,Ee,mn).call(Ke,o,Fe,this.rotation),points:ie($e=Pe,Ee,mn).call($e,D,Fe,this.rotation)})}return je},We=new WeakSet,_n=function(){let le=1/0,Re=-1/0,Be=1/0,Fe=-1/0;for(const je of this.paths)for(const[He,Qe,Te,Ke]of je){const $e=n.Util.bezierBoundingBox(...He,...Qe,...Te,...Ke);le=Math.min(le,$e[0]),Be=Math.min(Be,$e[1]),Re=Math.max(Re,$e[2]),Fe=Math.max(Fe,$e[3])}return[le,Be,Re,Fe]},_e=new WeakSet,Dt=function(){return r(this,w)?Math.ceil(this.thickness*this.parentScale):0},se=new WeakSet,gt=function(le=!1){if(this.isEmpty())return;if(!r(this,w)){ie(this,Y,ot).call(this);return}const Re=ie(this,We,_n).call(this),Be=ie(this,_e,Dt).call(this);de(this,u,Math.max(i.AnnotationEditor.MIN_SIZE,Re[2]-Re[0])),de(this,g,Math.max(i.AnnotationEditor.MIN_SIZE,Re[3]-Re[1]));const Fe=Math.ceil(Be+r(this,u)*this.scaleFactor),je=Math.ceil(Be+r(this,g)*this.scaleFactor),[He,Qe]=this.parentDimensions;this.width=Fe/He,this.height=je/Qe,this.setAspectRatio(Fe,je);const Te=this.translationX,Ke=this.translationY;this.translationX=-Re[0],this.translationY=-Re[1],ie(this,Ae,pt).call(this),ie(this,Y,ot).call(this),de(this,L,Fe),de(this,_,je),this.setDims(Fe,je);const $e=le?Be/this.scaleFactor/2:0;this.translate(Te-this.translationX-$e,Ke-this.translationY-$e)},q(m,ce),q(m,Ee),q(m,Ne),nt(m,"_defaultColor",null),nt(m,"_defaultOpacity",1),nt(m,"_defaultThickness",1),nt(m,"_type","ink"),t.InkEditor=m},(e,t,s)=>{var m,g,u,M,C,k,R,T,w,P,O,St,L,Et,A,Lt,v,bn,B,Qn,Q,Zn,$,yn,fe,Nt,G,es;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var n=s(1),i=s(4),a=s(6),l=s(29);const Se=class extends i.AnnotationEditor{constructor(j){super({...j,name:"stampEditor"});q(this,O);q(this,L);q(this,A);q(this,v);q(this,B);q(this,Q);q(this,$);q(this,fe);q(this,G);q(this,m,null);q(this,g,null);q(this,u,null);q(this,M,null);q(this,C,null);q(this,k,null);q(this,R,null);q(this,T,null);q(this,w,!1);q(this,P,!1);de(this,M,j.bitmapUrl),de(this,C,j.bitmapFile)}static initialize(j){i.AnnotationEditor.initialize(j)}static get supportedTypes(){const j=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",j.map(h=>`image/${h}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(j){return this.supportedTypes.includes(j)}static paste(j,h){h.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:j.getAsFile()})}remove(){var j,h;r(this,g)&&(de(this,m,null),this._uiManager.imageManager.deleteId(r(this,g)),(j=r(this,k))==null||j.remove(),de(this,k,null),(h=r(this,R))==null||h.disconnect(),de(this,R,null)),super.remove()}rebuild(){if(!this.parent){r(this,g)&&ie(this,A,Lt).call(this);return}super.rebuild(),this.div!==null&&(r(this,g)&&ie(this,A,Lt).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(r(this,u)||r(this,m)||r(this,M)||r(this,C))}get isResizable(){return!0}render(){if(this.div)return this.div;let j,h;if(this.width&&(j=this.x,h=this.y),super.render(),this.div.hidden=!0,r(this,m)?ie(this,v,bn).call(this):ie(this,A,Lt).call(this),this.width){const[d,c]=this.parentDimensions;this.setAt(j*d,h*c,this.width*d,this.height*c)}return this.div}static deserialize(j,h,d){if(j instanceof l.StampAnnotationElement)return null;const c=super.deserialize(j,h,d),{rect:b,bitmapUrl:S,bitmapId:N,isSvg:W,accessibilityData:Y}=j;N&&d.imageManager.isValidId(N)?de(c,g,N):de(c,M,S),de(c,w,W);const[E,F]=c.pageDimensions;return c.width=(b[2]-b[0])/E,c.height=(b[3]-b[1])/F,Y&&(c.altTextData=Y),c}serialize(j=!1,h=null){if(this.isEmpty())return null;const d={annotationType:n.AnnotationEditorType.STAMP,bitmapId:r(this,g),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:r(this,w),structTreeParentId:this._structTreeParentId};if(j)return d.bitmapUrl=ie(this,fe,Nt).call(this,!0),d.accessibilityData=this.altTextData,d;const{decorative:c,altText:b}=this.altTextData;if(!c&&b&&(d.accessibilityData={type:"Figure",alt:b}),h===null)return d;h.stamps||(h.stamps=new Map);const S=r(this,w)?(d.rect[2]-d.rect[0])*(d.rect[3]-d.rect[1]):null;if(!h.stamps.has(r(this,g)))h.stamps.set(r(this,g),{area:S,serialized:d}),d.bitmap=ie(this,fe,Nt).call(this,!1);else if(r(this,w)){const N=h.stamps.get(r(this,g));S>N.area&&(N.area=S,N.serialized.bitmap.close(),N.serialized.bitmap=ie(this,fe,Nt).call(this,!1))}return d}};let y=Se;m=new WeakMap,g=new WeakMap,u=new WeakMap,M=new WeakMap,C=new WeakMap,k=new WeakMap,R=new WeakMap,T=new WeakMap,w=new WeakMap,P=new WeakMap,O=new WeakSet,St=function(j,h=!1){if(!j){this.remove();return}de(this,m,j.bitmap),h||(de(this,g,j.id),de(this,w,j.isSvg)),ie(this,v,bn).call(this)},L=new WeakSet,Et=function(){de(this,u,null),this._uiManager.enableWaiting(!1),r(this,k)&&this.div.focus()},A=new WeakSet,Lt=function(){if(r(this,g)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(r(this,g)).then(h=>ie(this,O,St).call(this,h,!0)).finally(()=>ie(this,L,Et).call(this));return}if(r(this,M)){const h=r(this,M);de(this,M,null),this._uiManager.enableWaiting(!0),de(this,u,this._uiManager.imageManager.getFromUrl(h).then(d=>ie(this,O,St).call(this,d)).finally(()=>ie(this,L,Et).call(this)));return}if(r(this,C)){const h=r(this,C);de(this,C,null),this._uiManager.enableWaiting(!0),de(this,u,this._uiManager.imageManager.getFromFile(h).then(d=>ie(this,O,St).call(this,d)).finally(()=>ie(this,L,Et).call(this)));return}const j=document.createElement("input");j.type="file",j.accept=Se.supportedTypesStr,de(this,u,new Promise(h=>{j.addEventListener("change",async()=>{if(!j.files||j.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const d=await this._uiManager.imageManager.getFromFile(j.files[0]);ie(this,O,St).call(this,d)}h()}),j.addEventListener("cancel",()=>{this.remove(),h()})}).finally(()=>ie(this,L,Et).call(this))),j.click()},v=new WeakSet,bn=function(){const{div:j}=this;let{width:h,height:d}=r(this,m);const[c,b]=this.pageDimensions,S=.75;if(this.width)h=this.width*c,d=this.height*b;else if(h>S*c||d>S*b){const E=Math.min(S*c/h,S*b/d);h*=E,d*=E}const[N,W]=this.parentDimensions;this.setDims(h*N/c,d*W/b),this._uiManager.enableWaiting(!1);const Y=de(this,k,document.createElement("canvas"));j.append(Y),j.hidden=!1,ie(this,$,yn).call(this,h,d),ie(this,G,es).call(this),r(this,P)||(this.parent.addUndoableEditor(this),de(this,P,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},B=new WeakSet,Qn=function(j,h){var S;const[d,c]=this.parentDimensions;this.width=j/d,this.height=h/c,this.setDims(j,h),(S=this._initialOptions)!=null&&S.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,r(this,T)!==null&&clearTimeout(r(this,T)),de(this,T,setTimeout(()=>{de(this,T,null),ie(this,$,yn).call(this,j,h)},200))},Q=new WeakSet,Zn=function(j,h){const{width:d,height:c}=r(this,m);let b=d,S=c,N=r(this,m);for(;b>2*j||S>2*h;){const W=b,Y=S;b>2*j&&(b=b>=16384?Math.floor(b/2)-1:Math.ceil(b/2)),S>2*h&&(S=S>=16384?Math.floor(S/2)-1:Math.ceil(S/2));const E=new OffscreenCanvas(b,S);E.getContext("2d").drawImage(N,0,0,W,Y,0,0,b,S),N=E.transferToImageBitmap()}return N},$=new WeakSet,yn=function(j,h){j=Math.ceil(j),h=Math.ceil(h);const d=r(this,k);if(!d||d.width===j&&d.height===h)return;d.width=j,d.height=h;const c=r(this,w)?r(this,m):ie(this,Q,Zn).call(this,j,h),b=d.getContext("2d");b.filter=this._uiManager.hcmFilter,b.drawImage(c,0,0,c.width,c.height,0,0,j,h)},fe=new WeakSet,Nt=function(j){if(j){if(r(this,w)){const c=this._uiManager.imageManager.getSvgUrl(r(this,g));if(c)return c}const h=document.createElement("canvas");return{width:h.width,height:h.height}=r(this,m),h.getContext("2d").drawImage(r(this,m),0,0),h.toDataURL()}if(r(this,w)){const[h,d]=this.pageDimensions,c=Math.round(this.width*h*a.PixelsPerInch.PDF_TO_CSS_UNITS),b=Math.round(this.height*d*a.PixelsPerInch.PDF_TO_CSS_UNITS),S=new OffscreenCanvas(c,b);return S.getContext("2d").drawImage(r(this,m),0,0,r(this,m).width,r(this,m).height,0,0,c,b),S.transferToImageBitmap()}return structuredClone(r(this,m))},G=new WeakSet,es=function(){de(this,R,new ResizeObserver(j=>{const h=j[0].contentRect;h.width&&h.height&&ie(this,B,Qn).call(this,h.width,h.height)})),r(this,R).observe(this.div)},nt(y,"_type","stamp"),t.StampEditor=y}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return l.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return y.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return m.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return g.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var t=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),l=__w_pdfjs_require__(5),y=__w_pdfjs_require__(29),m=__w_pdfjs_require__(14),g=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfWorker=""+new URL("pdf.worker-e3f005b2.js",import.meta.url).href;var FileSaver_min={exports:{}};(function(e,t){(function(s,n){n()})(commonjsGlobal,function(){function s(g,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function n(g,u,M){var C=new XMLHttpRequest;C.open("GET",g),C.responseType="blob",C.onload=function(){m(C.response,u,M)},C.onerror=function(){console.error("could not download file")},C.send()}function i(g){var u=new XMLHttpRequest;u.open("HEAD",g,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function a(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(u)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,y=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!y?function(g,u,M){var C=l.URL||l.webkitURL,k=document.createElement("a");u=u||g.name||"download",k.download=u,k.rel="noopener",typeof g=="string"?(k.href=g,k.origin===location.origin?a(k):i(k.href)?n(g,u,M):a(k,k.target="_blank")):(k.href=C.createObjectURL(g),setTimeout(function(){C.revokeObjectURL(k.href)},4e4),setTimeout(function(){a(k)},0))}:"msSaveOrOpenBlob"in navigator?function(g,u,M){if(u=u||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(s(g,M),u);else if(i(g))n(g,u,M);else{var C=document.createElement("a");C.href=g,C.target="_blank",setTimeout(function(){a(C)})}}:function(g,u,M,C){if(C=C||open("","_blank"),C&&(C.document.title=C.document.body.innerText="downloading..."),typeof g=="string")return n(g,u,M);var k=g.type==="application/octet-stream",R=/constructor/i.test(l.HTMLElement)||l.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||k&&R||y)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var x=w.result;x=T?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=x:location=x,C=null},w.readAsDataURL(g)}else{var P=l.URL||l.webkitURL,O=P.createObjectURL(g);C?C.location=O:location.href=O,C=null,setTimeout(function(){P.revokeObjectURL(O)},4e4)}});l.saveAs=m.saveAs=m,e.exports=m})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;function generateCanvas(e,t,s){const{width:n,height:i,words:a,compression:l}=e,y=document.createElement("canvas"),m=y.getContext("2d");return y.width=s?t.width:n,y.height=s?t.height:i,m.drawImage(t,0,0,y.width,y.height),a.trim().length>0&&addWaterMark(e,m),{src:y.toDataURL("image/jpeg",l),newCanvas:y}}function addWaterMark(e,t){const{width:s,height:n,words:i,fontSize:a,color:l,rotate:y,row:m,col:g,startX:u,startY:M,offsetX:C,offsetY:k}=e;t.fillStyle="rgba(255, 255, 255, 0.2)",t.fillRect(0,0,s,n),t.rotate(parseInt(y)*Math.PI/180),t.fillStyle=l,t.font=`normal ${a}px Arial`,Array.from({length:m}).forEach((R,T)=>{Array.from({length:g}).forEach((w,P)=>{if(i.includes(`
`))multipleWords(t,T,P,i,a,u,M,C,k);else{const O=+u+P*(i.length*a+C),x=+M+T*(k+a);t.fillText(i,O,x)}})})}function multipleWords(e,t,s,n,i,a,l,y,m){const g=n.split(`
`),u=g.length,M=Math.max(...g.map(C=>C.length));for(let C=0;C<u;C++){const k=+a+s*(M*i+y)+(M-g[C].length)/2*i,R=+l+t*m+i*1.3*(C+u*t);e.fillText(g[C],k,R)}}function downloadImage(e,t,s){const n=new Image;n.src=e,n.onload=()=>{const i=document.createElement("canvas");i.width=+t.width,i.height=+t.height;const a=i.getContext("2d");a==null||a.drawImage(n,0,0);const l=i.toDataURL("image/png"),y=dataURLToBlob(l),m=document.createElement("a");m.href=URL.createObjectURL(y),m.download=s,m.style.display="none",document.body.appendChild(m),m.click(),document.body.removeChild(m)}}function dataURLToBlob(e){const t=e.split(";base64,"),s=t[0].split(":")[1],n=window.atob(t[1]),i=n.length,a=new Uint8Array(i);for(let l=0;l<i;++l)a[l]=n.charCodeAt(l);return new Blob([a],{type:s})}pdfExports.GlobalWorkerOptions.workerSrc=pdfWorker;const imgData=[];async function loadPdf(e,t,s,n,i){const a=pdfExports.getDocument({url:e,disableRange:!0});imgData.length=0,a.promise.then(l=>{s.value&&(s.value.innerHTML="");const y=l.numPages;for(let m=1;m<=y;m++)l.getPage(m).then(g=>{const u=document.createElement("canvas"),M=u.getContext("2d"),C=g.getViewport({scale:1});u.width=C.width,u.height=C.height,t.width=u.width,t.height=u.height;const k={canvasContext:M,viewport:C};g.render(k).promise.then(function(){const{newCanvas:T,src:w}=generateCanvas(t,u,i);s.value.appendChild(T),imgData.push({src:w,width:u.width,height:u.height}),imgData.length===y&&(n.value=!1)})})})}function img2Pdf(e,t){const s={autoFirstPage:!1,compress:!1},n=new PDFDocument(s),i=n.pipe(blobStream());for(let a=0;a<imgData.length;a++){const{src:l,width:y,height:m}=imgData[a];n.addPage({size:[y,m]}),n.image(l,0,0)}n.end(),i.on("finish",function(){var a=i.toBlob("application/pdf");FileSaver_minExports.saveAs(a,e),t.value=!1})}const _hoisted_1$4={"pl-100":""},_hoisted_2$3={relative:"","h-10":""},_hoisted_3$3=createBaseVNode("label",{absolute:"","left-0":"",for:"load"},[createBaseVNode("span",{class:"m-3 text-sm btn"}," Load ")],-1),_hoisted_4$3=["disabled"],_hoisted_5$2={"m-3":"","w-fit":"","border-1":"","border-rd":"","p-3":"","mr-5":""},_hoisted_6$2={key:0},_hoisted_7$2=["src"],_hoisted_8$2={key:1},_hoisted_9$2={key:2,"w-200":"","h-168":"",flex:"","justify-center":"","flex-items-center":""},_hoisted_10$2=createBaseVNode("label",{for:"load","border-1":"","border-dashed":""},[createBaseVNode("span",{"icon-btn":"","text-10":"","display-block":"","i-carbon:task-add":""})],-1),_hoisted_11$1=[_hoisted_10$2],_hoisted_12$1={position:"fixed","left-0":"","top-0":"","right-0":"","bottom-0":"",flex:"","items-center":"","justify-center":"","bg-teal-100":""},_hoisted_13=createBaseVNode("span",{class:"loading btn","i-carbon-3rd-party-connected":"","text-4xl":""},null,-1),_hoisted_14=[_hoisted_13],_sfc_main$6=defineComponent({__name:"TheMain",props:{config:null},setup(e){watch(e.config,t);function t(){s=!1,y&&(g.value.src=generateCanvas(e.config,y,s).src),C.value&&loadPdf(C.value,e.config,R,k,s)}let s=!1,n="",i="";function a(P){s=!0,l();const O=P.target.files;if(O&&O.length>0){const x=O[0];n=x.type,i=x.name,n.startsWith("image/")&&M(x),n==="application/pdf"&&(k.value=!0,T(x))}}function l(){y&&(y=null),u.value&&(u.value=""),C.value&&(C.value=""),R.value&&(R.value.innerHTML="")}let y;const m=ref(),g=ref(),u=ref("");function M(P){const O=new FileReader;O.readAsDataURL(P),O.onload=()=>{const x=new Image;x.src=O.result,y=x,x.onload=()=>{e.config.width=x.width,e.config.height=x.height,g.value.src=generateCanvas(e.config,x,s).src}},O.onloadend=()=>{u.value=O.result}}const C=ref(""),k=ref(!1),R=ref();function T(P){const O=new FileReader;O.readAsDataURL(P),O.onloadend=()=>{C.value=O.result,loadPdf(C.value,e.config,R,k,s)}}function w(){if(!(u.value===""&&C.value==="")){if(n.startsWith("image/")&&y){const P=generateCanvas(e.config,y,s).src;downloadImage(P,e.config,i)}n==="application/pdf"&&img2Pdf(i,k)}}return(P,O)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("input",{id:"load",absolute:"","left-0":"","m-3":"","w-16":"","opacity-0":"",type:"file",accept:"image/*, application/pdf",onChange:a},null,32),_hoisted_3$3,createBaseVNode("button",{absolute:"","left-25":"",class:"m-3 text-sm btn",disabled:unref(u)===""&&unref(C)==="",onClick:w}," Download ",8,_hoisted_4$3)]),createBaseVNode("div",_hoisted_5$2,[unref(u)?(openBlock(),createElementBlock("div",_hoisted_6$2,[createBaseVNode("img",{ref_key:"preview",ref:g,src:unref(u),style:normalizeStyle(`width: ${e.config.width}px;height: ${e.config.height}px;max-width: unset;`)},null,12,_hoisted_7$2),createBaseVNode("canvas",{ref_key:"canvas",ref:m,"display-none":""},null,512)])):unref(C)?(openBlock(),createElementBlock("div",_hoisted_8$2,[createBaseVNode("div",{ref_key:"wrap",ref:R},null,512)])):(openBlock(),createElementBlock("div",_hoisted_9$2,_hoisted_11$1))]),withDirectives(createBaseVNode("div",_hoisted_12$1,_hoisted_14,512),[[vShow,unref(k)]])]))}});var _a;const isClient=typeof window<"u",isDef=e=>typeof e<"u",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",noop=()=>{};isClient&&((_a=window==null?void 0:window.navigator)!=null&&_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(e){return typeof e=="function"?e():unref(e)}function createFilterWrapper(e,t){function s(...n){return new Promise((i,a)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(a)})}return s}const bypassFilter=e=>e();function pausableFilter(e=bypassFilter){const t=ref(!0);function s(){t.value=!1}function n(){t.value=!0}const i=(...a)=>{t.value&&e(...a)};return{isActive:readonly(t),pause:s,resume:n,eventFilter:i}}function identity(e){return e}function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}function resolveRef(e){return typeof e=="function"?computed(e):ref(e)}function tryOnMounted(e,t=!0){getCurrentInstance()?onMounted(e):t?e():nextTick(e)}function useToggle(e=!1,t={}){const{truthyValue:s=!0,falsyValue:n=!1}=t,i=isRef(e),a=ref(e);function l(y){if(arguments.length)return a.value=y,a.value;{const m=resolveUnref(s);return a.value=a.value===m?resolveUnref(n):m,a.value}}return i?l:[a,l]}var __getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__objRest$5=(e,t)=>{var s={};for(var n in e)__hasOwnProp$6.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&__getOwnPropSymbols$6)for(var n of __getOwnPropSymbols$6(e))t.indexOf(n)<0&&__propIsEnum$6.call(e,n)&&(s[n]=e[n]);return s};function watchWithFilter(e,t,s={}){const n=s,{eventFilter:i=bypassFilter}=n,a=__objRest$5(n,["eventFilter"]);return watch(e,createFilterWrapper(i,t),a)}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(e,t,s)=>t in e?__defProp$2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,__spreadValues$2=(e,t)=>{for(var s in t||(t={}))__hasOwnProp$2.call(t,s)&&__defNormalProp$2(e,s,t[s]);if(__getOwnPropSymbols$2)for(var s of __getOwnPropSymbols$2(t))__propIsEnum$2.call(t,s)&&__defNormalProp$2(e,s,t[s]);return e},__spreadProps$2=(e,t)=>__defProps$2(e,__getOwnPropDescs$2(t)),__objRest$1=(e,t)=>{var s={};for(var n in e)__hasOwnProp$2.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&__getOwnPropSymbols$2)for(var n of __getOwnPropSymbols$2(e))t.indexOf(n)<0&&__propIsEnum$2.call(e,n)&&(s[n]=e[n]);return s};function watchPausable(e,t,s={}){const n=s,{eventFilter:i}=n,a=__objRest$1(n,["eventFilter"]),{eventFilter:l,pause:y,resume:m,isActive:g}=pausableFilter(i);return{stop:watchWithFilter(e,t,__spreadProps$2(__spreadValues$2({},a),{eventFilter:l})),pause:y,resume:m,isActive:g}}function unrefElement(e){var t;const s=resolveUnref(e);return(t=s==null?void 0:s.$el)!=null?t:s}const defaultWindow=isClient?window:void 0;function useEventListener(...e){let t,s,n,i;if(isString(e[0])||Array.isArray(e[0])?([s,n,i]=e,t=defaultWindow):[t,s,n,i]=e,!t)return noop;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const a=[],l=()=>{a.forEach(u=>u()),a.length=0},y=(u,M,C,k)=>(u.addEventListener(M,C,k),()=>u.removeEventListener(M,C,k)),m=watch(()=>[unrefElement(t),resolveUnref(i)],([u,M])=>{l(),u&&a.push(...s.flatMap(C=>n.map(k=>y(u,C,k,M))))},{immediate:!0,flush:"post"}),g=()=>{m(),l()};return tryOnScopeDispose(g),g}function useSupported(e,t=!1){const s=ref(),n=()=>s.value=!!e();return n(),tryOnMounted(n,t),s}function useMediaQuery(e,t={}){const{window:s=defaultWindow}=t,n=useSupported(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let i;const a=ref(!1),l=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",y):i.removeListener(y))},y=()=>{n.value&&(l(),i=s.matchMedia(resolveRef(e).value),a.value=i.matches,"addEventListener"in i?i.addEventListener("change",y):i.addListener(y))};return watchEffect(y),tryOnScopeDispose(()=>l()),a}function cloneFnJSON(e){return JSON.parse(JSON.stringify(e))}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};const handlers=_global[globalKey];function getSSRHandler(e,t){return handlers[e]||t}function guessSerializerType(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var __defProp$k=Object.defineProperty,__getOwnPropSymbols$m=Object.getOwnPropertySymbols,__hasOwnProp$m=Object.prototype.hasOwnProperty,__propIsEnum$m=Object.prototype.propertyIsEnumerable,__defNormalProp$k=(e,t,s)=>t in e?__defProp$k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,__spreadValues$k=(e,t)=>{for(var s in t||(t={}))__hasOwnProp$m.call(t,s)&&__defNormalProp$k(e,s,t[s]);if(__getOwnPropSymbols$m)for(var s of __getOwnPropSymbols$m(t))__propIsEnum$m.call(t,s)&&__defNormalProp$k(e,s,t[s]);return e};const StorageSerializers={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(e,t,s,n={}){var i;const{flush:a="pre",deep:l=!0,listenToStorageChanges:y=!0,writeDefaults:m=!0,mergeDefaults:g=!1,shallow:u,window:M=defaultWindow,eventFilter:C,onError:k=v=>{console.error(v)}}=n,R=(u?shallowRef:ref)(t);if(!s)try{s=getSSRHandler("getDefaultStorage",()=>{var v;return(v=defaultWindow)==null?void 0:v.localStorage})()}catch(v){k(v)}if(!s)return R;const T=resolveUnref(t),w=guessSerializerType(T),P=(i=n.serializer)!=null?i:StorageSerializers[w],{pause:O,resume:x}=watchPausable(R,()=>L(R.value),{flush:a,deep:l,eventFilter:C});return M&&y&&(useEventListener(M,"storage",U),useEventListener(M,customStorageEventName,A)),U(),R;function L(v){try{if(v==null)s.removeItem(e);else{const f=P.write(v),B=s.getItem(e);B!==f&&(s.setItem(e,f),M&&M.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:e,oldValue:B,newValue:f,storageArea:s}})))}}catch(f){k(f)}}function _(v){const f=v?v.newValue:s.getItem(e);if(f==null)return m&&T!==null&&s.setItem(e,P.write(T)),T;if(!v&&g){const B=P.read(f);return isFunction(g)?g(B,T):w==="object"&&!Array.isArray(B)?__spreadValues$k(__spreadValues$k({},T),B):B}else return typeof f!="string"?f:P.read(f)}function A(v){U(v.detail)}function U(v){if(!(v&&v.storageArea!==s)){if(v&&v.key==null){R.value=T;return}if(!(v&&v.key!==e)){O();try{R.value=_(v)}catch(f){k(f)}finally{v?nextTick(x):x()}}}}}function usePreferredDark(e){return useMediaQuery("(prefers-color-scheme: dark)",e)}var __defProp$j=Object.defineProperty,__getOwnPropSymbols$l=Object.getOwnPropertySymbols,__hasOwnProp$l=Object.prototype.hasOwnProperty,__propIsEnum$l=Object.prototype.propertyIsEnumerable,__defNormalProp$j=(e,t,s)=>t in e?__defProp$j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,__spreadValues$j=(e,t)=>{for(var s in t||(t={}))__hasOwnProp$l.call(t,s)&&__defNormalProp$j(e,s,t[s]);if(__getOwnPropSymbols$l)for(var s of __getOwnPropSymbols$l(t))__propIsEnum$l.call(t,s)&&__defNormalProp$j(e,s,t[s]);return e};function useColorMode(e={}){const{selector:t="html",attribute:s="class",initialValue:n="auto",window:i=defaultWindow,storage:a,storageKey:l="vueuse-color-scheme",listenToStorageChanges:y=!0,storageRef:m,emitAuto:g}=e,u=__spreadValues$j({auto:"",light:"light",dark:"dark"},e.modes||{}),M=usePreferredDark({window:i}),C=computed(()=>M.value?"dark":"light"),k=m||(l==null?ref(n):useStorage(l,n,a,{window:i,listenToStorageChanges:y})),R=computed({get(){return k.value==="auto"&&!g?C.value:k.value},set(O){k.value=O}}),T=getSSRHandler("updateHTMLAttrs",(O,x,L)=>{const _=i==null?void 0:i.document.querySelector(O);if(_)if(x==="class"){const A=L.split(/\s/g);Object.values(u).flatMap(U=>(U||"").split(/\s/g)).filter(Boolean).forEach(U=>{A.includes(U)?_.classList.add(U):_.classList.remove(U)})}else _.setAttribute(x,L)});function w(O){var x;const L=O==="auto"?C.value:O;T(t,s,(x=u[L])!=null?x:L)}function P(O){e.onChanged?e.onChanged(O,w):w(O)}return watch(R,P,{flush:"post",immediate:!0}),g&&watch(C,()=>P(R.value),{flush:"post"}),tryOnMounted(()=>P(R.value)),R}var __defProp$i=Object.defineProperty,__defProps$7=Object.defineProperties,__getOwnPropDescs$7=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$k=Object.getOwnPropertySymbols,__hasOwnProp$k=Object.prototype.hasOwnProperty,__propIsEnum$k=Object.prototype.propertyIsEnumerable,__defNormalProp$i=(e,t,s)=>t in e?__defProp$i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,__spreadValues$i=(e,t)=>{for(var s in t||(t={}))__hasOwnProp$k.call(t,s)&&__defNormalProp$i(e,s,t[s]);if(__getOwnPropSymbols$k)for(var s of __getOwnPropSymbols$k(t))__propIsEnum$k.call(t,s)&&__defNormalProp$i(e,s,t[s]);return e},__spreadProps$7=(e,t)=>__defProps$7(e,__getOwnPropDescs$7(t));function useDark(e={}){const{valueDark:t="dark",valueLight:s="",window:n=defaultWindow}=e,i=useColorMode(__spreadProps$7(__spreadValues$i({},e),{onChanged:(y,m)=>{var g;e.onChanged?(g=e.onChanged)==null||g.call(e,y==="dark"):m(y)},modes:{dark:t,light:s}})),a=usePreferredDark({window:n});return computed({get(){return i.value==="dark"},set(y){y===a.value?i.value="auto":i.value=y?"dark":"light"}})}var SwipeDirection;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,s)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,__spreadValues=(e,t)=>{for(var s in t||(t={}))__hasOwnProp.call(t,s)&&__defNormalProp(e,s,t[s]);if(__getOwnPropSymbols)for(var s of __getOwnPropSymbols(t))__propIsEnum.call(t,s)&&__defNormalProp(e,s,t[s]);return e};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);function useVModel(e,t,s,n={}){var i,a,l;const{clone:y=!1,passive:m=!1,eventName:g,deep:u=!1,defaultValue:M}=n,C=getCurrentInstance(),k=s||(C==null?void 0:C.emit)||((i=C==null?void 0:C.$emit)==null?void 0:i.bind(C))||((l=(a=C==null?void 0:C.proxy)==null?void 0:a.$emit)==null?void 0:l.bind(C==null?void 0:C.proxy));let R=g;t||(t="modelValue"),R=g||R||`update:${t.toString()}`;const T=P=>y?isFunction(y)?y(P):cloneFnJSON(P):P,w=()=>isDef(e[t])?T(e[t]):M;if(m){const P=w(),O=ref(P);return watch(()=>e[t],x=>O.value=T(x)),watch(O,x=>{(x!==e[t]||u)&&k(R,x)},{deep:u}),O}else return computed({get(){return w()},set(P){k(R,P)}})}const isDark=useDark(),toggleDark=useToggle(isDark),_export_sfc=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},_sfc_main$5={},_hoisted_1$3={"mt-6":"","inline-flex":"","gap-2":"","text-xl":""},_hoisted_2$2=createBaseVNode("div",{"i-carbon-sun":"","dark:i-carbon-moon":""},null,-1),_hoisted_3$2=[_hoisted_2$2],_hoisted_4$2=createBaseVNode("a",{"i-carbon-logo-github":"","icon-btn":"",rel:"noreferrer",href:"https://github.com/Efrice/watermark.git",target:"_blank",title:"GitHub"},null,-1);function _sfc_render(e,t){return openBlock(),createElementBlock("nav",_hoisted_1$3,[createBaseVNode("button",{"icon-btn":"",onClick:t[0]||(t[0]=s=>("toggleDark"in e?e.toggleDark:unref(toggleDark))())},_hoisted_3$2),_hoisted_4$2])}const __unplugin_components_1=_export_sfc(_sfc_main$5,[["render",_sfc_render]]),_sfc_main$4=defineComponent({__name:"TheSwitch",props:{value:{type:Boolean}},emits:["update:value"],setup(e,{emit:t}){function s(){t("update:value",!e.value)}return(n,i)=>(openBlock(),createElementBlock("button",{class:normalizeClass(["switch",`${e.value?"light":""}`]),type:"button",role:"switch"},[createBaseVNode("span",{class:normalizeClass(["check",`${e.value?"light":""}`]),onClick:s},null,2)],2))}}),TheSwitch_vue_vue_type_style_index_0_scoped_a5ee2d55_lang="",__unplugin_components_0=_export_sfc(_sfc_main$4,[["__scopeId","data-v-a5ee2d55"]]),__MACROS_useVModel=(...e)=>{const t=getCurrentInstance().proxy.$props,s={};for(const n of e)if(typeof n=="string")s[n]=useVModel(t,n,void 0,{eventName:`update:${n}`,passive:!0});else{const[i,a=i,l=`update:${i}`,y={}]=n;s[i]=useVModel(t,a,void 0,{eventName:l,passive:!0,...y})}return s},WATERMWRK_KEY="watermark-config",defaultConfig={words:"仅用于工作认证",width:0,height:0,fontSize:16,color:"rgba(0, 0, 0, 0.2)",rotate:-15,row:7,col:7,startX:-100,startY:0,offsetX:48,offsetY:48,compression:1,saveConfig:!1},tooltips={words:"the words of watermark, use enter key to wrap lines",width:"the width of image, pdf is not useful",height:"the height of image, pdf is not useful",fontSize:"the font size of the watermark",color:"the color of the watermark, rgba is three-primary color, last parameter is opacity",rotate:"the rotation angle of watermark",row:"the rows of watermarks",col:"the columns of watermarks",startX:"the position along the X axis of first watermark",startY:"the position along the Y axis of first watermark",offsetX:"the offset along the X axis between two watermarks",offsetY:"the offset along the Y axis between two watermarks",compression:"the level for compression",saveConfig:"save the config for next use"},_hoisted_1$2={"pb-1":"",flex:"","justify-between":"","flex-items-center":""},_hoisted_2$1=["for"],_hoisted_3$1=["title"],_hoisted_4$1={key:0},_hoisted_5$1={key:1},_hoisted_6$1=["id"],_hoisted_7$1={key:2,pt3:""},_hoisted_8$1={"py-2":""},_hoisted_9$1={key:3},_hoisted_10$1=["id"],_hoisted_11={key:4},_hoisted_12=["id"],_sfc_main$3=defineComponent({__name:"TheInput",props:{value:{type:[String,Boolean]},property:null},emits:["update:value"],setup(e){const{value:t}=__MACROS_useVModel("value");return(s,n)=>{const i=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("label",{for:e.property},[createTextVNode(toDisplayString(e.property)+" ",1),createBaseVNode("span",{"i-carbon-help":"","inline-block":"","text-sm":"","float-right":"",mt1:"",ml1:"",title:unref(tooltips)[e.property]},null,8,_hoisted_3$1)],8,_hoisted_2$1),e.property==="saveConfig"?(openBlock(),createElementBlock("div",_hoisted_4$1,[createVNode(i,{value:unref(t),"onUpdate:value":n[0]||(n[0]=a=>s.$emit("update:value",a))},null,8,["value"])])):e.property==="words"&&typeof unref(t)=="string"?(openBlock(),createElementBlock("div",_hoisted_5$1,[withDirectives(createBaseVNode("textarea",{id:e.property,"onUpdate:modelValue":n[1]||(n[1]=a=>isRef(t)?t.value=a:null),"px-1.5":"",cols:"25",rows:"2",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none"},`\r
      `,8,_hoisted_6$1),[[vModelText,unref(t)]])])):e.property==="compression"?(openBlock(),createElementBlock("div",_hoisted_7$1,[withDirectives(createBaseVNode("input",{"w-58":"",class:"range",title:"Lower the Value, Better the Compression",type:"range",min:"0",max:"1","onUpdate:modelValue":n[2]||(n[2]=a=>isRef(t)?t.value=a:null),step:"0.1"},null,512),[[vModelText,unref(t)]]),createBaseVNode("p",_hoisted_8$1,toDisplayString(unref(t)),1)])):typeof unref(t)=="number"?(openBlock(),createElementBlock("div",_hoisted_9$1,[withDirectives(createBaseVNode("input",{id:e.property,"onUpdate:modelValue":n[3]||(n[3]=a=>isRef(t)?t.value=a:null),type:"number",p:"x-0 y-1","w-58":"",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none"},null,8,_hoisted_10$1),[[vModelText,unref(t)]])])):(openBlock(),createElementBlock("div",_hoisted_11,[withDirectives(createBaseVNode("input",{id:e.property,"onUpdate:modelValue":n[4]||(n[4]=a=>isRef(t)?t.value=a:null),type:"text",p:"x-0 y-1","w-58":"",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none"},null,8,_hoisted_12),[[vModelText,unref(t)]])]))])}}}),_hoisted_1$1={"float-left":"","w-100":"",mt:"52px","pt-2":"","border-1":"","border-rd":""},_hoisted_2=createBaseVNode("div",{"i-material-symbols-add-photo-alternate-rounded":"","inline-block":"","text-3xl":""},null,-1),_hoisted_3=createBaseVNode("div",{"i-carbon-add":"","inline-block":"","text-3xl":""},null,-1),_hoisted_4=createBaseVNode("div",{"i-material-symbols:picture-as-pdf":"","inline-block":"","text-3xl":""},null,-1),_hoisted_5=createBaseVNode("p",null," Watermark ",-1),_hoisted_6=createBaseVNode("p",null,[createBaseVNode("em",{"text-sm":"",op75:""},"Add watermark to image/pdf. ")],-1),_hoisted_7=createBaseVNode("div",{"py-2":""},null,-1),_hoisted_8={"px-5":""},_hoisted_9=createBaseVNode("div",{"py-4":""},null,-1),_hoisted_10=createBaseVNode("p",null,[createBaseVNode("em",{"text-sm":"",op75:""},"No sever, so safe")],-1),_sfc_main$2=defineComponent({__name:"TheControl",props:{config:null},setup(e){return(t,s)=>{const n=_sfc_main$3,i=__unplugin_components_1;return openBlock(),createElementBlock("div",_hoisted_1$1,[_hoisted_2,_hoisted_3,_hoisted_4,_hoisted_5,_hoisted_6,_hoisted_7,createBaseVNode("div",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.config,(a,l)=>(openBlock(),createBlock(n,{property:l,value:a,"onUpdate:value":y=>t.$emit("update",l,y)},null,8,["property","value","onUpdate:value"]))),256))]),_hoisted_9,_hoisted_10,createVNode(i)])}}}),_sfc_main$1=defineComponent({__name:"index",setup(e){const t=localStorage.getItem(WATERMWRK_KEY),s=t&&JSON.parse(t),n=reactive(i(s)||defaultConfig);function i(y){const{rotate:m,startX:g,startY:u}=y;return{...y,rotate:Number(m),startX:Number(g),startY:Number(u)}}const a=["words","color","rotate","startX","startY"];function l(y,m){y==="saveConfig"?n[y]=!!m:a.includes(y)?n[y]=m:n[y]=+m,y==="saveConfig"&&m===!1?localStorage.setItem(WATERMWRK_KEY,""):n.saveConfig&&localStorage.setItem(WATERMWRK_KEY,JSON.stringify(n))}return(y,m)=>{const g=_sfc_main$2,u=_sfc_main$6;return openBlock(),createElementBlock("div",null,[createVNode(g,{config:unref(n),onUpdate:l},null,8,["config"]),createVNode(u,{config:unref(n)},null,8,["config"])])}}}),_hoisted_1={"font-sans":"",p:"x-4 y-4",text:"center gray-700 dark:gray-200"},_sfc_main=defineComponent({__name:"App",setup(e){return(t,s)=>(openBlock(),createElementBlock("main",_hoisted_1,[createVNode(_sfc_main$1)]))}}),tailwind="",main="",__uno="",app=createApp(_sfc_main);app.mount("#app");
